<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Posts on Falasool</title><link>https://falasool.github.io/post/</link><description>Recent content in Posts on Falasool</description><generator>Hugo -- gohugo.io</generator><lastBuildDate>Tue, 02 Apr 2024 19:41:35 +0800</lastBuildDate><atom:link href="https://falasool.github.io/post/index.xml" rel="self" type="application/rss+xml"/><item><title>JS|åŸå‹é“¾çš„ç†è§£</title><link>https://falasool.github.io/2024/prototype-chain/</link><pubDate>Tue, 02 Apr 2024 19:41:35 +0800</pubDate><guid>https://falasool.github.io/2024/prototype-chain/</guid><description>&lt;img src="https://cdn.jsdelivr.net/gh/Falasool/blog-pic-bed@main/blog202404101944461.jpg" alt="Featured image of post JS|åŸå‹é“¾çš„ç†è§£" />&lt;p>&lt;img src="https://cdn.jsdelivr.net/gh/Falasool/blog-pic-bed@main/blog202404101944461.jpg"
loading="lazy"
alt="951712748932_.pic_hd"
>&lt;/p>
&lt;p>å…ˆä¸Šå›¾&lt;/p>
&lt;h2 id="ä¸€äº›æ¦‚å¿µ">ä¸€äº›æ¦‚å¿µ&lt;/h2>
&lt;p>JS ä¸­ä¸‡ç‰©çš†å¯¹è±¡ï¼Œåˆ†ä¸ºæ™®é€šå¯¹è±¡å’Œå‡½æ•°å¯¹è±¡ã€‚&lt;/p>
&lt;p>æ¯ä¸ªå¯¹è±¡éƒ½æœ‰ä¸€ä¸ªç§æœ‰å±æ€§ &lt;code>[[Prototype]]&lt;/code> ï¼Œç§æœ‰å±æ€§æŒ‡å‘åŸå‹ prototypeï¼Œç”±äºåŸå‹ prototype ä¹Ÿæ˜¯å¯¹è±¡ï¼Œå®ƒä¼šé‡å¤è¿™ä¸€å¾ªç¯å±‚å±‚å‘ä¸Šï¼Œç›´åˆ°ä¸€ä¸ªå¯¹è±¡çš„åŸå‹ä¸º null&lt;/p>
&lt;p>&lt;code>__proto__&lt;/code> æ˜¯ &lt;code>[[Prototype]]&lt;/code> çš„ getter/setter&lt;/p>
&lt;p>&lt;code>__proto__&lt;/code> çš„ value å¿…é¡»æ˜¯å¯¹è±¡/null&lt;/p>
&lt;p>åŸå‹é“¾ä¸èƒ½å½¢æˆé—­ç¯&lt;/p>
&lt;h2 id="æ™®é€šçš„åŸå‹é“¾">æ™®é€šçš„åŸå‹é“¾&lt;/h2>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">p&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="nx">Parent&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>æˆ‘å£°æ˜äº†ä¸€ä¸ªå¯¹è±¡ pï¼Œpä½œä¸ºParentçš„å®ä¾‹ï¼Œèƒ½æ‹¿åˆ°Parenté‡Œé¢„å…ˆå®šä¹‰çš„å±æ€§å’Œæ–¹æ³•ï¼Œè¿™å°±æ˜¯&lt;!-- raw HTML omitted -->ç»§æ‰¿&lt;!-- raw HTML omitted -->&lt;/p>
&lt;p>&lt;code>p.__proto__ === Parent.prototype&lt;/code> ï¼Œ&lt;code>__proto__&lt;/code> åƒæŒ‡é’ˆï¼ŒæŒ‡å‘å®ä¾‹ç»§æ‰¿çš„å±æ€§&amp;amp;æ–¹æ³•&lt;/p>
&lt;p>&lt;code>Parent.prototype.constructor === Parent&lt;/code>ï¼Œ&lt;code>Parent.prototype&lt;/code>æœ¬èº«æ˜¯Parent çš„ä¸€ä¸ªå®ä¾‹ï¼Œåè¿‡æ¥è¯´ï¼Œ &lt;code>Parent.prototype&lt;/code>çš„æ„é€ å™¨æ˜¯Parent&lt;/p>
&lt;p>å›¾ä¸­çš„è™šçº¿ï¼Œp =====&amp;gt; Parentï¼Œå› ä¸º&lt;code>p.constructor&lt;/code>å®é™…ä¸Šæ˜¯ä»&lt;code>Parent.prototype&lt;/code>ç»§æ‰¿æ¥çš„â¬†ï¸&lt;/p>
&lt;h2 id="jsä¸­çš„function-å’Œ-object">JSä¸­çš„Function å’Œ Object&lt;/h2>
&lt;p>è®¾è®¡æ€æƒ³ï¼šé«˜å†…èšã€ä½è€¦åˆ&lt;/p>
&lt;ul>
&lt;li>
&lt;p>Functionçš„constructoræ˜¯Functionï¼Œæ‰€ä»¥&lt;code>Function.__proto__&lt;/code> æŒ‡å‘ &lt;code>Function.prototype&lt;/code>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Objectçš„constructoræ˜¯Function&lt;/p>
&lt;/li>
&lt;/ul>
&lt;p>ç›˜å¤å¼€å¤©åœ°ï¼šå…ˆæœ‰ &lt;code>Object.prototype&lt;/code> ï¼Œå†æœ‰ &lt;code>Function.prototype&lt;/code> ï¼Œå†æœ‰ Function å’ŒObject&lt;/p>
&lt;blockquote>
&lt;p>å½“æˆ‘ä»¬è¯´ä¸€ä¸ªå¯¹è±¡ç»§æ‰¿è‡ªæŸä¸ª Constructor æ—¶ï¼Œå…¶å®æˆ‘ä»¬æ˜¯åœ¨è¯´ï¼Œä»è¿™ä¸ªå¯¹è±¡çš„åŸå‹é“¾ä¸Šæ‰¾åˆ°äº† Constructor.prototypeã€‚&lt;/p>
&lt;p>æ‰€ä»¥ï¼ŒObject.prototype å¯ä»¥å…ˆäº Object å‡ºç°ï¼Œç„¶åç”¨è¿™ä¸ª prototype æ„é€ å‡º Function.prototypeï¼Œæœ‰äº† Function.prototype å†æ„é€ å‡º Function ï¼Œ Object è¿™å‡ ä¸ªæ„é€ å™¨ã€‚ç„¶åæŠŠ Object.prototype æŒ‚åˆ° Object ä¸Šï¼ŒFunction.prototype æŒ‚åˆ°Function ä¸Šã€‚&lt;/p>
&lt;p>å¥½æ¯”æ —å­ä¸­çš„ obj æ„é€ è‡ª p ï¼Œè€Œ obj æ„é€ å‡ºæ¥ä¹‹åï¼Œp æ‰æŒ‚åˆ° A ä¸Šï¼Œæˆ‘ä»¬è¯´ obj æ˜¯ A ç±»å‹çš„ï¼Œä½†æ˜¯ obj æ˜¯ç”¨ A.prototype(å°±æ˜¯ p ) æ„é€ å‡ºæ¥çš„ã€‚&lt;/p>
&lt;p>åˆ†æå¯å¾—ï¼šå…¨å±€ä¸‹çš„ Object æ„é€ è‡ª Function.prototypeï¼Œ Function.prototype æ„é€ è‡ª Object.prototypeã€‚&lt;/p>
&lt;/blockquote>
&lt;h2 id="è”ç³»">è”ç³»&lt;/h2>
&lt;p>&lt;code>instanceof&lt;/code> çš„åŸç†ï¼šåŸå‹é“¾ï¼ˆéå†ç›®æ ‡çš„åŸå‹é“¾ï¼Œç›´åˆ°æ‰¾åˆ°å³è¾¹å˜é‡çš„ prototypeï¼‰&lt;/p>
&lt;p>ç‰¹æ®Šæƒ…å†µï¼š&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nb">Function&lt;/span> &lt;span class="k">instanceof&lt;/span> &lt;span class="nb">Object&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="c1">// true
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nb">Object&lt;/span> &lt;span class="k">instanceof&lt;/span> &lt;span class="nb">Function&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="c1">// true
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Objectçš„æ„é€ å™¨æ˜¯Functionï¼ŒåŒæ—¶JSä¸­ä¸‡ç‰©çš†å¯¹è±¡ğŸ’¦&lt;/p>
&lt;h2 id="å‚è€ƒ--è‡´è°¢">å‚è€ƒ &amp;amp; è‡´è°¢&lt;/h2>
&lt;p>&lt;a class="link" href="https://segmentfault.com/a/1190000021232132" target="_blank" rel="noopener"
>https://segmentfault.com/a/1190000021232132&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
&lt;a class="link" href="https://zhuanlan.zhihu.com/p/84876191" target="_blank" rel="noopener"
>https://zhuanlan.zhihu.com/p/84876191&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
&lt;a class="link" href="https://juejin.cn/post/7057544558057357348" target="_blank" rel="noopener"
>https://juejin.cn/post/7057544558057357348&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
&lt;a class="link" href="https://segmentfault.com/a/1190000042363833" target="_blank" rel="noopener"
>https://segmentfault.com/a/1190000042363833&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
&lt;/p></description></item><item><title>æ— éšœç¢åŒ– Accessibility</title><link>https://falasool.github.io/2024/a11y/</link><pubDate>Thu, 21 Mar 2024 20:28:27 +0800</pubDate><guid>https://falasool.github.io/2024/a11y/</guid><description>&lt;p>ä»€ä¹ˆæ˜¯ Accessibilityï¼Ÿ&lt;/p>
&lt;ul>
&lt;li>ä»¥ä»»ä½•æ–¹å¼è®¿é—®ç½‘ç»œçš„ç”¨æˆ·ï¼ˆç§»åŠ¨ç«¯ã€ç”µè§†ã€æ‰‹è¡¨&amp;hellip;ï¼‰ï¼Œæ— è®ºå¬è§‰ã€è§†è§‰ã€èº«ä½“å’Œè®¤çŸ¥èƒ½åŠ›å¦‚ä½•ï¼ˆè§†éšœã€å¬éšœã€è¿åŠ¨åŠŸèƒ½éšœç¢&amp;hellip;ï¼‰ï¼Œåº”ç”¨ç¨‹åºéƒ½æ˜¯å¯ä»¥ç†è§£å’Œä½¿ç”¨çš„&lt;/li>
&lt;li>ç½‘ç«™ä¸åº”è¯¥é€ æˆä¼¤å®³ï¼ˆè¯±å‘å…‰æ•æ€§ç™«ç—«ç­‰ï¼‰&lt;/li>
&lt;/ul>
&lt;p>å¯ä»¥ä»ä»€ä¹ˆæ–¹é¢ä½œå‡ºåŠªåŠ›ï¼Ÿ&lt;/p>
&lt;h2 id="html">HTML&lt;/h2>
&lt;p>è¯­ä¹‰åŒ–ç»“æ„&lt;/p>
&lt;ol>
&lt;li>&lt;code>&amp;lt;button&amp;gt; vs &amp;lt;div&amp;gt;&lt;/code>&lt;/li>
&lt;/ol>
&lt;p>æä¾›äº†é»˜è®¤æ ·å¼ã€æä¾›äº†é”®ç›˜çš„æ— éšœç¢ï¼ˆtab é”®æ›´æ¢æŒ‰é’®ã€enter é”®ç‚¹å‡»æŒ‰é’®ï¼‰&lt;/p>
&lt;ol start="2">
&lt;li>&lt;code>&amp;lt;h1&amp;gt; &amp;lt;h2&amp;gt; &amp;lt;p&amp;gt; vs &amp;lt;font&amp;gt; &amp;lt;br&amp;gt; &amp;lt;hr&amp;gt; &amp;lt;i&amp;gt;&lt;/code>&lt;/li>
&lt;/ol>
&lt;p>ä¾¿äºå±å¹•é˜…è¯»å™¨è¯†åˆ«æ ‡é¢˜å’Œæ®µè½ç»“æ„ ğŸ†š æ²¡æœ‰ä»»ä½•å¯å®šä½çš„æ ‡è®°çš„ä¸€å¤§å¨&lt;/p>
&lt;ol start="3">
&lt;li>æ›¿ä»£æ–‡æœ¬&lt;/li>
&lt;/ol>
&lt;ul>
&lt;li>
&lt;p>&lt;code>alt=&amp;quot;&amp;quot;&lt;/code> å±æ€§ï¼ŒåŒ…å«å¯¹å›¾åƒçš„æè¿°ï¼Œå‘æ— æ³•çœ‹åˆ°/å¬åˆ°æŸäº›å†…å®¹çš„ç”¨æˆ·ä¼ è¾¾å…¶å«ä¹‰å’Œå†…å®¹ã€‚å¦‚æœ alt ä¸ºç©ºï¼Œè¡¨ç¤ºè¯¥å›¾åƒåªç”¨äºè£…é¥°ï¼ˆæˆ– &lt;code>role =â€œpresentationâ€&lt;/code> é˜»æ­¢è¾…åŠ©è®¾å¤‡è¯»å‡ºæ›¿ä»£æ–‡æœ¬ï¼‰&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;code>title&lt;/code> å±æ€§ï¼Œå±å¹•é˜…è¯»å™¨ä¹Ÿä¼šè¯»å‡º title çš„å†…å®¹&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;code>&amp;lt;track&amp;gt;&lt;/code> å…ƒç´ å‘è§†é¢‘/éŸ³é¢‘æ·»åŠ æ–‡æœ¬è½¨é“&lt;/p>
&lt;/li>
&lt;/ul>
&lt;ol start="4">
&lt;li>æä¾›å…ƒç´ ä¹‹é—´çš„è”ç³»å’Œä¸Šä¸‹æ–‡ï¼Œä¾‹å¦‚ &lt;code>&amp;lt;label for=&amp;quot;&amp;quot;&amp;gt;&amp;lt;input&amp;gt;&lt;/code>&lt;/li>
&lt;/ol>
&lt;h3 id="wai-aria-å±æ€§">WAI-ARIA å±æ€§&lt;/h3>
&lt;p>å½“åŸç”Ÿ HTML å…ƒç´ æ— æ³•æ»¡è¶³éœ€æ±‚æ—¶ï¼Œè€ƒè™‘ ARIAï¼ˆAccessible Rich Internet Applicationsï¼‰å±æ€§ï¼Œå¸®åŠ©è§£è¯»ç½‘é¡µç»“æ„å’Œäº¤äº’æ–¹å¼&lt;/p>
&lt;ul>
&lt;li>aria-hiddenï¼šè¡¨ç¤ºæ˜¯å¦å¯¹è¾…åŠ©æŠ€æœ¯éšè—è¯¥å…ƒç´ &lt;/li>
&lt;li>roleï¼šåˆ¶å®šå…ƒç´ çš„è§’è‰²&lt;/li>
&lt;li>aria-labelledbyï¼šçˆ¶èŠ‚ç‚¹è®¾ç½®ï¼Œä¼šé“¾æ¥åˆ°å¯¹åº” id çš„å…ƒç´ ï¼Œæ–¹ä¾¿æŠŠåˆ†æ•£åœ¨å¤šä¸ª DOMï¼Œé€»è¾‘ä¸Šå±äºä¸€ä¸ªæ•´ä½“çš„å†…å®¹æ‰“åŒ…é˜…è¯»&lt;/li>
&lt;/ul>
&lt;h2 id="css">CSS&lt;/h2>
&lt;p>è¦ç¡®ä¿æ—  css çš„æƒ…å†µä¸‹ï¼Œå†…å®¹å¯è¯»ï¼Œé¡ºåºæœ‰æ„ä¹‰&lt;/p>
&lt;h3 id="é¢œè‰²åŠå¯¹æ¯”åº¦">é¢œè‰²åŠå¯¹æ¯”åº¦&lt;/h3>
&lt;p>WebAIM çš„ &lt;a class="link" href="https://webaim.org/resources/contrastchecker/" target="_blank" rel="noopener"
>Color Contrast Checker&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
ä¹‹ç±»çš„å·¥å…·æ¥æ£€æŸ¥æ–¹æ¡ˆæ˜¯å¦æœ‰è¶³å¤Ÿå¯¹æ¯”åº¦&lt;/p>
&lt;h3 id="éšè—çš„å†…å®¹">éšè—çš„å†…å®¹&lt;/h3>
&lt;p>&lt;code>position: absolute&lt;/code> å¥½äº &lt;code>visibility: hidden; display: none;&lt;/code> ï¼Œå‰è€…ä¸é˜»æ­¢å±å¹•é˜…è¯»å™¨è¯»å–è¢«éšè—çš„å†…å®¹&lt;/p>
&lt;h2 id="javascript">JavaScript&lt;/h2>
&lt;p>ç»“æ„äº¤ç»™ HTMLï¼Œå°½é‡ä¸ä½¿ç”¨ JS é…åˆ &lt;code>&amp;lt;div&amp;gt;&lt;/code> ä¼ªé€ åŠŸèƒ½ï¼ˆunobtrusive åŸåˆ™ï¼‰&lt;/p>
&lt;h3 id="ç„¦ç‚¹ç®¡ç†">ç„¦ç‚¹ç®¡ç†&lt;/h3>
&lt;p>ç›¸æ¯”è¾ƒ&lt;code>&amp;lt;button&amp;gt;&amp;lt;a&amp;gt;&lt;/code> è¿™æ ·è‡ªå¸¦è¯­ä¹‰çš„å…ƒç´ ï¼Œ&lt;code>&amp;lt;div&amp;gt;&lt;/code> ä¸èƒ½ç”¨&lt;code>.foucs()&lt;/code> ï¼Œéœ€è¦é…åˆ&lt;code>tabindex=&amp;quot;-1&amp;quot;&lt;/code> å±æ€§ï¼Œå’Œ&lt;code>.pop:focus-visible {outline: 0}&lt;/code>&lt;/p>
&lt;ol>
&lt;li>åœºæ™¯æ˜¯ç°åœ¨å¾ˆå¸¸è§çš„å•é¡µé¢é‡Œï¼Œè¿›è¡Œè·¯ç”±åˆ‡æ¢/ajax æ›´æ”¹å†…å®¹æ—¶ï¼Œè¿›è¡Œç„¦ç‚¹é‡ç½®ï¼Œè®©è¾…åŠ©é˜…è¯»è®¾å¤‡é‡å¤´å¼€å§‹è¯»ï¼Œæ–¹ä¾¿è§†éšœäººå£«&lt;/li>
&lt;/ol>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-diff" data-lang="diff">&lt;span class="line">&lt;span class="cl">&amp;lt;nav&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;lt;a href=&amp;#34;/&amp;#34;&amp;gt;Home&amp;lt;/a&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;lt;a href=&amp;#34;/goods&amp;#34;&amp;gt;goods&amp;lt;/a&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;lt;a href=&amp;#34;/user&amp;#34;&amp;gt;user&amp;lt;/a&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&amp;lt;/nav&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&amp;lt;main&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="gi">+ // tabindex=&amp;#34;-1&amp;#34;ï¼Œå…ƒç´ å¯èšç„¦ï¼Œä¸å¯é€šè¿‡é”®ç›˜å¯¼èˆªè®¿é—®
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="gi">+ &amp;lt;h2 tabindex=&amp;#34;-1&amp;#34;&amp;gt;å•†åŸ&amp;lt;/h2&amp;gt;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="gi">&lt;/span> &amp;lt;Link /&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&amp;lt;/main&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="gi">+ &amp;lt;script&amp;gt;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="gi">+ function routerChange() {
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="gi">+ const heading = document.querySelector(&amp;#39;h2&amp;#39;)
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="gi">+ heading.focus()
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="gi">+ document.title = heading.textContent
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="gi">+ }
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="gi">+ &amp;lt;/script&amp;gt;
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;ol start="2">
&lt;li>Dialog é…åˆ A11y&lt;/li>
&lt;/ol>
&lt;p>éœ€æ±‚ï¼šå¼¹çª—æ‰“å¼€æ—¶èšç„¦äºå¼¹çª—ä¸Šï¼Œé™åˆ¶å¯¹é¡µé¢å…¶ä»–å…ƒç´ çš„è®¿é—®ï¼Œé€€å‡ºå¼¹çª—æ—¶ç„¦ç‚¹é€€å›åˆ°ä¹‹å‰çš„ä½ç½®&lt;/p>
&lt;p>ç»™å¼¹çª—å¢åŠ  aria å±æ€§&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-html" data-lang="html">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">section&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">id&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;alert-dialog&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">role&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;dialog&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">aria-modal&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;true&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">aria-label&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;home-dialog&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">tanindex&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;-1&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">h2&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>TITLE&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">h2&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> ...
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">button&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;/&lt;/span>&lt;span class="nt">button&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">section&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>è½¬ç§»ç„¦ç‚¹&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">function&lt;/span> &lt;span class="nx">showSelfAlert&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// è·å–ç›®æ ‡å…ƒç´ 
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="kd">var&lt;/span> &lt;span class="nx">mask&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nb">document&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">querySelector&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;.mask&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// æ˜¾ç¤ºå¼¹çª—
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">mask&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">style&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">display&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s1">&amp;#39;block&amp;#39;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ç­‰å¾…DOMæ›´æ–°ï¼Œåœ¨ä¸‹ä¸€ä¸ªäº‹ä»¶å¾ªç¯æ—¶
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">setTimeout&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kd">function&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// è®¾ç½®ç„¦ç‚¹åˆ°é®ç½©å±‚æˆ–å¼¹çª—çš„å…ƒç´ ä¸Š
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="kd">var&lt;/span> &lt;span class="nx">dialog&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nb">document&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">getElementById&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;aria-mask-dialog&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">dialog&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">dialog&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">focus&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="nx">section&lt;/span> &lt;span class="nx">aria&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="nx">live&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;polite&amp;#34;&lt;/span>&lt;span class="o">&amp;gt;&amp;lt;&lt;/span>&lt;span class="err">/section&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// aria-live é»˜è®¤å±æ€§ä¸ºoffï¼Œ
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// polite åœ¨ç³»ç»Ÿç©ºé—²æ—¶æœ—è¯»
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// assertive ç«‹åˆ»é˜…è¯»
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>é™åˆ¶ç„¦ç‚¹&lt;/p>
&lt;ul>
&lt;li>ä½¿ç”¨ event capturing ç›‘å¬ focus äº‹ä»¶ï¼Œå¤„ç†é˜¶æ®µï¼šæ•è·-ç›®æ ‡-å†’æ³¡&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="nb">document&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">addEventListener&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;focus&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kd">function&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">event&lt;/span>&lt;span class="p">){&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">dialog&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nb">document&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">getElementById&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;dialog&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">dialogOpen&lt;/span> &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> &lt;span class="o">!&lt;/span>&lt;span class="nx">dialog&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">contains&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">event&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">target&lt;/span>&lt;span class="p">)){&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">event&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">stopPropagation&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">dialog&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">focus&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>æ‰“å¼€å¼¹çª—å‰è®°å½•æœ€åä¸€ä¸ªç„¦ç‚¹å…ƒç´ ï¼Œç»“æŸåæŠŠç„¦ç‚¹æŒ‚å›å»&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// è·å–å½“å‰èšç„¦çš„å…ƒç´ 
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kd">let&lt;/span> &lt;span class="nx">lastFouceElement&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nb">document&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">activeElement&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// close dialog
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">lastFouceElement&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">focus&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="å‚è€ƒè‡´è°¢">å‚è€ƒ&amp;amp;è‡´è°¢&lt;/h2>
&lt;p>&lt;a class="link" href="https://developer.mozilla.org/zh-CN/docs/Learn/Accessibility" target="_blank" rel="noopener"
>https://developer.mozilla.org/zh-CN/docs/Learn/Accessibility&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
&lt;/p>
&lt;p>&lt;a class="link" href="https://juejin.cn/post/7133617403748941861" target="_blank" rel="noopener"
>Webå¦‚ä½•é€‚é…æ— éšœç¢ï¼Ÿ&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
&lt;/p></description></item><item><title>Html5|æ–°ç‰¹æ€§PushState</title><link>https://falasool.github.io/2024/html5-pushstate/</link><pubDate>Tue, 12 Mar 2024 19:39:03 +0800</pubDate><guid>https://falasool.github.io/2024/html5-pushstate/</guid><description>&lt;h2 id="history">History&lt;/h2>
&lt;p>&lt;code>history.pushState()&lt;/code> æ˜¯ä»€ä¹ˆï¼Ÿç®€å•æ¥è¯´ï¼Œæ˜¯ç›®å‰æµè§ˆå™¨å·²ç»æ™®éæ”¯æŒçš„ä¸€ç§æ·»åŠ æµè§ˆå†å²è®°å½•çš„æ–¹æ³•ã€‚&lt;/p>
&lt;p>é¦–å…ˆï¼Œè®©æˆ‘ä»¬æ¥çœ‹çœ‹ &lt;code>history&lt;/code> å¯¹è±¡ï¼Œå®ƒä¿å­˜äº†å½“å‰çª—å£è®¿é—®è¿‡çš„æ‰€æœ‰é¡µé¢ç½‘å€&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// Console
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="o">&amp;gt;&lt;/span> &lt;span class="nx">history&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">History&lt;/span> &lt;span class="p">{&lt;/span>&lt;span class="nx">length&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="mi">3&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">scrollRestoration&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;auto&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">state&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="kc">null&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">pushState&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">Æ’&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">replaceState&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">Æ’&lt;/span>&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>length &amp;amp; go/forward/back&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="nb">window&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">history&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">length&lt;/span> &lt;span class="c1">// 3ï¼Œå½“å‰çª—å£è®¿é—®è¿‡ä¸‰ä¸ªåœ°å€ï¼ˆåŒ…æ‹¬å½“å‰åœ°å€ï¼‰
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// æµè§ˆå™¨çš„å‰è¿›/åé€€æŒ‰é’®çš„å®é™…æ“ä½œï¼ˆä»browser cacheä¸­åŠ è½½ï¼‰ï¼Œä»¥ä¸‹ä¸¤è€…ç­‰åŒ
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">history&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">back&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="c1">// history.go(-1)
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">history&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">forward&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="c1">// history.go(1)
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">history&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">go&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="c1">// default ä¸º 0ï¼Œåˆ·æ–°å½“å‰é¡µé¢
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>scrollRestoration&lt;/p>
&lt;p>æ»šåŠ¨æ¢å¤è¡Œä¸ºï¼šauto/manual æ¢å¤åˆ°ç”¨æˆ·ä¹‹å‰æ»šåŠ¨åˆ°çš„åœ°æ–¹/ä¸ç®¡ï¼ˆ&lt;/p>
&lt;h3 id="pushstate">pushState&lt;/h3>
&lt;p>å‘å†å²ä¸­æ·»åŠ ä¸€æ¡è®°å½•ï¼ˆstateå¯¹è±¡ï¼Œæ–°é¡µé¢æ ‡é¢˜ï¼Œæ–°çš„åœ°å€ï¼‰&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="nb">window&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">history&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">pushState&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">state&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">title&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">url&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>å‚æ•°ï¼š&lt;/p>
&lt;ul>
&lt;li>stateï¼špopstateäº‹ä»¶è§¦å‘æ—¶ï¼ˆbackã€goã€forwardå‰è¿›åé€€ä¼šè§¦å‘ï¼‰ï¼Œstateå¯¹è±¡ä¼šä¼ å…¥å›è°ƒå‚æ•°ï¼Œé‚£ä¹ˆpopstateçš„å±æ€§stateå°±ä¼šåŒ…å«å½“å‰å†å²è®°å½•çš„stateå¯¹è±¡çš„ä¸€ä¸ªcopyï¼Œå‚¨å­˜åœ¨ç£ç›˜é‡Œï¼Œå½“æµè§ˆå™¨é‡å¯æ—¶å¯ä»¥æ¢å¤ï¼ˆ&amp;lt; 16MiBï¼‰ï¼Œæ›´å¤šç©ºé—´çš„è¯å»ºè®®ä½¿ç”¨ sessionStorage / localStorage&lt;/li>
&lt;li>titleï¼šæ–°ç½‘å€title&lt;/li>
&lt;li>urlï¼šæ–°ç½‘å€url&lt;/li>
&lt;/ul>
&lt;p>ğŸ™‹ é‚£æˆ‘ä¸ºä»€ä¹ˆç”¨ pushStateä¸ç”¨ &lt;code>window.location = '#foo'&lt;/code>å‘¢ï¼Ÿ&lt;/p>
&lt;p>pushStateçš„ä¼˜ç‚¹ï¼š&lt;/p>
&lt;ul>
&lt;li>
&lt;p>è·³è½¬åé¡µé¢ä¸ä¼šå‘èµ·æ–°çš„æ–‡æ¡£è¯·æ±‚&lt;/p>
&lt;/li>
&lt;li>
&lt;p>æ–°URLå¯ä»¥æ˜¯å’Œå½“å‰URLåŒæº(è·¨åŸŸæŠ¥é”™ï¼‰çš„ä»»æ„URLï¼Œæµè§ˆå™¨æ·»åŠ historyè®°å½•ä½†æ˜¯å¹¶ä¸çœŸçš„åŠ è½½ï¼Œä¹Ÿå°±æ˜¯è¯´å‡çš„ä¹Ÿæ²¡äº‹&lt;/p>
&lt;/li>
&lt;li>
&lt;p>pushçš„å†å²è®°å½•å¯ä»¥å…³è”ä»»æ„æ•°æ®ï¼ŒåŸºäºhashå€¼çš„è¯ï¼Œå¿…é¡»å°†ç›¸å…³æ•°æ®ç¼–ç åˆ°ä¸€ä¸ªçŸ­å­—ç¬¦ä¸²é‡Œ&lt;/p>
&lt;/li>
&lt;/ul>
&lt;p>ç­‰ç­‰ï¼Œ&lt;code>popstate&lt;/code> äº‹ä»¶èƒ½è®²è®²å—ï¼Ÿ&lt;/p>
&lt;h3 id="popstateäº‹ä»¶">popstateäº‹ä»¶&lt;/h3>
&lt;p>å¤„äºæ¿€æ´»çŠ¶æ€çš„å†å²è®°å½•æ¡ç›®å‘ç”Ÿå˜åŒ–æ—¶ï¼ˆè°ƒç”¨go/forward/backï¼‰ï¼Œpopstateå°±ä¼šåœ¨å¯¹åº”çš„windowå¯¹è±¡ä¸Šè§¦å‘ã€‚popstateçš„å¯¹è°ƒå‡½æ•°çš„å‚æ•°event.stateæŒ‡å‘pushStateçš„state&lt;/p>
&lt;p>if è¿™ä¸ªå†å²è®°å½•æ˜¯ç”¨ &lt;code>pushState&lt;/code> æˆ–&lt;code>replaceState&lt;/code> æ“ä½œè¿‡çš„ï¼Œä¸ä¼šè§¦å‘popstateäº‹ä»¶&lt;/p>
&lt;p>â­ï¸ åº”ç”¨ï¼šç”¨æˆ·è¦ç¦»å¼€å½“å‰é¡µé¢æ—¶popupåšäºŒæ¬¡ç¡®è®¤ï¼ˆbeforeunloadï¼‰&lt;/p>
&lt;p>ç›‘å¬ popstateäº‹ä»¶ï¼Œä¸€æ—¦è¢«è§¦å‘ï¼Œæ·»åŠ 1æ¡è®°å½•&lt;code>history.pushState(null, null, document.URL)&lt;/code> ç•™åœ¨å½“å‰é¡µé¢&lt;/p>
&lt;blockquote>
&lt;p>å½“popstateè¢«è§¦å‘æ—¶ï¼Œè®°å½•å·²ç»å›é€€äº†ã€‚åœ¨å›é€€ä¹‹å‰å†æ·»åŠ ä¸€æ¡å½“å‰urlçš„è®°å½•ï¼Œä»¥ä¿è¯å›é€€åurlä¸å˜&lt;/p>
&lt;/blockquote>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">history&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">pushState&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kc">null&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kc">null&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;/a&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">window&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">addEventListener&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;popstate&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">alert&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;æ‚¨ç¡®è®¤è¦ç¦»å¼€å—ï¼Ÿ&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">history&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">pushState&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kc">null&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kc">null&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nb">document&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">URL&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>â­ï¸ åº”ç”¨ï¼šç”¨æˆ·æƒ³ä»Aé¡µé¢è¿›å…¥ä¸€ä¸ªæ— æƒé™æŸ¥çœ‹çš„åœ°å€Bï¼Œè®©ç”¨æˆ·è·³è½¬åˆ°error.html Cï¼Œç”¨æˆ·è¿”å›æ—¶ç›´æ¥ä»C-&amp;gt;A&lt;/p>
&lt;p>åœ¨Bå‘Cè·³è½¬æ—¶ï¼Œä½¿ç”¨&lt;code>history.replace&lt;/code> æŠŠBæ›¿æ¢ä¸ºCï¼Œè¿™æ ·è®°å½•å°±ä»A-B-Cå˜æˆï¼ŒA-Cã€‚åœ¨Cé¡µé¢backç›´æ¥å›åˆ°A&lt;/p>
&lt;h3 id="windowlocation">window.location&lt;/h3>
&lt;p>&lt;a class="link" href="https://www.w3schools.com/js/js_window_location.asp" target="_blank" rel="noopener"
>https://www.w3schools.com/js/js_window_location.asp&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
&lt;/p>
&lt;h3 id="replacestate">replaceState&lt;/h3>
&lt;p>ä¿®æ”¹å½“å‰çš„å†å²è®°å½•é¡¹&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="nb">window&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">history&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">replaceState&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">state&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">title&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">url&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>ğŸ‰ é†‹æ¥äº†ï¼š&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="nx">html&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">&amp;lt;&lt;/span>&lt;span class="nx">head&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">&amp;lt;&lt;/span>&lt;span class="nx">title&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>&lt;span class="nx">wait&lt;/span> &lt;span class="mi">10&lt;/span> &lt;span class="nx">sec&lt;/span> &lt;span class="nx">and&lt;/span> &lt;span class="nx">BOOM&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="err">/title&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">&amp;lt;&lt;/span>&lt;span class="err">/head&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">&amp;lt;&lt;/span>&lt;span class="nx">body&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">&amp;lt;&lt;/span>&lt;span class="nx">h1&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>&lt;span class="err">ğŸš€&lt;/span>&lt;span class="nx">æŠ“ç´§&lt;/span>&lt;span class="err">ï¼Œ&lt;/span>&lt;span class="nx">è¦ä¸Šå¤©äº†&lt;/span>&lt;span class="err">ï¼ğŸš€&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="err">/h1&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">&amp;lt;&lt;/span>&lt;span class="nx">script&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">var&lt;/span> &lt;span class="nx">total&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">for&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="kd">var&lt;/span> &lt;span class="nx">i&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="nx">i&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="mi">1000000&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="nx">i&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">total&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">total&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="nx">i&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">toString&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">history&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">pushState&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="nx">total&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">&amp;lt;&lt;/span>&lt;span class="err">/script&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">&amp;lt;&lt;/span>&lt;span class="err">/body&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="err">/html&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>å‘ä½ çš„æµè§ˆå™¨å†å²é‡Œå¡è¿› 1000000 æ¡è®°å½•ğŸ˜‚ ï¼ˆé›¾&lt;/p>
&lt;p>è¿™æ®µä»£ç æ¥è‡ª &lt;a class="link" href="https://twitter.com/fatih_svml/status/689070600653041664" target="_blank" rel="noopener"
>Fatih Sevimli&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
&lt;/p>
&lt;p>æ¥éƒ½æ¥äº†å¤ä¹ ä¸€ä¸‹ï¼š&lt;/p>
&lt;h2 id="sessionstorage-vs-localstorage">sessionStorage vs localStorage&lt;/h2>
&lt;p>while data in localStorage doesn&amp;rsquo;t expire, data in sessionStorage is cleared when the page session ends.&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>ğŸªcookie&lt;/th>
&lt;th>session&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>å‚¨å­˜åœ¨å®¢æˆ·ç«¯&lt;/td>
&lt;td>æœåŠ¡å™¨ç«¯&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>ASCII&lt;/td>
&lt;td>ä»»æ„&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>å®æ•ˆé•¿&lt;/td>
&lt;td>çŸ­&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>4k&lt;/td>
&lt;td>é«˜&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;p>&lt;a class="link" href="https://www.cnblogs.com/ityouknow/p/10856177.html" target="_blank" rel="noopener"
>ä½ çœŸçš„äº†è§£cookieå’Œsessionå—&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
&lt;/p>
&lt;h2 id="å‚è€ƒ--è‡´è°¢">å‚è€ƒ &amp;amp; è‡´è°¢&lt;/h2>
&lt;p>&lt;a class="link" href="https://javascript.ruanyifeng.com/bom/history.html" target="_blank" rel="noopener"
>https://javascript.ruanyifeng.com/bom/history.html&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
&lt;/p>
&lt;p>&lt;a class="link" href="https://juejin.cn/post/6948746074504986655" target="_blank" rel="noopener"
>[é«˜çº§]æ·±å…¥æµ…å‡ºæµè§ˆå™¨çš„historyå¯¹è±¡&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
&lt;/p></description></item><item><title>é˜…è¯»ï½œã€Šå›¾è§£HTTPã€‹</title><link>https://falasool.github.io/2024/read-understand-http/</link><pubDate>Thu, 07 Mar 2024 19:13:22 +0800</pubDate><guid>https://falasool.github.io/2024/read-understand-http/</guid><description>
&lt;div class="db-card">
&lt;div class="db-card-subject">
&lt;div class="db-card-post">
&lt;img
loading="lazy"
decoding="async"
referrerpolicy="no-referrer"
src="https://neodb.social/m/book/2021/09/171bc10d5e-6bb7-459d-b762-b6eb2664a8f1.jpg"
/>
&lt;/div>
&lt;div class="db-card-content">
&lt;div class="db-card-title">
&lt;a href="https://neodb.social/book/3BVOzAS5pkNSWDfRT5CMkn" class="cute" target="_blank" rel="noreferrer"
>å›¾è§£HTTP&lt;/a
>
&lt;/div>
&lt;div class="db-orig_title">
&lt;a href="https://neodb.social/book/3BVOzAS5pkNSWDfRT5CMkn" class="cute" target="_blank" rel="noreferrer"
>HTTPã®æ•™ç§‘æ›¸&lt;/a
>
&lt;/div>
&lt;div class="db-card-author-translator">
[[æ—¥] ä¸Šé‡å®£]&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; è¯‘è€…ï¼š[äºå‡è‰¯]
&lt;/div>
&lt;div class="db-card-publish">
å‡ºå“æ–¹ï¼š&amp;nbsp;&amp;nbsp;äººæ°‘é‚®ç”µå‡ºç‰ˆç¤¾
&lt;/div>
&lt;div class="db-card-isbn">ISBN:&amp;nbsp;&amp;nbsp;9787115351531&lt;/div>
&lt;div class="rating">
&lt;span class="allstardark"
>&lt;span
class="allstarlight"
style="width:80%"
>&lt;/span>&lt;/span
>&lt;span class="rating_nums">8&lt;/span>
&lt;/div>
&lt;div class="db-card-abstract">æœ¬ä¹¦å¯¹äº’è”ç½‘åŸºç›˜â€”â€”HTTPåè®®è¿›è¡Œäº†å…¨é¢ç³»ç»Ÿçš„ä»‹ç»ã€‚ä½œè€…ç”±HTTPåè®®çš„å‘å±•å†å²å¨“å¨“é“æ¥ï¼Œä¸¥è°¨ç»†è‡´åœ°å‰–æäº†HTTPåè®®çš„ç»“æ„ï¼Œåˆ—ä¸¾è¯¸å¤šå¸¸è§é€šä¿¡åœºæ™¯åŠå®æˆ˜æ¡ˆä¾‹ï¼Œæœ€åå»¶ä¼¸åˆ°Webå®‰å…¨ã€æœ€æ–°æŠ€æœ¯åŠ¨å‘ç­‰æ–¹é¢ã€‚æœ¬ä¹¦çš„ç‰¹è‰²ä¸ºåœ¨è®²è§£çš„åŒæ—¶ï¼Œè¾…ä»¥å¤§é‡ç”ŸåŠ¨å½¢è±¡çš„é€šä¿¡å›¾ä¾‹ï¼Œæ›´å¥½åœ°å¸®åŠ©è¯»è€…æ·±åˆ»ç†è§£HTTPé€šä¿¡è¿‡ç¨‹ä¸­å®¢æˆ·ç«¯ä¸æœåŠ¡å™¨ä¹‹é—´çš„äº¤äº’æƒ…å†µã€‚è¯»è€…å¯é€šè¿‡æœ¬ä¹¦å¿«é€Ÿäº†è§£å¹¶æŒæ¡HTTPåè®®çš„åŸºç¡€ï¼Œå‰ç«¯å·¥ç¨‹å¸ˆåˆ†ææŠ“åŒ…æ•°æ®ï¼Œå...&lt;/div>
&lt;/div>
&lt;div class="db-card-cate">book&lt;/div>
&lt;/div>
&lt;/div>
&lt;style>
.db-card {
margin: 2.5rem 3rem;
background: var(--card-background);
border-radius: 7px;
box-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
}
.db-card-subject {
display: flex;
align-items: flex-start;
line-height: 1.6;
padding: 12px;
position: relative;
}
.dark .db-card {
background: var(--card-background);
}
.db-card-content {
flex: 1 1 auto;
}
.db-card-post {
width: 9.6rem;
margin-right: 15px;
display: flex;
flex: 0 0 auto;
}
.db-card-title {
font-size: 14px;
color: var(--card-text-color-main);
}
.db-orig_title,
.db-card-author-translator,
.db-card-publish,
.db-card-isbn {
font-size: 12px;
color: var(--card-text-color-main);
}
.db-card-isbn {
margin-bottom: 10px;
}
.db-card-title a {
text-decoration: none !important;
}
.db-card-abstract,
.db-card-comment {
font-size: 10px;
overflow: scroll;
max-height: 10rem;
color: var(--card-text-color-main);
}
.db-card-cate {
position: absolute;
top: 0;
right: 0;
background: #f99b01;
padding: 1px 8px;
font-size: small;
font-style: italic;
border-radius: 0 8px 0 8px;
text-transform: capitalize;
}
.db-card-post img {
width: 9.6rem !important;
border-radius: 4px;
-o-object-fit: cover;
object-fit: cover;
}
.rating {
margin: 0 0 5px;
font-size: 13px;
line-height: 1;
display: flex;
align-items: center;
}
.rating .allstardark {
position: relative;
color: #f99b01;
height: 16px;
width: 80px;
background-size: auto 100%;
margin-right: 8px;
background-repeat: repeat;
background-image: url(data:image/svg+xml;base64,PHN2ZyBjbGFzcz0iaWNvbiIgdmlld0JveD0iMCAwIDEwMjQgMTAyNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB3aWR0aD0iMzIiIGhlaWdodD0iMzIiPjxwYXRoIGQ9Ik05MDguMSAzNTMuMWwtMjUzLjktMzYuOUw1NDAuNyA4Ni4xYy0zLjEtNi4zLTguMi0xMS40LTE0LjUtMTQuNS0xNS44LTcuOC0zNS0xLjMtNDIuOSAxNC41TDM2OS44IDMxNi4ybC0yNTMuOSAzNi45Yy03IDEtMTMuNCA0LjMtMTguMyA5LjMtMTIuMyAxMi43LTEyLjEgMzIuOS42IDQ1LjNsMTgzLjcgMTc5LjEtNDMuNCAyNTIuOWMtMS4yIDYuOS0uMSAxNC4xIDMuMiAyMC4zIDguMiAxNS42IDI3LjYgMjEuNyA0My4yIDEzLjRMNTEyIDc1NGwyMjcuMSAxMTkuNGM2LjIgMy4zIDEzLjQgNC40IDIwLjMgMy4yIDE3LjQtMyAyOS4xLTE5LjUgMjYuMS0zNi45bC00My40LTI1Mi45IDE4My43LTE3OS4xYzUtNC45IDguMy0xMS4zIDkuMy0xOC4zIDIuNy0xNy41LTkuNS0zMy43LTI3LTM2LjN6TTY2NC44IDU2MS42bDM2LjEgMjEwLjNMNTEyIDY3Mi43IDMyMy4xIDc3MmwzNi4xLTIxMC4zLTE1Mi44LTE0OUw0MTcuNiAzODIgNTEyIDE5MC43IDYwNi40IDM4MmwyMTEuMiAzMC43LTE1Mi44IDE0OC45eiIgZmlsbD0iI2Y5OWIwMSIvPjwvc3ZnPg==);
}
.rating .allstarlight {
position: absolute;
left: 0;
color: #f99b01;
height: 16px;
overflow: hidden;
background-size: auto 100%;
background-repeat: repeat;
background-image: url(data:image/svg+xml;base64,PHN2ZyBjbGFzcz0iaWNvbiIgdmlld0JveD0iMCAwIDEwMjQgMTAyNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB3aWR0aD0iMzIiIGhlaWdodD0iMzIiPjxwYXRoIGQ9Ik05MDguMSAzNTMuMWwtMjUzLjktMzYuOUw1NDAuNyA4Ni4xYy0zLjEtNi4zLTguMi0xMS40LTE0LjUtMTQuNS0xNS44LTcuOC0zNS0xLjMtNDIuOSAxNC41TDM2OS44IDMxNi4ybC0yNTMuOSAzNi45Yy03IDEtMTMuNCA0LjMtMTguMyA5LjMtMTIuMyAxMi43LTEyLjEgMzIuOS42IDQ1LjNsMTgzLjcgMTc5LjEtNDMuNCAyNTIuOWMtMS4yIDYuOS0uMSAxNC4xIDMuMiAyMC4zIDguMiAxNS42IDI3LjYgMjEuNyA0My4yIDEzLjRMNTEyIDc1NGwyMjcuMSAxMTkuNGM2LjIgMy4zIDEzLjQgNC40IDIwLjMgMy4yIDE3LjQtMyAyOS4xLTE5LjUgMjYuMS0zNi45bC00My40LTI1Mi45IDE4My43LTE3OS4xYzUtNC45IDguMy0xMS4zIDkuMy0xOC4zIDIuNy0xNy41LTkuNS0zMy43LTI3LTM2LjN6IiBmaWxsPSIjZjk5YjAxIi8+PC9zdmc+);
}
@media (max-width: 550px) {
.db-card {
margin: 0.8rem 1rem;
}
.db-card-comment {
display: none;
}
.db-card-cate {
font-size: 10px;
}
}
&lt;/style>
&lt;p>é˜…è¯»ç¬”è®°ï¼Œè®²å¾—æ¯”è¾ƒæµ…ï¼Œç»“æ„æœ‰ç‚¹æ•£ï¼Œä½†è¿˜æ˜¯æ”¶è·äº†ä¸€äº›&lt;/p>
&lt;h2 id="http-åè®®">HTTP åè®®&lt;/h2>
&lt;p>ç”¨äºæœåŠ¡ç«¯å’Œå®¢æˆ·ç«¯ä¹‹é—´çš„é€šä¿¡&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// è¯·æ±‚æŠ¥æ–‡ï¼š
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// è¯·æ±‚æ–¹æ³• + uri + åè®®ç‰ˆæœ¬ + [è¯·æ±‚é¦–éƒ¨å­—æ®µ] + å†…å®¹å®ä½“
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// è¯·æ±‚å¤´ + è¯·æ±‚è¡Œ + è¯·æ±‚ä½“ï¼Œæ¯ä¸€éƒ¨åˆ†ç”¨æ¢è¡Œç¬¦åŒºåˆ†
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">GET&lt;/span> &lt;span class="o">/&lt;/span>&lt;span class="nx">index&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">htm&lt;/span> &lt;span class="nx">HTTP&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="mf">1.1&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">Host&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="nx">hackr&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">ip&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;ul>
&lt;li>HTTP æ˜¯ä¸€ç§æ— çŠ¶æ€ stateless åè®®ï¼ŒçŠ¶æ€äº¤ç»™ cookie etc.&lt;/li>
&lt;/ul>
&lt;h3 id="cookie">Cookie&lt;/h3>
&lt;p>ä½¿ç”¨ cookie è¿›è¡ŒçŠ¶æ€ç®¡ç†ï¼Œé€šè¿‡åœ¨è¯·æ±‚ã€å“åº”æŠ¥æ–‡ä¸­æ·»åŠ  cookie ä¿¡æ¯æ§åˆ¶å®¢æˆ·ç«¯çš„çŠ¶æ€&lt;/p>
&lt;ul>
&lt;li>cookie äº§ç”ŸäºæœåŠ¡ç«¯ï¼ŒåŒ…å«åœ¨å‘é€ç»™å®¢æˆ·ç«¯çš„ header é‡Œçš„ set-cookie å­—æ®µ&lt;/li>
&lt;li>å®¢æˆ·ç«¯æ ¹æ® set-cookie ä¿å­˜ä¸€æ®µçº¯æ–‡æœ¬ä¿¡æ¯&lt;/li>
&lt;li>å†æ¬¡å‘æœåŠ¡ç«¯å‘è¯·æ±‚æ—¶ï¼Œè¯·æ±‚æŠ¥æ–‡ä¼šå¸¦ä¸Šè¿™ä¸ªcookicookie&lt;/li>
&lt;li>æœåŠ¡ç«¯æ¥æ”¶åˆ° cookie å’ŒæœåŠ¡ç«¯è®°å½•å¯¹æ¯”ï¼Œå¾—åˆ°ä¹‹å‰çš„çŠ¶æ€ä¿¡æ¯&lt;/li>
&lt;/ul>
&lt;p>ä¸º Cookie æœåŠ¡çš„å¤´éƒ¨å­—æ®µè§ [[HTTP#Cookie ç›¸å…³å­—æ®µ]]&lt;/p>
&lt;p>ç”¨ Cookie ç®¡ç† Sessionï¼ˆä¼šè¯ï¼‰&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">Set&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="nx">Cookie&lt;/span>&lt;span class="o">:&amp;lt;&lt;/span>&lt;span class="nx">Session&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="nx">ID&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="ajax">Ajax&lt;/h3>
&lt;p>è§£å†³ HTTP çš„ç¼ºç‚¹ï¼š&lt;/p>
&lt;ul>
&lt;li>1 æ¡é“¾æ¥ä¸Šåªèƒ½å‘ä¸€ä¸ªè¯·æ±‚&lt;/li>
&lt;li>å¤´éƒ¨æœªç»å‹ç¼©å°±å‘é€ï¼Œå¤´éƒ¨ä¿¡æ¯è¶Šå¤šå»¶è¿Ÿè¶Šå¤§&lt;/li>
&lt;li>è¯·æ±‚åªèƒ½ä»å®¢æˆ·ç«¯å¼€å§‹ï¼Œå®¢æˆ·ç«¯ä¸èƒ½æ¥æ”¶å“åº”ä»¥å¤–çš„æŒ‡ä»¤&lt;/li>
&lt;/ul>
&lt;p>æ ¸å¿ƒ APIï¼š&lt;code>XMLHttpRequest&lt;/code> å®ç°æ— åˆ·æ–°å±€éƒ¨æ›´æ–°&lt;/p>
&lt;h3 id="http-å¤´éƒ¨">HTTP å¤´éƒ¨&lt;/h3>
&lt;h4 id="é€šç”¨å¤´éƒ¨å­—æ®µ">é€šç”¨å¤´éƒ¨å­—æ®µ&lt;/h4>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">Cache&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="nx">control&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="kr">private&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="nx">max&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="nx">age&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="nx">no&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="nx">cache&lt;/span> &lt;span class="c1">// æ§åˆ¶ç¼“å­˜
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">Collection&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="nx">close&lt;/span> &lt;span class="c1">// æ–­å¼€è¿æ¥
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="p">...&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h4 id="è¯·æ±‚å¤´éƒ¨å­—æ®µ">è¯·æ±‚å¤´éƒ¨å­—æ®µ&lt;/h4>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">User&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="nx">Agent&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="nx">Mozilla&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="mf">5.0&lt;/span> &lt;span class="c1">// å°†åˆ›å»ºè¯·æ±‚çš„æµè§ˆå™¨å’Œç”¨æˆ·ä»£ç†åç§°ç­‰ä¿¡æ¯å‘ç»™æœåŠ¡ç«¯ï¼Œå†™çˆ¬è™«ç”¨
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">Accept&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">text&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="nx">html&lt;/span> &lt;span class="c1">// é€šçŸ¥æœåŠ¡ç«¯ï¼Œç”¨æˆ·ä»£ç†èƒ½å¤„ç†çš„æ•°æ®ç±»å‹/æ ¼å¼å’Œqæƒé‡
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">Authorization&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="nx">Basic&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">dWufaslngafaJFljfsl&lt;/span>&lt;span class="o">==&lt;/span> &lt;span class="c1">// é€šçŸ¥æœåŠ¡ç«¯ï¼Œç”¨æˆ·ä»£ç†çš„è®¤è¯ä¿¡æ¯
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// If-xxx æ¡ä»¶è¯·æ±‚
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">If&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="nx">Modified&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="nx">Since&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="nx">Thu&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="mi">15&lt;/span> &lt;span class="nx">Apr&lt;/span> &lt;span class="mi">2004&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="mi">00&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="mi">00&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="mi">00&lt;/span> &lt;span class="nx">GMT&lt;/span> &lt;span class="c1">// å¦‚æœåœ¨æŒ‡å®šæ—¥æœŸä¹‹åï¼Œèµ„æºå‘ç”Ÿäº†æ›´æ–°ï¼ŒæœåŠ¡ç«¯æ‰ä¼šæ¥å—è¯·æ±‚ï¼Œç”¨äºç¡®è®¤æœ¬åœ°èµ„æºçš„æœ‰æ•ˆæ€§
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">Range&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="nx">bytes&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="mi">5000&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">10000&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">...&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h4 id="å“åº”å¤´éƒ¨å­—æ®µ">å“åº”å¤´éƒ¨å­—æ®µ&lt;/h4>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">Age&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="mi">600&lt;/span> &lt;span class="c1">// æºæœåŠ¡å™¨600så‰åˆ›å»ºäº†å“åº”
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">Server&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="nx">Apache&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="mf">2.2&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="mi">17&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">Unix&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="c1">// å½“å‰æœåŠ¡å™¨ä¸ŠHTTPæœåŠ¡å™¨çš„ä¿¡æ¯
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h4 id="å®ä½“å¤´éƒ¨å­—æ®µ">å®ä½“å¤´éƒ¨å­—æ®µ&lt;/h4>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">Content&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="nx">Language&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="nx">zh&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="nx">CN&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">Content&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="nx">Length&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="mi">15000&lt;/span> &lt;span class="c1">// å®ä½“ä¸»ä½“çš„å¤§å°ï¼ˆå­—èŠ‚ï¼‰
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">Content&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="nx">Type&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="nx">text&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="nx">html&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="nx">charset&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="nx">UTF&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">8&lt;/span> &lt;span class="c1">// å®ä½“ä¸»ä½“å†…å¯¹è±¡çš„åª’ä½“ç±»å‹
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h5 id="cookie-ç›¸å…³å­—æ®µ">Cookie ç›¸å…³å­—æ®µ&lt;/h5>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">Set&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="nx">Cookie&lt;/span> &lt;span class="c1">// å“åº”å¤´éƒ¨å­—æ®µ
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">Cookie&lt;/span> &lt;span class="c1">// è¯·æ±‚å¤´éƒ¨å­—æ®µ
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h4 id="å…¶ä»–å¤´éƒ¨å­—æ®µ">å…¶ä»–å¤´éƒ¨å­—æ®µ&lt;/h4>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">X&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="nx">Frame&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="nx">Options&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">X&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="nx">XSS&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="nx">Protection&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="http11-ä¸­çš„-7-ç§æ–¹æ³•">HTTP/1.1 ä¸­çš„ 7 ç§æ–¹æ³•&lt;/h3>
&lt;h4 id="get">GET&lt;/h4>
&lt;p>è¯·æ±‚èµ„æº&lt;/p>
&lt;h4 id="post">POST&lt;/h4>
&lt;p>å‘é€å®ä½“çš„ä¸»ä½“ entity body&lt;/p>
&lt;h4 id="put">PUT&lt;/h4>
&lt;p>ä¼ è¾“æ–‡ä»¶ï¼Œç±»ä¼¼ POSTï¼Œä½†æ˜¯æ²¡æœ‰éªŒè¯æœºåˆ¶ï¼Œå‡ ä¹ä¸ä½¿ç”¨&lt;/p>
&lt;h4 id="head">HEAD&lt;/h4>
&lt;p>è·å–æŠ¥æ–‡é¦–éƒ¨ï¼Œå’Œ GET ä¸€æ ·ï¼Œåªæ˜¯ä¸è¿”å›æŠ¥æ–‡ä¸»ä½“éƒ¨åˆ†&lt;/p>
&lt;h4 id="delete">DELETE&lt;/h4>
&lt;p>åˆ é™¤æ–‡ä»¶ï¼Œå’Œ PUT ç›¸åï¼ŒåŒæ ·çš„åŸå› ä¸æ¨èä½¿ç”¨&lt;/p>
&lt;h4 id="options">OPTIONS&lt;/h4>
&lt;p>æŸ¥è¯¢èµ„æºæ”¯æŒä»€ä¹ˆæ–¹æ³•&lt;/p>
&lt;ul>
&lt;li>INVITE&lt;/li>
&lt;li>ACK&lt;/li>
&lt;li>CANCEL&lt;/li>
&lt;li>&amp;hellip;&lt;/li>
&lt;/ul>
&lt;h4 id="trace">TRACE&lt;/h4>
&lt;p>æœåŠ¡ç«¯æŠŠæ¥æ”¶åˆ°çš„è¯·æ±‚æŠ¥æ–‡å†è¿˜ç»™å®¢æˆ·ç«¯ï¼Œè¿™æ ·å¯ä»¥æ£€æŸ¥è¯·æ±‚æœ‰æ²¡æœ‰/æ€ä¹ˆæ ·è¢«åŠ å·¥ç¯¡æ”¹çš„&lt;/p>
&lt;h4 id="connect">CONNECT&lt;/h4>
&lt;h3 id="http-æŠ¥æ–‡">HTTP æŠ¥æ–‡&lt;/h3>
&lt;p>æ˜¯å¤šè¡Œæ•°æ®æ„æˆçš„å­—ç¬¦ä¸²æ–‡æœ¬&lt;/p>
&lt;ul>
&lt;li>æŠ¥æ–‡message&lt;/li>
&lt;li>å®ä½“ entity&lt;/li>
&lt;/ul>
&lt;h4 id="è¯·æ±‚æŠ¥æ–‡">è¯·æ±‚æŠ¥æ–‡&lt;/h4>
&lt;h4 id="å“åº”æŠ¥æ–‡">å“åº”æŠ¥æ–‡&lt;/h4>
&lt;h4 id="å¤šéƒ¨åˆ†å¯¹è±¡é›†åˆ-multipart">å¤šéƒ¨åˆ†å¯¹è±¡é›†åˆ Multipart&lt;/h4>
&lt;p>åŒ…å«å›¾ç‰‡ã€æ–‡æœ¬ã€è§†é¢‘ç­‰å¤šä¸ªä¸åŒç±»å‹çš„æ•°æ®&lt;/p>
&lt;p>multipart/form-dataï¼šä¸Šä¼  web è¡¨å•æ–‡ä»¶
multipart/byterangesï¼šèŒƒå›´è¯·æ±‚ï¼Œå…è®¸æœåŠ¡ç«¯åªå‘é€ HTTP æ¶ˆæ¯çš„ä¸€éƒ¨åˆ†åˆ°å®¢æˆ·ç«¯ï¼›ä¼ è¾“å¤§åª’ä½“æ–‡ä»¶ã€æ–­ç‚¹ç»­ä¼ æ—¶å¾ˆæœ‰ç”¨&lt;/p>
&lt;h3 id="æ–­ç‚¹ç»­ä¼ è·å–éƒ¨åˆ†å†…å®¹çš„èŒƒå›´è¯·æ±‚-range-request">æ–­ç‚¹ç»­ä¼ ï¼ˆè·å–éƒ¨åˆ†å†…å®¹çš„èŒƒå›´è¯·æ±‚ Range Requestï¼‰&lt;/h3>
&lt;ul>
&lt;li>ç”¨é¦–éƒ¨å­—æ®µ Range æŒ‡å®šèµ„æºçš„ byte èŒƒå›´&lt;/li>
&lt;li>èŒƒå›´è¯·æ±‚çš„å¯¹åº”çŠ¶æ€ç ä¸º 206ï¼Œå¦‚æœæœåŠ¡ç«¯æ— æ³•å“åº”èŒƒå›´è¯·æ±‚ï¼Œä¼šè¿”å› 200 å’Œå®Œæ•´çš„å®ä½“å†…å®¹&lt;/li>
&lt;/ul>
&lt;p>ä¾‹å¦‚ï¼šæœ‰ä¸€ä»½ 10000 å­—èŠ‚çš„èµ„æº&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">GET&lt;/span> &lt;span class="o">/&lt;/span>&lt;span class="nx">tip&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">jpg&lt;/span> &lt;span class="nx">HTTP&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="mf">1.1&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">Host&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">www&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">usagidesign&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">jp&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// è¿”å›5001-10000çš„éƒ¨åˆ†
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">Range&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">bytes&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">5001&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">10000&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// è¿”å›5001ä¹‹åçš„å…¨éƒ¨
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">Range&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">bytes&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">5001&lt;/span>&lt;span class="o">-&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="å†…å®¹åå•†-content-negotiationi8n">å†…å®¹åå•† content negotiation==i8n&lt;/h3>
&lt;p>æ ¹æ®æµè§ˆå™¨çš„é»˜è®¤è¯­è¨€ï¼ˆenï¼‰ï¼Œè¿”å›ä¸€ä¸ª uri çš„ en é¡µé¢&lt;/p>
&lt;p>ä¾æ®æ˜¯è¯·æ±‚æŠ¥æ–‡ä¸­çš„ä¸€äº›é¦–éƒ¨å­—æ®µï¼š&lt;/p>
&lt;ul>
&lt;li>Accept&lt;/li>
&lt;li>Accept-Charset&lt;/li>
&lt;li>Accept-Encoding&lt;/li>
&lt;li>Accept-Language&lt;/li>
&lt;li>Content-Language&lt;/li>
&lt;/ul>
&lt;p>å†…å®¹åå•†å¯ä»¥ç”±æœåŠ¡ç«¯æˆ–å®¢æˆ·ç«¯å®Œæˆ&lt;/p>
&lt;h3 id="httpçŠ¶æ€ç ">HTTPçŠ¶æ€ç &lt;/h3>
&lt;p>1-ä¿¡æ¯ç±»
2-æˆåŠŸ
3-é‡å®šå‘
4-å®¢æˆ·ç«¯é”™è¯¯
5-æœåŠ¡ç«¯é”™è¯¯&lt;/p>
&lt;h3 id="web-æœåŠ¡å™¨">Web æœåŠ¡å™¨&lt;/h3>
&lt;p>é™æ€ web æœåŠ¡å™¨Nginx&lt;/p>
&lt;h3 id="æ•°æ®è½¬å‘">æ•°æ®è½¬å‘&lt;/h3>
&lt;ul>
&lt;li>ä»£ç†
&lt;ul>
&lt;li>ç¼“å­˜ä»£ç† CDN&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>ç½‘å…³ï¼šç½‘å…³æ˜¯ä¸€ä¸ªæ¦‚å¿µï¼Œæ˜¯åè®®è½¬æ¢å™¨ï¼ˆæŠŠ HTTP è½¬æ¢ä¸ºå…¶ä»–åè®®ï¼‰&lt;/li>
&lt;li>éš§é“&lt;/li>
&lt;/ul>
&lt;h2 id="https">HTTPS&lt;/h2>
&lt;p>http çš„ç¼ºç‚¹ï¼š&lt;/p>
&lt;ul>
&lt;li>æ˜æ–‡ä¼ è¾“&lt;/li>
&lt;li>ä¸éªŒè¯é€šä¿¡æ–¹çš„èº«ä»½&lt;/li>
&lt;li>æ— æ³•ä¿è¯å®Œæ•´æ€§ï¼ˆä¸­é—´äººæ”»å‡»ï¼‰&lt;/li>
&lt;/ul>
&lt;h2 id="tcp">TCP&lt;/h2>
&lt;p>æä¾›å­—èŠ‚æµæœåŠ¡ï¼ˆåˆ†å‰²æ•°æ®åŒ…ï¼‰&lt;/p>
&lt;h3 id="three-way-handshaking">three-way handshaking&lt;/h3>
&lt;p>TCP çš„æ ‡å¿— flagï¼šSYNã€ACK&lt;/p>
&lt;ul>
&lt;li>SYN æ˜¯å‘é€ç«¯ç”Ÿæˆçš„ï¼ˆè¯·æ±‚åŒæ­¥ï¼‰&lt;/li>
&lt;li>ACK æ˜¯æ¥æ”¶ç«¯ç”Ÿæˆçš„ï¼ˆç¡®è®¤åŒæ­¥ï¼‰&lt;/li>
&lt;/ul>
&lt;p>ç¬¬ä¸€æ¬¡æ¡æ‰‹ï¼šå‘é€ç«¯å‘é€è¯·æ±‚ï¼ˆsyn=jï¼‰
ç¬¬äºŒæ¬¡æ¡æ‰‹ï¼šæ¥æ”¶ç«¯è¿”å› SYNã€ACK æ ‡å¿—ï¼Œå‘Šè¯‰å¯¹æ–¹å‘é€åŠŸèƒ½æ­£å¸¸ï¼Œè‡ªå·±çš„æ¥æ”¶åŠŸèƒ½æ­£å¸¸
ç¬¬ä¸‰æ¬¡æ¡æ‰‹ï¼šå‘é€ç«¯å‘Šè¯‰æ¥æ”¶ç«¯ï¼Œä½ çš„æ”¶å‘åŠŸèƒ½éƒ½æ­£å¸¸ï¼ˆå“åº”èƒ½åŠ›ï¼‰ï¼Œå¯ä»¥å¼€å§‹é€šä¿¡äº†&lt;/p>
&lt;ul>
&lt;li>SYN blood æ”»å‡»ï¼šæ¥åˆ°ç¬¬ 2 æ¬¡æ¡æ‰‹åä¸å›åº”ç¬¬ 3 æ¬¡æ¡æ‰‹ï¼ŒæœåŠ¡å™¨ä¼šå‘é€ 5 æ¬¡è¯·æ±‚ç„¶åä¸¢å¼ƒè¯·æ±‚ã€‚è§£å†³æ–¹æ³•ï¼šcookie è®°å½•æ¶æ„ ipã€ç¼©çŸ­æœåŠ¡å™¨çš„ç­‰å¾…æ—¶é—´&lt;/li>
&lt;/ul>
&lt;p>ä¸ºä»€ä¹ˆä¸ 2 æ¬¡æ¡æ‰‹ï¼šå¦‚æœæ˜¯ 2 æ¬¡æ¡æ‰‹ï¼Œå®¢æˆ·ç«¯å‘é€ä¸€æ¬¡è¯·æ±‚åç½‘ç»œä¸­æ–­ï¼Œä¸€æ®µæ—¶é—´åè¿™ä¸ªåºŸå¼ƒçš„è¯·æ±‚åˆ°è¾¾æœåŠ¡å™¨ï¼ŒæœåŠ¡å™¨å°±ä¼šæ­£å¸¸å“åº”ï¼Œå»ºç«‹ä¸€ä¸ªæ— æ•ˆçš„é“¾æ¥ï¼Œå¢åŠ äº†ç½‘ç»œå¼€é”€&lt;/p>
&lt;h2 id="dns">DNS&lt;/h2>
&lt;p>åº”ç”¨å±‚ï¼ŒæŠŠåŸŸåè§£æåˆ° IPï¼ˆè”æƒ³ï¼šARPï¼‰&lt;/p>
&lt;h2 id="uriurl">URI/URL&lt;/h2>
&lt;p>URL æ˜¯ URI çš„å­é›†ï¼Œurl ä¸€å®šæ˜¯ uriï¼Œæ¯”å¦‚ç½‘å€ç”» url å°±æ˜¯ uriï¼ŒåŒæ—¶é‚®ä»¶åœ°å€ã€ç”µè¯å·ç ä¹Ÿæ˜¯ uri&lt;/p>
&lt;h2 id="ç”¨æˆ·èº«ä»½è®¤è¯">ç”¨æˆ·èº«ä»½è®¤è¯&lt;/h2>
&lt;p>è®¤è¯æ–¹å¼ï¼š&lt;/p>
&lt;ul>
&lt;li>BASICï¼ˆ401ï¼‰&lt;/li>
&lt;li>DIGEST&lt;/li>
&lt;li>SSL å®¢æˆ·ç«¯&lt;/li>
&lt;li>FormBase&lt;/li>
&lt;/ul></description></item><item><title>Vue|é€ä¼  Attrs</title><link>https://falasool.github.io/2024/vue-attrs/</link><pubDate>Fri, 01 Mar 2024 23:29:38 +0800</pubDate><guid>https://falasool.github.io/2024/vue-attrs/</guid><description>&lt;p>â­ï¸ä»€ä¹ˆæ˜¯é€ä¼  attrsï¼Ÿ&lt;/p>
&lt;ul>
&lt;li>å¤§å°å†™ä¸æ•æ„Ÿ&lt;/li>
&lt;li>ç»´æŒå“åº”å¼
&lt;ul>
&lt;li>prop&lt;/li>
&lt;li>&lt;code>onUpdated()&lt;/code>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;p>æˆåŠŸä¼ é€’ç»™å­ç»„ä»¶ï¼ˆ= ç»‘å®šåˆ°æ ¹å…ƒç´ ï¼‰ï¼Œä½†å­ç»„ä»¶æ²¡æœ‰ç”¨ props æˆ– emits å£°æ˜çš„ attrs æˆ– v-on äº‹ä»¶ç›‘å¬å™¨ï¼ˆeg. class/style/idï¼‰ï¼ˆåä¹‹ï¼Œç”¨ props/emits å£°æ˜è¿‡çš„å±æ€§å’Œäº‹ä»¶ä¼šè¢«ã€Œæ¶ˆè€—ã€ï¼Œä¸å†é€ä¼ ï¼‰&lt;/p>
&lt;ul>
&lt;li>çˆ¶ç»„ä»¶ä½¿ç”¨ç»„ä»¶: &lt;code>&amp;lt;Button class=&amp;quot;large&amp;quot;&amp;gt;&lt;/code>ï¼Œå­ç»„ä»¶ä¸ç”¨ props æ¥æ”¶å°±èƒ½è·å– classã€‚æ‰€ä»¥è¿™é‡Œçš„ class æ˜¯ä¸€ä¸ªè‡ªåŠ¨é€ä¼ åˆ°å­ç»„ä»¶ root element ä¸Šçš„ã€Œé€ä¼  attrsã€&lt;/li>
&lt;li>çˆ¶ç»„ä»¶ä½¿ç”¨ç»„ä»¶: &lt;code>&amp;lt;Button @click=&amp;quot;onClick&amp;quot;&amp;gt;&lt;/code>ï¼Œè¿™é‡Œ click ä¼šè¢«æ·»åŠ åˆ°å­ç»„ä»¶çš„ root element ä¸Š&lt;/li>
&lt;/ul>
&lt;p>â­ï¸é€ä¼ çš„ç»§æ‰¿&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-ts" data-lang="ts">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">//App.vue
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">Button&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;small&amp;#34;&lt;/span>&lt;span class="p">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">//Button.vue
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">BaseButton&lt;/span> &lt;span class="p">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Button ç»„ä»¶åœ¨æ ¹èŠ‚ç‚¹ä¸Šæ¸²æŸ“ BaseButton ç»„ä»¶ã€‚é€ä¼ å±æ€§ä¼šä¼ ç»™ BaseButton&lt;/p>
&lt;p>classï¼šapp. vue -&amp;gt; button. vue -&amp;gt; basebutton. vue&lt;/p>
&lt;p>â­ï¸ç¦æ­¢é€ä¼ ç»§æ‰¿&lt;/p>
&lt;ul>
&lt;li>ä¸æƒ³è®© attrs è¢« basebutton çš„æ ¹èŠ‚ç‚¹ç»§æ‰¿&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-ts" data-lang="ts">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span> &lt;span class="na">setup&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">defineOptions&lt;/span>&lt;span class="p">({&lt;/span> &lt;span class="nx">inheritAttrs&lt;/span>: &lt;span class="kt">false&lt;/span> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;ul>
&lt;li>å…¶å®ƒèŠ‚ç‚¹è¦ä½¿ç”¨é€ä¼  attrsï¼Œéœ€é…åˆ &lt;code>v-bind=&amp;quot;$attrs&amp;quot;&lt;/code>&lt;/li>
&lt;/ul>
&lt;p>â­ï¸API&lt;/p>
&lt;p>&lt;code>useAttrs()&lt;/code> ï¼šé…åˆ &lt;code>&amp;lt;script setup&amp;gt;&lt;/code> è®¿é—®ç»„ä»¶çš„æ‰€æœ‰é€ä¼  attrs&lt;/p></description></item><item><title>Miniflux æ­å»º + RSSHub ä½¿ç”¨</title><link>https://falasool.github.io/2023/miniflux/</link><pubDate>Fri, 01 Dec 2023 20:19:15 +0800</pubDate><guid>https://falasool.github.io/2023/miniflux/</guid><description>&lt;p>å…¶å®docker æ­miniflux å¾ˆç®€å•ï¼Œæ¬è¿æœåŠ¡å™¨åè®°å½•ä¸€ä¸‹2ndæ­ï¼Œç•™ä¸ªè®°å½•&lt;/p>
&lt;h2 id="miniflux">Miniflux&lt;/h2>
&lt;p>åˆ›å»º miniflux æ–‡ä»¶å¤¹&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">mkdir miniflux
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">cd&lt;/span> miniflux
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>åˆ›å»º &lt;code>docker-compose.yml&lt;/code> æ–‡ä»¶&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">vim docker-compose.yml
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>å†™å…¥ä»¥ä¸‹å†…å®¹å¹¶ä¿å­˜&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">version: &lt;span class="s1">&amp;#39;3.4&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">services:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> miniflux:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> image: miniflux/miniflux:latest
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> ports:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> - &lt;span class="s2">&amp;#34;8080:8080&amp;#34;&lt;/span> &lt;span class="c1">#å®¹å™¨å¤–éƒ¨ç«¯å£:å†…éƒ¨ç«¯å£&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> depends_on:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> - db
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> environment:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> - &lt;span class="nv">DATABASE_URL&lt;/span>&lt;span class="o">=&lt;/span>postgres://miniflux:secret@db/miniflux?sslmode&lt;span class="o">=&lt;/span>disable
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> - &lt;span class="nv">RUN_MIGRATIONS&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="m">1&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> - &lt;span class="nv">CREATE_ADMIN&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="m">1&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> - &lt;span class="nv">ADMIN_USERNAME&lt;/span>&lt;span class="o">=&lt;/span>admin &lt;span class="c1"># ç™»å½•Minifluxçš„ç”¨æˆ·åï¼Œå¯è‡ªå®šä¹‰&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> - &lt;span class="nv">ADMIN_PASSWORD&lt;/span>&lt;span class="o">=&lt;/span>password &lt;span class="c1"># ç™»å½•Minifluxçš„å¯†ç ï¼Œå¯è‡ªå®šä¹‰ï¼Œè‡³å°‘6ä½&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> - &lt;span class="s2">&amp;#34;BASE_URL=https://enter.your.url&amp;#34;&lt;/span> &lt;span class="c1"># è°ƒæ•´äºŒï¼šè¾“å…¥æƒ³ç”¨æ¥è®¿é—®Minifluxçš„åŸŸå&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> healthcheck:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> test: &lt;span class="o">[&lt;/span>&lt;span class="s2">&amp;#34;CMD&amp;#34;&lt;/span>, &lt;span class="s2">&amp;#34;/usr/bin/miniflux&amp;#34;&lt;/span>, &lt;span class="s2">&amp;#34;-healthcheck&amp;#34;&lt;/span>, &lt;span class="s2">&amp;#34;auto&amp;#34;&lt;/span>&lt;span class="o">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> db:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> image: postgres:latest
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> environment:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> - &lt;span class="nv">POSTGRES_USER&lt;/span>&lt;span class="o">=&lt;/span>miniflux
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> - &lt;span class="nv">POSTGRES_PASSWORD&lt;/span>&lt;span class="o">=&lt;/span>secret
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> volumes:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> - miniflux-db:/var/lib/postgresql/data
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> healthcheck:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> test: &lt;span class="o">[&lt;/span>&lt;span class="s2">&amp;#34;CMD&amp;#34;&lt;/span>, &lt;span class="s2">&amp;#34;pg_isready&amp;#34;&lt;/span>, &lt;span class="s2">&amp;#34;-U&amp;#34;&lt;/span>, &lt;span class="s2">&amp;#34;miniflux&amp;#34;&lt;/span>&lt;span class="o">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> interval: 10s
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> start_period: 30s
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">volumes:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> miniflux-db:
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>å¯åŠ¨æœåŠ¡&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">docker-compose up -d
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>æ­¤æ—¶è®¿é—®&lt;code>ip:8080&lt;/code> å¯ä»¥çœ‹åˆ°ç™»å½•ç•Œé¢ï¼Œåœ¨settings - Custom CSS ä¿®æ”¹ä¸»é¢˜&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-css" data-lang="css">&lt;span class="line">&lt;span class="cl">&lt;span class="p">:&lt;/span>&lt;span class="nd">root&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">--font-family&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">system-ui&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="n">apple-system&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;Segoe UI&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">Roboto&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;Helvetica Neue&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">Arial&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;Noto Sans&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kc">sans-serif&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;Apple Color Emoji&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;Segoe UI Emoji&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;Segoe UI Symbol&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;Noto Color Emoji&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">--body-color&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="nb">rgba&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">255&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">255&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">255&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mf">0.7&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">--body-background&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mh">#282c34&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">--header-link-color&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mh">#9b9494&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">--header-active-link-color&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mh">#d19a66&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">--input-border&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="kt">px&lt;/span> &lt;span class="kc">solid&lt;/span> &lt;span class="mh">#2c384e&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">--input-background&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mh">#2c384e&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">--input-placeholder-color&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mh">#888&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">--input-focus-border-color&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mh">#d19a66&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">--input-focus-box-shadow&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">none&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">--category-background-color&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mh">#2c384e&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">--category-border-color&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mh">#2c384e&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">--item-border-color&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="nb">rgba&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mf">.3&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">--item-padding&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="kt">em&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">--item-title-link-font-weight&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">600&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">--item-status-read-title-link-color&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="nb">rgba&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">209&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">154&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">102&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mf">0.5&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">--entry-header-title-link-color&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mh">#d19a66&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">--entry-content-code-background&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mh">#2c384e&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">--entry-content-code-border-color&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mh">#2c384e&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">--entry-content-font-weight&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">300&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">--entry-content-font-family&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s1">&amp;#39;Literata&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;Libre Baskerville&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">Georgia&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;Times New Roman&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">Times&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kc">serif&lt;/span> &lt;span class="cp">!important&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">--entry-content-quote-font-family&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="nf">var&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="o">--&lt;/span>&lt;span class="n">entry&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">content&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">font&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">family&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">*&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="nd">focus&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">outline&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">0&lt;/span> &lt;span class="cp">!important&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">input&lt;/span>&lt;span class="o">[&lt;/span>&lt;span class="nt">type&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;search&amp;#34;&lt;/span>&lt;span class="o">],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">input&lt;/span>&lt;span class="o">[&lt;/span>&lt;span class="nt">type&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;url&amp;#34;&lt;/span>&lt;span class="o">],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">input&lt;/span>&lt;span class="o">[&lt;/span>&lt;span class="nt">type&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;password&amp;#34;&lt;/span>&lt;span class="o">],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">input&lt;/span>&lt;span class="o">[&lt;/span>&lt;span class="nt">type&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;text&amp;#34;&lt;/span>&lt;span class="o">],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nt">input&lt;/span>&lt;span class="o">[&lt;/span>&lt;span class="nt">type&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;number&amp;#34;&lt;/span>&lt;span class="o">]&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">padding&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mf">.25&lt;/span>&lt;span class="kt">em&lt;/span> &lt;span class="mf">.5&lt;/span>&lt;span class="kt">em&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">box-shadow&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">none&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">border-radius&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">6&lt;/span>&lt;span class="kt">px&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">.&lt;/span>&lt;span class="nc">entry&lt;/span> &lt;span class="nt">header&lt;/span> &lt;span class="nt">h1&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">margin&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="kt">em&lt;/span> &lt;span class="mi">0&lt;/span> &lt;span class="mi">16&lt;/span>&lt;span class="kt">px&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">.&lt;/span>&lt;span class="nc">entry-actions&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">opacity&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mf">.5&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">.&lt;/span>&lt;span class="nc">entry-meta&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">color&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mh">#98be65&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">.&lt;/span>&lt;span class="nc">entry-website&lt;/span> &lt;span class="nt">a&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">color&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mh">#c678dd&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">.&lt;/span>&lt;span class="nc">entry-date&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">font-size&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mf">.75&lt;/span>&lt;span class="kt">em&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">color&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="nb">rgba&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">255&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">255&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">255&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mf">0.4&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">.&lt;/span>&lt;span class="nc">entry-actions&lt;/span> &lt;span class="nt">li&lt;/span> &lt;span class="nt">a&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">font-weight&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">bold&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">color&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mh">#9b9494&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">.&lt;/span>&lt;span class="nc">entry-actions&lt;/span> &lt;span class="nt">li&lt;/span> &lt;span class="nt">a&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="nd">hover&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">font-weight&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">bold&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">color&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">white&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">.&lt;/span>&lt;span class="nc">entry&lt;/span> &lt;span class="nt">header&lt;/span> &lt;span class="nt">h1&lt;/span> &lt;span class="nt">a&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="nd">hover&lt;/span>&lt;span class="o">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">.&lt;/span>&lt;span class="nc">entry&lt;/span> &lt;span class="nt">header&lt;/span> &lt;span class="nt">h1&lt;/span> &lt;span class="nt">a&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="nd">focus&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">color&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mh">#d19a66&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">text-decoration&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">underline&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">.&lt;/span>&lt;span class="nc">pagination-top&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">display&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">none&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">.&lt;/span>&lt;span class="nc">entry-content&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">line-height&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">padding-top&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="kt">em&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">.&lt;/span>&lt;span class="nc">entry-content&lt;/span> &lt;span class="nt">p&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">margin-top&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">margin-bottom&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="kt">em&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">.&lt;/span>&lt;span class="nc">entry-content&lt;/span> &lt;span class="nt">a&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">color&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mh">#c678dd&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">.&lt;/span>&lt;span class="nc">entry-content&lt;/span> &lt;span class="nt">a&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="nd">visited&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">color&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mh">#dd7890&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">.&lt;/span>&lt;span class="nc">entry-content&lt;/span> &lt;span class="nt">img&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">width&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">100&lt;/span>&lt;span class="kt">%&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">margin&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">0&lt;/span> &lt;span class="kc">auto&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">.&lt;/span>&lt;span class="nc">entry-content&lt;/span> &lt;span class="nt">figcaption&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">color&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mh">#c678dd&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">background-color&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="nb">rgba&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mf">.3&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">margin-top&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">-7&lt;/span>&lt;span class="kt">px&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">border-radius&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">0&lt;/span> &lt;span class="mi">0&lt;/span> &lt;span class="mi">4&lt;/span>&lt;span class="kt">px&lt;/span> &lt;span class="mi">4&lt;/span>&lt;span class="kt">px&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">padding&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mf">0.25&lt;/span>&lt;span class="kt">rem&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="kt">rem&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">text-transform&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">unset&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">.&lt;/span>&lt;span class="nc">entry-content&lt;/span> &lt;span class="nt">pre&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">padding&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mf">.5&lt;/span>&lt;span class="kt">rem&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="kt">rem&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">border-radius&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">6&lt;/span>&lt;span class="kt">px&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">margin&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">0&lt;/span> &lt;span class="mi">0&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="kt">em&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">.&lt;/span>&lt;span class="nc">entry-content&lt;/span> &lt;span class="nt">code&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">padding&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">3&lt;/span>&lt;span class="kt">px&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">border-radius&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">6&lt;/span>&lt;span class="kt">px&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">.&lt;/span>&lt;span class="nc">item&lt;/span>&lt;span class="o">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">.&lt;/span>&lt;span class="nc">alert&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">border&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="kt">px&lt;/span> &lt;span class="kc">solid&lt;/span> &lt;span class="nf">var&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="o">--&lt;/span>&lt;span class="n">item&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">border&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="kc">color&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">margin-bottom&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">20&lt;/span>&lt;span class="kt">px&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">background&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="nb">rgba&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mf">.3&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">border-radius&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">6&lt;/span>&lt;span class="kt">px&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">.&lt;/span>&lt;span class="nc">item-title&lt;/span> &lt;span class="nt">a&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">color&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mh">#d19a66&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">.&lt;/span>&lt;span class="nc">item-meta-info&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">padding-top&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="kt">px&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">.&lt;/span>&lt;span class="nc">item-meta-info&lt;/span> &lt;span class="nt">li&lt;/span> &lt;span class="nt">a&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">color&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mh">#c678dd&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">.&lt;/span>&lt;span class="nc">item-meta-info&lt;/span> &lt;span class="nt">li&lt;/span> &lt;span class="nt">time&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">color&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mh">#98be65&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">.&lt;/span>&lt;span class="nc">item-meta-info&lt;/span> &lt;span class="nt">li&lt;/span> &lt;span class="nt">span&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">color&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mh">#61afef&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">.&lt;/span>&lt;span class="nc">entry-content&lt;/span> &lt;span class="nt">li&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">margin&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mf">.75&lt;/span>&lt;span class="kt">em&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="nginx">Nginx&lt;/h2>
&lt;p>åˆ›å»º Nginx é…ç½®æ–‡ä»¶&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">vim /etc/nginx/sites-available/miniflux.conf
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>å†™å…¥ä»¥ä¸‹å†…å®¹&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">server &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> listen 80&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> server_name enter.your.url&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> location / &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> proxy_pass http://127.0.0.1:8080&lt;span class="p">;&lt;/span> &lt;span class="c1">#8080æ”¹ä¸ºminifluxå¯¹å¤–å¼€æ”¾çš„ç«¯å£ï¼Œé»˜è®¤ä¸º8080&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> proxy_redirect off&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> proxy_set_header Host &lt;span class="nv">$host&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> proxy_set_header X-Real-IP &lt;span class="nv">$remote_addr&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> proxy_set_header X-Forwarded-For &lt;span class="nv">$proxy_add_x_forwarded_for&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> proxy_set_header X-Forwarded-Proto &lt;span class="nv">$scheme&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>æµ‹è¯•Nginxé…ç½®æ–‡ä»¶æœ‰æ²¡æœ‰é—®é¢˜&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="o">[&lt;/span>admin@vps&lt;span class="o">]&lt;/span> nginx -t
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">nginx: the configuration file /etc/nginx/nginx.conf syntax is ok
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">nginx: configuration file /etc/nginx/nginx.conf &lt;span class="nb">test&lt;/span> is successful
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>å»ºç«‹è½¯è¿æ¥&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">ln -s /etc/nginx/sites-available/miniflux.conf /etc/nginx/sites-enabled/miniflux.conf
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>è¿è¡Œ&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">nginx -s reload
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">systemctl start nginx
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">systemctl &lt;span class="nb">enable&lt;/span> nginx
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>å®‰è£… certbot&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">sudo apt install certbot
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">apt-get install python3-certbot-nginx
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>è¾“å…¥&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">certbot
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>æŒ‰æ­¥éª¤æ“ä½œç›´åˆ°&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">Deploying certificate
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Successfully deployed certificate for miniflux.ponderduck.cc to /etc/nginx/sites-enabled/miniflux.conf
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Congratulations! You have successfully enabled HTTPS on https://miniflux.XXXX.com
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>ç°åœ¨å¯ä»¥é€šè¿‡åŸŸåè®¿é—®minifluxäº†&lt;/p>
&lt;h2 id="rsshub">RSSHub&lt;/h2>
&lt;p>å€ŸåŠ© Vercel éƒ¨ç½² RSSHubï¼Œé…åˆæ’ä»¶ &lt;a class="link" href="chrome-extension://kefjpfngnndepjbopdmoebkipbgkggaa/options.html#/setting" >RSSHub Radar&lt;/a>
å¯ä»¥æ¢æµ‹åˆ°å¤§éƒ¨åˆ†è®¢é˜…æºï¼Œæ­¤å¤–è¡¥å……ä¸€äº›è®¢é˜…æ–¹å¼ï¼š&lt;/p>
&lt;ul>
&lt;li>&lt;a class="link" href="https://greasyfork.org/en/scripts/373252-rss-show-site-all-rss" target="_blank" rel="noopener"
>æ²¹çŒ´ - RSS+ : Show Site All RSS by Wizos&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
&lt;/li>
&lt;li>&lt;a class="link" href="https://feedx.net/" target="_blank" rel="noopener"
>FeedX&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
&lt;/li>
&lt;li>&lt;a class="link" href="https://plink.anyfeeder.com/" target="_blank" rel="noopener"
>https://plink.anyfeeder.com/&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
&lt;/li>
&lt;li>&lt;a class="link" href="https://rss-bridge.org/bridge01/" target="_blank" rel="noopener"
>https://rss-bridge.org/bridge01/&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
&lt;/li>
&lt;li>å¾®ä¿¡å…¬ä¼—å·è½¬RSSæœåŠ¡ &lt;a class="link" href="https://wechat2rss.xlab.app/" target="_blank" rel="noopener"
>https://wechat2rss.xlab.app/&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
&lt;/li>
&lt;/ul>
&lt;p>æ•ˆæœï¼š&lt;/p>
&lt;p>&lt;img src="https://cdn.jsdelivr.net/gh/Falasool/blog-pic-bed@main/blog202312051412551.webp"
loading="lazy"
alt="image"
>&lt;/p></description></item><item><title>Hugoï½œShortCuts çŸ­ä»£ç </title><link>https://falasool.github.io/2023/hugo-shortcuts/</link><pubDate>Tue, 07 Nov 2023 21:28:27 +0800</pubDate><guid>https://falasool.github.io/2023/hugo-shortcuts/</guid><description>&lt;p>æœ€èŠ±é‡Œèƒ¡å“¨çš„ä¸€é›†ï¼Œä¹Ÿè®¸éœ€è¦ âš ï¸ å…‰æ•æ€§ç™«ç—«é¢„è­¦&lt;/p>
&lt;h2 id="æ•ˆæœ">æ•ˆæœ&lt;/h2>
&lt;details>
&lt;summary>ç‚¹æˆ‘å±•å¼€&lt;/summary>
(ã€ƒ`ğ“ŸÂ´ã€ƒ) å¤©æ‰ã§ã™ã‹ã‚‰ï¼
&lt;/details>
&lt;p>&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;/p>
&lt;iframe src="https://open.spotify.com/embed/track/7ofV2J7Ndzo2s5NBEgfpxl"
width="100%"
height="80px"
frameborder="0"
allowtransparency="true"
allow="encrypted-media">&lt;/iframe>
&lt;p>&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;/p>
&lt;div class="db-card">
&lt;div class="db-card-subject">
&lt;div class="db-card-post">
&lt;img
loading="lazy"
decoding="async"
referrerpolicy="no-referrer"
src="https://neodb.social/m/book/2022/11/26ca863604-212b-4499-b616-cb57740e2386.jpg"
/>
&lt;/div>
&lt;div class="db-card-content">
&lt;div class="db-card-title">
&lt;a href="https://neodb.social/book/6Wn7wIf31mFcrGN4js0SeY%28%e6%9d%a1%e7%9b%ae%e9%93%be%e6%8e%a5%29" class="cute" target="_blank" rel="noreferrer"
>å¦‚æœæˆ‘ä»¬æ— æ³•ä»¥å…‰é€Ÿå‰è¡Œ&lt;/a
>
&lt;/div>
&lt;div class="db-orig_title">
&lt;a href="https://neodb.social/book/6Wn7wIf31mFcrGN4js0SeY%28%e6%9d%a1%e7%9b%ae%e9%93%be%e6%8e%a5%29" class="cute" target="_blank" rel="noreferrer"
>ìš°ë¦¬ê°€ ë¹›ì˜ ì†ë„ë¡œ ê°ˆ ìˆ˜ ì—†ë‹¤ë©´&lt;/a
>
&lt;/div>
&lt;div class="db-card-author-translator">
[[éŸ©] é‡‘è‰å¶]&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; è¯‘è€…ï¼š[æ˜¥å–œ]
&lt;/div>
&lt;div class="db-card-isbn">ISBN:&amp;nbsp;&amp;nbsp;9787572704864&lt;/div>
&lt;div class="rating">
&lt;span class="allstardark"
>&lt;span
class="allstarlight"
style="width:81%"
>&lt;/span>&lt;/span
>&lt;span class="rating_nums">8.1&lt;/span>
&lt;/div>
&lt;div class="db-card-abstract">å½“æ­»äº¡ä¸å†ä»£è¡¨æ°¸åˆ«ï¼Œäººç”Ÿå°†å¦‚ä½•ï¼Ÿ
ã€Šå¦‚æœæˆ‘ä»¬æ— æ³•ä»¥å…‰é€Ÿå‰è¡Œã€‹æ˜¯é‡‘è‰å¶çš„ç¬¬ä¸€éƒ¨çŸ­ç¯‡å°è¯´é›†ï¼Œä¹Ÿæ˜¯å¥¹å†™ä½œç”Ÿæ¶¯çš„è€€çœ¼å¼€å¹•ã€‚è¿™éƒ¨ç§‘å¹»å°è¯´é›†åœ¨éŸ©å›½ä¸€å…±ç´¯è®¡äº†25ä¸‡å†Œé”€é‡ï¼Œè¢«ã€Šæœé²œæ—¥æŠ¥ã€‹ã€Šä¸œäºšæ—¥æŠ¥ã€‹ã€Šæ–‡åŒ–æ—¥æŠ¥ã€‹ã€Šäº¬ä¹¡æ–°é—»ã€‹ç­‰å¤šå®¶æƒå¨åª’ä½“é€‰ä¸º2019å¹´å¹´åº¦å›¾ä¹¦ï¼Œè·éŸ©å›½æ–‡åŒ–è‰ºæœ¯å§”å‘˜ä¼šã€éŸ©å›½å‡ºç‰ˆæ–‡åŒ–åä¼šæ¨èï¼Œå¹¶å…¥é€‰éŸ©å›½æ–‡å­¦è¯„è®ºå®¶åä¼šè¯„å‡ºçš„â€œæˆ‘ä»¬æ—¶ä»£çš„å°è¯´50éƒ¨â€ã€‚é‡‘è‰å¶ä»¥ä¸€å·±ä¹‹åŠ›ï¼Œæ‰“ç ´äº†â€œéŸ©å›½ç§‘å¹»å°è¯´æ˜¯å¦å­˜åœ¨è¯»è€…â€çš„...&lt;/div>
&lt;/div>
&lt;div class="db-card-cate">book&lt;/div>
&lt;/div>
&lt;/div>
&lt;style>
.db-card {
margin: 2.5rem 3rem;
background: var(--card-background);
border-radius: 7px;
box-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
}
.db-card-subject {
display: flex;
align-items: flex-start;
line-height: 1.6;
padding: 12px;
position: relative;
}
.dark .db-card {
background: var(--card-background);
}
.db-card-content {
flex: 1 1 auto;
}
.db-card-post {
width: 9.6rem;
margin-right: 15px;
display: flex;
flex: 0 0 auto;
}
.db-card-title {
font-size: 14px;
color: var(--card-text-color-main);
}
.db-orig_title,
.db-card-author-translator,
.db-card-publish,
.db-card-isbn {
font-size: 12px;
color: var(--card-text-color-main);
}
.db-card-isbn {
margin-bottom: 10px;
}
.db-card-title a {
text-decoration: none !important;
}
.db-card-abstract,
.db-card-comment {
font-size: 10px;
overflow: scroll;
max-height: 10rem;
color: var(--card-text-color-main);
}
.db-card-cate {
position: absolute;
top: 0;
right: 0;
background: #f99b01;
padding: 1px 8px;
font-size: small;
font-style: italic;
border-radius: 0 8px 0 8px;
text-transform: capitalize;
}
.db-card-post img {
width: 9.6rem !important;
border-radius: 4px;
-o-object-fit: cover;
object-fit: cover;
}
.rating {
margin: 0 0 5px;
font-size: 13px;
line-height: 1;
display: flex;
align-items: center;
}
.rating .allstardark {
position: relative;
color: #f99b01;
height: 16px;
width: 80px;
background-size: auto 100%;
margin-right: 8px;
background-repeat: repeat;
background-image: url(data:image/svg+xml;base64,PHN2ZyBjbGFzcz0iaWNvbiIgdmlld0JveD0iMCAwIDEwMjQgMTAyNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB3aWR0aD0iMzIiIGhlaWdodD0iMzIiPjxwYXRoIGQ9Ik05MDguMSAzNTMuMWwtMjUzLjktMzYuOUw1NDAuNyA4Ni4xYy0zLjEtNi4zLTguMi0xMS40LTE0LjUtMTQuNS0xNS44LTcuOC0zNS0xLjMtNDIuOSAxNC41TDM2OS44IDMxNi4ybC0yNTMuOSAzNi45Yy03IDEtMTMuNCA0LjMtMTguMyA5LjMtMTIuMyAxMi43LTEyLjEgMzIuOS42IDQ1LjNsMTgzLjcgMTc5LjEtNDMuNCAyNTIuOWMtMS4yIDYuOS0uMSAxNC4xIDMuMiAyMC4zIDguMiAxNS42IDI3LjYgMjEuNyA0My4yIDEzLjRMNTEyIDc1NGwyMjcuMSAxMTkuNGM2LjIgMy4zIDEzLjQgNC40IDIwLjMgMy4yIDE3LjQtMyAyOS4xLTE5LjUgMjYuMS0zNi45bC00My40LTI1Mi45IDE4My43LTE3OS4xYzUtNC45IDguMy0xMS4zIDkuMy0xOC4zIDIuNy0xNy41LTkuNS0zMy43LTI3LTM2LjN6TTY2NC44IDU2MS42bDM2LjEgMjEwLjNMNTEyIDY3Mi43IDMyMy4xIDc3MmwzNi4xLTIxMC4zLTE1Mi44LTE0OUw0MTcuNiAzODIgNTEyIDE5MC43IDYwNi40IDM4MmwyMTEuMiAzMC43LTE1Mi44IDE0OC45eiIgZmlsbD0iI2Y5OWIwMSIvPjwvc3ZnPg==);
}
.rating .allstarlight {
position: absolute;
left: 0;
color: #f99b01;
height: 16px;
overflow: hidden;
background-size: auto 100%;
background-repeat: repeat;
background-image: url(data:image/svg+xml;base64,PHN2ZyBjbGFzcz0iaWNvbiIgdmlld0JveD0iMCAwIDEwMjQgMTAyNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB3aWR0aD0iMzIiIGhlaWdodD0iMzIiPjxwYXRoIGQ9Ik05MDguMSAzNTMuMWwtMjUzLjktMzYuOUw1NDAuNyA4Ni4xYy0zLjEtNi4zLTguMi0xMS40LTE0LjUtMTQuNS0xNS44LTcuOC0zNS0xLjMtNDIuOSAxNC41TDM2OS44IDMxNi4ybC0yNTMuOSAzNi45Yy03IDEtMTMuNCA0LjMtMTguMyA5LjMtMTIuMyAxMi43LTEyLjEgMzIuOS42IDQ1LjNsMTgzLjcgMTc5LjEtNDMuNCAyNTIuOWMtMS4yIDYuOS0uMSAxNC4xIDMuMiAyMC4zIDguMiAxNS42IDI3LjYgMjEuNyA0My4yIDEzLjRMNTEyIDc1NGwyMjcuMSAxMTkuNGM2LjIgMy4zIDEzLjQgNC40IDIwLjMgMy4yIDE3LjQtMyAyOS4xLTE5LjUgMjYuMS0zNi45bC00My40LTI1Mi45IDE4My43LTE3OS4xYzUtNC45IDguMy0xMS4zIDkuMy0xOC4zIDIuNy0xNy41LTkuNS0zMy43LTI3LTM2LjN6IiBmaWxsPSIjZjk5YjAxIi8+PC9zdmc+);
}
@media (max-width: 550px) {
.db-card {
margin: 0.8rem 1rem;
}
.db-card-comment {
display: none;
}
.db-card-cate {
font-size: 10px;
}
}
&lt;/style>
&lt;p>&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;/p>
&lt;div class="video-wrapper">
&lt;iframe src="https://player.bilibili.com/player.html?as_wide=1&amp;amp;high_quality=1&amp;amp;page=1&amp;bvid=BV1cw411c7Zi"
scrolling="no"
frameborder="no"
framespacing="0"
allowfullscreen="true"
>
&lt;/iframe>
&lt;/div>
&lt;p>&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;/p>
&lt;div class="notice notice-warning" >
&lt;div class="notice-title">&lt;svg xmlns="http://www.w3.org/2000/svg" class="icon notice-icon" viewBox="0 0 576 512" fill="hsl(0, 65%, 65%)">&lt;path d="M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zM124 296c-6.6.0-12-5.4-12-12v-56c0-6.6 5.4-12 12-12h264c6.6.0 12 5.4 12 12v56c0 6.6-5.4 12-12 12H124z"/>&lt;/svg>&lt;/div>&lt;p>Warningï¼šéœ€è¦åŒæ‹¬å·ã€‚&lt;/p>&lt;/div>
&lt;style>
.notice {
position: relative;
padding: 1em 1em 1em 2.5em;
margin-bottom: 1em;
border-radius: 4px;
p:last-child {
margin-bottom: 0;
}
.notice-title {
position: absolute;
left: 0.8em;
.notice-icon {
width: 1.2em;
height: 1.2em;
}
}
&amp;.notice-warning {
background: hsla(0, 65%, 65%, 0.15);
border-left: 5px solid hsl(0, 65%, 65%);
.notice-title {
color: hsl(0, 65%, 65%);
}
}
&amp;.notice-info {
background: hsla(30, 80%, 70%, 0.15);
border-left: 5px solid hsl(30, 80%, 70%);
.notice-title {
color: hsl(30, 80%, 70%);
}
}
&amp;.notice-note {
background: hsla(200, 65%, 65%, 0.15);
border-left: 5px solid hsl(200, 65%, 65%);
.notice-title {
color: hsl(200, 65%, 65%);
}
}
&amp;.notice-tip {
background: hsla(140, 65%, 65%, 0.15);
border-left: 5px solid hsl(140, 65%, 65%);
.notice-title {
color: hsl(140, 65%, 65%);
}
}
}
[data-theme='dark'] .notice {
&amp;.notice-warning {
background: hsla(0, 25%, 35%, 0.15);
border-left: 5px solid hsl(0, 25%, 35%);
.notice-title {
color: rgba(224, 108, 108, 0.5);
}
}
&amp;.notice-info {
background: hsla(30, 25%, 35%, 0.15);
border-left: 5px solid hsl(30, 25%, 35%);
.notice-title {
color: rgba(240, 178, 117, 0.5);
}
}
&amp;.notice-note {
background: hsla(200, 25%, 35%, 0.15);
border-left: 5px solid hsl(200, 25%, 35%);
.notice-title {
color: rgba(108, 185, 224, 0.5);
}
}
&amp;.notice-tip {
background: hsla(140, 25%, 35%, 0.15);
border-left: 5px solid hsl(140, 25%, 35%);
.notice-title {
color: rgba(108, 224, 147, 0.5);
}
}
}
&lt;/style>
&lt;div class="notice notice-info" >
&lt;div class="notice-title">&lt;svg xmlns="http://www.w3.org/2000/svg" class="icon notice-icon" viewBox="0 0 512 512" fill="hsl(30, 80%, 70%)">&lt;path d="M256 8a248 248 0 100 496 248 248 0 000-496zm0 110a42 42 0 110 84 42 42 0 010-84zm56 254c0 7-5 12-12 12h-88c-7 0-12-5-12-12v-24c0-7 5-12 12-12h12v-64h-12c-7 0-12-5-12-12v-24c0-7 5-12 12-12h64c7 0 12 5 12 12v100h12c7 0 12 5 12 12v24z"/>&lt;/svg>&lt;/div>&lt;p>infoï¼šè¿™æ˜¯ä¸€æ¡ä¿¡æ¯ã€‚&lt;/p>&lt;/div>
&lt;style>
.notice {
position: relative;
padding: 1em 1em 1em 2.5em;
margin-bottom: 1em;
border-radius: 4px;
p:last-child {
margin-bottom: 0;
}
.notice-title {
position: absolute;
left: 0.8em;
.notice-icon {
width: 1.2em;
height: 1.2em;
}
}
&amp;.notice-warning {
background: hsla(0, 65%, 65%, 0.15);
border-left: 5px solid hsl(0, 65%, 65%);
.notice-title {
color: hsl(0, 65%, 65%);
}
}
&amp;.notice-info {
background: hsla(30, 80%, 70%, 0.15);
border-left: 5px solid hsl(30, 80%, 70%);
.notice-title {
color: hsl(30, 80%, 70%);
}
}
&amp;.notice-note {
background: hsla(200, 65%, 65%, 0.15);
border-left: 5px solid hsl(200, 65%, 65%);
.notice-title {
color: hsl(200, 65%, 65%);
}
}
&amp;.notice-tip {
background: hsla(140, 65%, 65%, 0.15);
border-left: 5px solid hsl(140, 65%, 65%);
.notice-title {
color: hsl(140, 65%, 65%);
}
}
}
[data-theme='dark'] .notice {
&amp;.notice-warning {
background: hsla(0, 25%, 35%, 0.15);
border-left: 5px solid hsl(0, 25%, 35%);
.notice-title {
color: rgba(224, 108, 108, 0.5);
}
}
&amp;.notice-info {
background: hsla(30, 25%, 35%, 0.15);
border-left: 5px solid hsl(30, 25%, 35%);
.notice-title {
color: rgba(240, 178, 117, 0.5);
}
}
&amp;.notice-note {
background: hsla(200, 25%, 35%, 0.15);
border-left: 5px solid hsl(200, 25%, 35%);
.notice-title {
color: rgba(108, 185, 224, 0.5);
}
}
&amp;.notice-tip {
background: hsla(140, 25%, 35%, 0.15);
border-left: 5px solid hsl(140, 25%, 35%);
.notice-title {
color: rgba(108, 224, 147, 0.5);
}
}
}
&lt;/style>
&lt;div class="notice notice-note" >
&lt;div class="notice-title">&lt;svg xmlns="http://www.w3.org/2000/svg" class="icon notice-icon" viewBox="0 0 512 512" fill="hsl(200, 65%, 65%)">&lt;path d="M504 256a248 248 0 11-496 0 248 248 0 01496 0zm-248 50a46 46 0 100 92 46 46 0 000-92zm-44-165l8 136c0 6 5 11 12 11h48c7 0 12-5 12-11l8-136c0-7-5-13-12-13h-64c-7 0-12 6-12 13z"/>&lt;/svg>&lt;/div>&lt;p>noteï¼šå¯ä»¥æ ‡æ³¨ä¸€ä¸‹ï¼Œä½†æ˜¯æ²¡å¿…è¦ã€‚&lt;/p>&lt;/div>
&lt;style>
.notice {
position: relative;
padding: 1em 1em 1em 2.5em;
margin-bottom: 1em;
border-radius: 4px;
p:last-child {
margin-bottom: 0;
}
.notice-title {
position: absolute;
left: 0.8em;
.notice-icon {
width: 1.2em;
height: 1.2em;
}
}
&amp;.notice-warning {
background: hsla(0, 65%, 65%, 0.15);
border-left: 5px solid hsl(0, 65%, 65%);
.notice-title {
color: hsl(0, 65%, 65%);
}
}
&amp;.notice-info {
background: hsla(30, 80%, 70%, 0.15);
border-left: 5px solid hsl(30, 80%, 70%);
.notice-title {
color: hsl(30, 80%, 70%);
}
}
&amp;.notice-note {
background: hsla(200, 65%, 65%, 0.15);
border-left: 5px solid hsl(200, 65%, 65%);
.notice-title {
color: hsl(200, 65%, 65%);
}
}
&amp;.notice-tip {
background: hsla(140, 65%, 65%, 0.15);
border-left: 5px solid hsl(140, 65%, 65%);
.notice-title {
color: hsl(140, 65%, 65%);
}
}
}
[data-theme='dark'] .notice {
&amp;.notice-warning {
background: hsla(0, 25%, 35%, 0.15);
border-left: 5px solid hsl(0, 25%, 35%);
.notice-title {
color: rgba(224, 108, 108, 0.5);
}
}
&amp;.notice-info {
background: hsla(30, 25%, 35%, 0.15);
border-left: 5px solid hsl(30, 25%, 35%);
.notice-title {
color: rgba(240, 178, 117, 0.5);
}
}
&amp;.notice-note {
background: hsla(200, 25%, 35%, 0.15);
border-left: 5px solid hsl(200, 25%, 35%);
.notice-title {
color: rgba(108, 185, 224, 0.5);
}
}
&amp;.notice-tip {
background: hsla(140, 25%, 35%, 0.15);
border-left: 5px solid hsl(140, 25%, 35%);
.notice-title {
color: rgba(108, 224, 147, 0.5);
}
}
}
&lt;/style>
&lt;div class="notice notice-tip" >
&lt;div class="notice-title">&lt;svg xmlns="http://www.w3.org/2000/svg" class="icon notice-icon" viewBox="0 0 512 512" fill="hsl(140, 65%, 65%)">&lt;path d="M504 256a248 248 0 11-496 0 248 248 0 01496 0zM227 387l184-184c7-6 7-16 0-22l-22-23c-7-6-17-6-23 0L216 308l-70-70c-6-6-16-6-23 0l-22 23c-7 6-7 16 0 22l104 104c6 7 16 7 22 0z"/>&lt;/svg>&lt;/div>&lt;p>tipï¼šåœ¨ç¤ºä¾‹é‡Œèƒ¡è¯´å…«é“ä¼šä½¿è§‚çœ‹è€…ä¼šå¿ƒä¸€ç¬‘ã€‚&lt;/p>&lt;/div>
&lt;style>
.notice {
position: relative;
padding: 1em 1em 1em 2.5em;
margin-bottom: 1em;
border-radius: 4px;
p:last-child {
margin-bottom: 0;
}
.notice-title {
position: absolute;
left: 0.8em;
.notice-icon {
width: 1.2em;
height: 1.2em;
}
}
&amp;.notice-warning {
background: hsla(0, 65%, 65%, 0.15);
border-left: 5px solid hsl(0, 65%, 65%);
.notice-title {
color: hsl(0, 65%, 65%);
}
}
&amp;.notice-info {
background: hsla(30, 80%, 70%, 0.15);
border-left: 5px solid hsl(30, 80%, 70%);
.notice-title {
color: hsl(30, 80%, 70%);
}
}
&amp;.notice-note {
background: hsla(200, 65%, 65%, 0.15);
border-left: 5px solid hsl(200, 65%, 65%);
.notice-title {
color: hsl(200, 65%, 65%);
}
}
&amp;.notice-tip {
background: hsla(140, 65%, 65%, 0.15);
border-left: 5px solid hsl(140, 65%, 65%);
.notice-title {
color: hsl(140, 65%, 65%);
}
}
}
[data-theme='dark'] .notice {
&amp;.notice-warning {
background: hsla(0, 25%, 35%, 0.15);
border-left: 5px solid hsl(0, 25%, 35%);
.notice-title {
color: rgba(224, 108, 108, 0.5);
}
}
&amp;.notice-info {
background: hsla(30, 25%, 35%, 0.15);
border-left: 5px solid hsl(30, 25%, 35%);
.notice-title {
color: rgba(240, 178, 117, 0.5);
}
}
&amp;.notice-note {
background: hsla(200, 25%, 35%, 0.15);
border-left: 5px solid hsl(200, 25%, 35%);
.notice-title {
color: rgba(108, 185, 224, 0.5);
}
}
&amp;.notice-tip {
background: hsla(140, 25%, 35%, 0.15);
border-left: 5px solid hsl(140, 25%, 35%);
.notice-title {
color: rgba(108, 224, 147, 0.5);
}
}
}
&lt;/style>
&lt;p>&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;/p>
&lt;div class="video-wrapper">
&lt;iframe loading="lazy"
src="https://www.youtube.com/embed/EF8C4v7JIbA"
allowfullscreen
title="YouTube Video"
>
&lt;/iframe>
&lt;/div>
&lt;p>&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;/p>
&lt;blockquote>
&lt;p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.&lt;/p>&lt;span class="cite">&lt;span>â€• &lt;/span>&lt;span>A famous person, &lt;/span>&lt;a href="https://en.wikipedia.org/wiki/Book">&lt;cite>The book they wrote&lt;/cite>&lt;/a>&lt;/span>&lt;/blockquote>
&lt;p>&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;/p>
&lt;div class="timeline__row">
&lt;div class="timeline__time">
&lt;div class="timeline__time">2023-09-10&lt;/div>
&lt;div class="timeline__split-line">&lt;/div>
&lt;/div>
&lt;div class="timeline__content">
&lt;div class="timeline__tags">
&lt;span class="timeline__tag">&lt;/span>
&lt;/div>
&lt;a href="">
&lt;div class="timeline__title">&lt;/div>
&lt;/a>
&lt;div class="timeline__description">&lt;/div>
&lt;/div>
&lt;/div>
&lt;style>
.timeline {
display: flex;
flex-direction: column;
}
.timeline__row {
display: flex;
padding-left: 4%;
height: 90px;
}
.timeline__time {
flex: 0 0 110px;
color: #5d5d5d;
font-size: 17px;
text-transform: uppercase;
position: relative;
display: flex;
flex-direction: column;
align-items: center;
padding: 0.5rem 0;
}
.timeline__time-text {
margin: 0;
}
.timeline__split-line {
position: absolute;
top: 0.5rem;
right: -20px;
height: 100%;
width: 2px;
background-color: #84c4e240;
z-index: 0;
}
.timeline__split-line:before {
content: '';
position: absolute;
top: 24%;
right: -4px;
transform: translateY(-50%);
width: 10px;
height: 10px;
background-color: #c9e5f2;
box-shadow: 0 0 0 4px var(--theme);
border-radius: 50%;
border: 0px solid #84c4e2;
z-index: -1;
}
.timeline__content {
flex: 1;
margin-left: 4.5rem;
padding: 0.5rem 0 1.2rem 0;
}
.timeline__title {
margin: 0;
margin-bottom: 2px;
padding-top: 3px;
margin-left: 0.5rem;
color: var(--content);
font-family: var(--font-family-teshu);
font-size: var(--article-font-size);
font-weight: 600;
width: fit-content;
display: inline-block;
vertical-align: middle;
}
.timeline__tags {
display: inline-block;
padding: 0;
margin-left: 0.3rem;
align-items: center;
gap: 0.3rem;
}
.timeline__tag {
display: inline-block;
color: var(--secondary);
background-color: #84c4e230;
border: 1.5px solid #84c4e230;
border-radius: 999px;
padding: 0rem 0.5rem;
font-size: 12px;
white-space: nowrap;
line-height: 1.4rem;
opacity: 0.8;
vertical-align: middle;
}
.timeline__description {
font-size: 15px;
line-height: 1.6;
color: #5d5d5d;
overflow: hidden;
text-overflow: ellipsis;
margin: 0.5rem 0 0.4rem 1.5rem;
}
.timeline__tag-style {
background-color: #c581da;
border-color: #c581da;
color: #ffffff;
}
.timeline__tag-article {
background-color: #92d392;
border-color: #92d392;
color: #000000;
}
.timeline__tag-page {
background-color: #707070;
border-color: #707070;
color: #ffffff;
}
@media screen and (max-width: 768px) {
.timeline__time {
font-size: 14px;
}
.timeline__title {
font-size: var(--article-font-size);
}
.timeline__description {
font-size: 14px;
}
}
&lt;/style>
&lt;div class="timeline__row">
&lt;div class="timeline__time">
&lt;div class="timeline__time">2023-09-10&lt;/div>
&lt;div class="timeline__split-line">&lt;/div>
&lt;/div>
&lt;div class="timeline__content">
&lt;div class="timeline__tags">
&lt;span class="timeline__tag">&lt;/span>
&lt;/div>
&lt;a href="">
&lt;div class="timeline__title">&lt;/div>
&lt;/a>
&lt;div class="timeline__description">&lt;/div>
&lt;/div>
&lt;/div>
&lt;style>
.timeline {
display: flex;
flex-direction: column;
}
.timeline__row {
display: flex;
padding-left: 4%;
height: 90px;
}
.timeline__time {
flex: 0 0 110px;
color: #5d5d5d;
font-size: 17px;
text-transform: uppercase;
position: relative;
display: flex;
flex-direction: column;
align-items: center;
padding: 0.5rem 0;
}
.timeline__time-text {
margin: 0;
}
.timeline__split-line {
position: absolute;
top: 0.5rem;
right: -20px;
height: 100%;
width: 2px;
background-color: #84c4e240;
z-index: 0;
}
.timeline__split-line:before {
content: '';
position: absolute;
top: 24%;
right: -4px;
transform: translateY(-50%);
width: 10px;
height: 10px;
background-color: #c9e5f2;
box-shadow: 0 0 0 4px var(--theme);
border-radius: 50%;
border: 0px solid #84c4e2;
z-index: -1;
}
.timeline__content {
flex: 1;
margin-left: 4.5rem;
padding: 0.5rem 0 1.2rem 0;
}
.timeline__title {
margin: 0;
margin-bottom: 2px;
padding-top: 3px;
margin-left: 0.5rem;
color: var(--content);
font-family: var(--font-family-teshu);
font-size: var(--article-font-size);
font-weight: 600;
width: fit-content;
display: inline-block;
vertical-align: middle;
}
.timeline__tags {
display: inline-block;
padding: 0;
margin-left: 0.3rem;
align-items: center;
gap: 0.3rem;
}
.timeline__tag {
display: inline-block;
color: var(--secondary);
background-color: #84c4e230;
border: 1.5px solid #84c4e230;
border-radius: 999px;
padding: 0rem 0.5rem;
font-size: 12px;
white-space: nowrap;
line-height: 1.4rem;
opacity: 0.8;
vertical-align: middle;
}
.timeline__description {
font-size: 15px;
line-height: 1.6;
color: #5d5d5d;
overflow: hidden;
text-overflow: ellipsis;
margin: 0.5rem 0 0.4rem 1.5rem;
}
.timeline__tag-style {
background-color: #c581da;
border-color: #c581da;
color: #ffffff;
}
.timeline__tag-article {
background-color: #92d392;
border-color: #92d392;
color: #000000;
}
.timeline__tag-page {
background-color: #707070;
border-color: #707070;
color: #ffffff;
}
@media screen and (max-width: 768px) {
.timeline__time {
font-size: 14px;
}
.timeline__title {
font-size: var(--article-font-size);
}
.timeline__description {
font-size: 14px;
}
}
&lt;/style>
&lt;h2 id="ä½¿ç”¨æ–¹æ³•">ä½¿ç”¨æ–¹æ³•&lt;/h2>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">{\{&amp;lt; detail &amp;#34;ç”Ÿæ•ˆäº†&amp;#34; &amp;gt;}\}
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">(ã€ƒ`ğ“ŸÂ´ã€ƒ) å¤©æ‰ã§ã™ã‹ã‚‰ï¼
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">{\{&amp;lt; /detail &amp;gt;}\}
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">{\{&amp;lt; spotify type=&amp;#34;track&amp;#34; id=&amp;#34;7ofV2J7Ndzo2s5NBEgfpxl&amp;#34; height=&amp;#34;80px&amp;#34;&amp;gt;}\}
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">{\{&amp;lt; neodb &amp;#34;https://neodb.social/book/6Wn7wIf31mFcrGN4js0SeY(æ¡ç›®é“¾æ¥)&amp;#34; &amp;gt;}\}
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">{\{&amp;lt; bilibili BV1cw411c7Zi 1 &amp;gt;}\} //BVå·ï¼Œåˆ†pæ•°ï¼›ä½¿ç”¨è®°å¾—åŒæ‹¬å·
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">{\{&amp;lt; notice notice-warning &amp;gt;}\}
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Warningï¼šéœ€è¦åŒæ‹¬å·ã€‚
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">{\{&amp;lt; /notice &amp;gt;}\}
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">{\{&amp;lt; notice notice-info &amp;gt;}\}
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">infoï¼šè¿™æ˜¯ä¸€æ¡ä¿¡æ¯ã€‚
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">{\{&amp;lt; /notice &amp;gt;}\}
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">{\{&amp;lt; notice notice-note &amp;gt;}\}
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">noteï¼šå¯ä»¥æ ‡æ³¨ä¸€ä¸‹ï¼Œä½†æ˜¯æ²¡å¿…è¦ã€‚
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">{\{&amp;lt; /notice &amp;gt;}\}
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">{\{&amp;lt; notice notice-tip &amp;gt;}\}
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">tipï¼šåœ¨ç¤ºä¾‹é‡Œèƒ¡è¯´å…«é“ä¼šä½¿è§‚çœ‹è€…ä¼šå¿ƒä¸€ç¬‘ã€‚
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">{\{&amp;lt; /notice &amp;gt;}\}
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">{\{&amp;lt; youtube EF8C4v7JIbA&amp;gt;}\}
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">{\{&amp;lt; quote author=&amp;#34;A famous person&amp;#34; source=&amp;#34;The book they wrote&amp;#34; url=&amp;#34;https://en.wikipedia.org/wiki/Book&amp;#34;&amp;gt;}\}
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">{\{&amp;lt; /quote &amp;gt;}\}
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">{\{&amp;lt; timeline date=&amp;#34;2023-09-10&amp;#34; title=&amp;#34;&amp;#34; description=&amp;#34;&amp;#34; tags=&amp;#34;&amp;#34; url=&amp;#34;&amp;#34; &amp;gt;}\}
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="å‚è€ƒ--è‡´è°¢">å‚è€ƒ &amp;amp; è‡´è°¢&lt;/h2>
&lt;p>&lt;a class="link" href="https://www.sleepymoon.cyou/2023/hugo-shortcodes/" target="_blank" rel="noopener"
>Hugo | åœ¨ Stack ä¸»é¢˜ä¸Šå¯è¡Œçš„çŸ­ä»£ç ä»¬&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
&lt;/p>
&lt;p>&lt;a class="link" href="https://stack.jimmycai.com/writing/shortcodes" target="_blank" rel="noopener"
>https://stack.jimmycai.com/writing/shortcodes&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
&lt;/p>
&lt;p>&lt;a class="link" href="https://github.com/zzossig/hugo-theme-zzo/tree/master/layouts/shortcodes" target="_blank" rel="noopener"
>https://github.com/zzossig/hugo-theme-zzo/tree/master/layouts/shortcodes&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
&lt;/p></description></item><item><title>Figma</title><link>https://falasool.github.io/2023/figma/</link><pubDate>Sun, 05 Nov 2023 23:55:30 +0800</pubDate><guid>https://falasool.github.io/2023/figma/</guid><description>&lt;h2 id="cheat-sheet">cheat sheet&lt;/h2>
&lt;p>space ç§»åŠ¨ç”»å¸ƒ&lt;/p>
&lt;p>control + ä¸­é”®æ»šè½® ç¼©æ”¾ç”»å¸ƒ&lt;/p>
&lt;p>å³ä¸Šè§’æ˜¾ç¤ºå½“å‰ç”»å¸ƒç™¾åˆ†æ¯”&lt;/p>
&lt;p>ç™¾åˆ†ç™¾æ˜¾ç¤º shift + 0&lt;/p>
&lt;p>æ˜¾ç¤ºå…¨éƒ¨å†…å®¹ shift + 1&lt;/p>
&lt;p>åªæ˜¾ç¤ºç”»å¸ƒ command + \&lt;/p>
&lt;p>å³ä¸‹è§’ help and resources ã€‹keyboard shortcuts æ˜¾ç¤ºé”®ç›˜å¿«æ·é”®&lt;/p>
&lt;h2 id="å·¥å…·æ ">å·¥å…·æ &lt;/h2>
&lt;h3 id="ç§»åŠ¨å·¥å…·ç¼©æ”¾å·¥å…·">ç§»åŠ¨å·¥å…·&amp;amp;ç¼©æ”¾å·¥å…·&lt;/h3>
&lt;p>å¤åˆ¶ option æ‹–åŠ¨ï¼Œæ‹–åŠ¨æ—¶ shift ä¿æŒæ°´å¹³/å‚ç›´&lt;/p>
&lt;p>è¿ç»­å¤åˆ¶ option å¤åˆ¶ç¬¬ä¸€æ¬¡ä¹‹åæŒ‰ cmd +D&lt;/p>
&lt;p>æŒ‰ option å•ç‹¬æ§åˆ¶åœ†è§’&lt;/p>
&lt;p>æ•´ç†åŠŸèƒ½&lt;/p>
&lt;p>ç¼©æ”¾ï¼šç¼©æ”¾ä¸ä¼šå˜å½¢&lt;/p>
&lt;h2 id="frame-ä¸ç»„">Frame ä¸ç»„&lt;/h2>
&lt;p>ç¼–ç»„ control + G&lt;/p>
&lt;p>å–æ¶ˆç¼–ç»„ control + shift +G&lt;/p>
&lt;p>åŠ é€‰/å‡é€‰ shift&lt;/p>
&lt;p>å¼ºåˆ¶åµŒå¥— control&lt;/p>
&lt;p>é¿å…åµŒå¥— space&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>group&lt;/th>
&lt;th>Frame&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>è°ƒæ•´ç»„çš„å¤§å°å½±å“å­é›†çš„å¤§å°&lt;/td>
&lt;td>éœ€è¦å¼¹æ€§å¸ƒå±€ã€å­é€‚åº”&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;/td>
&lt;td>å¤šä¸ª Frame åµŒå¥—&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;p>æƒ³ç§»åŠ¨å¤šä¸ªå…ƒç´  è¶…å‡ºéƒ¨åˆ†éœ€è¦è£åˆ‡&lt;/p>
&lt;h2 id="å½¢çŠ¶å·¥å…·">å½¢çŠ¶å·¥å…·&lt;/h2>
&lt;p>å­¦ä¼šç»˜åˆ¶ã€ç¼–è¾‘å¸¸è§é€ å‹&lt;/p>
&lt;p>option ä»¥çŸ©å½¢ä¸­å¿ƒä¸ºåŸºå‡†&lt;/p>
&lt;p>shift ç”»æ­£æ–¹å½¢&lt;/p>
&lt;h2 id="è’™æ¿">è’™æ¿&lt;/h2>
&lt;p>æŠŠå›¾å±‚é‡å -é€‰ä¸­-åœ¨é¡¶éƒ¨å±…ä¸­çš„ä½ç½®ç‚¹å‡» Use as mask&lt;/p></description></item><item><title>Vue | Note | Monster Slayer Game</title><link>https://falasool.github.io/2023/vuejs-monster-slayer/</link><pubDate>Thu, 31 Aug 2023 15:25:38 +0800</pubDate><guid>https://falasool.github.io/2023/vuejs-monster-slayer/</guid><description>&lt;ul>
&lt;li>&lt;a class="link" href="https://monster-slayer.ponder.lol/" target="_blank" rel="noopener"
>Live Deploy&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
&lt;/li>
&lt;li>&lt;a class="link" href="https://github.com/Falasool/vuejs-monster-slayer" target="_blank" rel="noopener"
>Github ä»“åº“&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
&lt;/li>
&lt;/ul>
&lt;h2 id="å†™é™æ€é¡µé¢">å†™é™æ€é¡µé¢&lt;/h2>
&lt;p>&lt;img src="https://cdn.jsdelivr.net/gh/Falasool/blog-pic-bed@main//blog202308290007098.webp"
loading="lazy"
alt="image"
>&lt;/p>
&lt;h2 id="å®ç°åŠŸèƒ½">å®ç°åŠŸèƒ½&lt;/h2>
&lt;h3 id="ç‚¹å‡»-attack-æ€ªå…½è¡€é‡ä¸‹é™éšæœºæ•°å€¼">ç‚¹å‡» ATTACK æ€ªå…½è¡€é‡ä¸‹é™éšæœºæ•°å€¼&lt;/h3>
&lt;p>â­ï¸ æœ€å…³é”®çš„ï¼šéšæœºæ•°å€¼ã€‚
æ‰€ä»¥ &lt;code>Math.floor(Math.random() * (15 - 10) + 10)&lt;/code>ï¼Œå³ã€ç”Ÿæˆ [10,15) èŒƒå›´å†…çš„éšæœºæµ®ç‚¹æ•°å¹¶å‘ä¸‹å–æ•´ã€ã€‚å› ä¸ºæœ‰å¥½å‡ ç§ç±»å‹çš„æ”»å‡»éƒ½è¦ç”¨åˆ°è¿™ä¸ªæ–¹æ³•ï¼Œæ‰€ä»¥æŠŠå®ƒæå‡ºæ¥:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">function&lt;/span> &lt;span class="nx">getRandomValue&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">n&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">m&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nb">Math&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">floor&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nb">Math&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">random&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="o">*&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">m&lt;/span> &lt;span class="o">-&lt;/span> &lt;span class="nx">n&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="nx">n&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>â­ï¸ è®¾å®šåˆå§‹å¥åº·å€¼ monsterHealth ä¸º 100&lt;/p>
&lt;p>â­ï¸ ç»‘å®šç‚¹å‡»äº‹ä»¶ &lt;code>@click=â€œattackMonsterâ€&lt;/code>ï¼Œæ¯æ¬¡ç‚¹å‡»æ‘‡å‡ºä¸€ä¸ªéšæœºä¼¤å®³å€¼&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">attackMonster&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">attackValue&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">getRandomValue&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">5&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">12&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">monsterHealth&lt;/span> &lt;span class="o">-=&lt;/span> &lt;span class="nx">attackValue&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>â­ï¸ ç»™ health process åŠ¨æ€ç»‘å®šå±æ€§ &lt;code>:style=&amp;quot;monsterBarStyle&amp;quot;&lt;/code>ï¼Œå†™è®¡ç®—å±æ€§ monsterBarStyle&lt;/p>
&lt;p>â­ï¸ æ³¨æ„ï¼š1ï¸âƒ£this2ï¸âƒ£ æ¨¡æ¿å­—ç¬¦ä¸²,å¯ä»¥å†…åµŒå˜é‡å’Œè¡¨è¾¾å¼ 3ï¸âƒ£${damage} æ˜¯æ¨¡æ¿å­—ç¬¦ä¸²ä¸­åµŒå…¥çš„ä¸€ä¸ªå˜é‡ 4ï¸âƒ£scaleX() æ˜¯ CSS transform çš„ä¸€ä¸ªæ–¹æ³•,ç”¨äºç¼©æ”¾å…ƒç´ çš„å®½åº¦&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">monsterBarStyle&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">damage&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">monsterHealth&lt;/span> &lt;span class="o">/&lt;/span> &lt;span class="mi">100&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">transform&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="sb">`scaleX(&lt;/span>&lt;span class="si">${&lt;/span>&lt;span class="nx">damage&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="sb">)`&lt;/span> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="æ”»å‡»æ€ªå…½åè¢«åå‡»">æ”»å‡»æ€ªå…½åè¢«åå‡»&lt;/h3>
&lt;p>â­ï¸ ã€æ”»å‡»é™è¡€æ¡ã€çš„é€»è¾‘ä¸€æ ·ã€‚åœ¨ attackMonster() é‡Œè°ƒç”¨ attackKnight()&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">attackMonster&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// â€¦â€¦â€¦â€¦â€¦â€¦ //
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">// æ€ªå…½åå‡»
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">attackKnight&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="ç‰¹æ®Šæ”»å‡»">ç‰¹æ®Šæ”»å‡»&lt;/h3>
&lt;p>â­ï¸ æ¯ä¸‰æ¬¡æ™®é€šæ”»å‡»/æ²»ç–—æ”’å¤Ÿä¸€ä¸ªè“æ¡ï¼Œè¿™æ—¶ special attack æ‰èƒ½ç”¨ã€‚å…¶å®ƒæ—¶é—´æŒ‰æ‰­ç°è‰²ä¸èµ·ä½œç”¨ ==&amp;gt; ç”¨ css ä¼ªç±» &lt;code>:disabled&lt;/code> å®ç°&lt;/p>
&lt;p>â­ï¸ æ¯æ¬¡è°ƒç”¨æ™®æ”»å’Œæ²»ç–—æ—¶ currentRound + 1ï¼ˆdefault = 0ï¼‰ï¼Œå½“ currentRound ç§¯ç´¯åˆ° 3 æ—¶ &lt;code>:disabled&lt;/code> å¤±æ•ˆ&lt;/p>
&lt;p>â­ï¸ è®¾ç½®ä¸€ä¸ª computedï¼Œç”¨äºæ§åˆ¶ &lt;code>:disabled&lt;/code>ï¼Œæ”’å¤Ÿè“æ¡ä½†ä¸ç”¨å¤§æ‹›ä¹Ÿæ²¡å…³ç³», btn ä¼šä¿æŒ active&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">mayUseSpecialAttack&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">currentRound&lt;/span> &lt;span class="o">/&lt;/span> &lt;span class="mi">3&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="mi">1&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>â­ï¸ é€šè¿‡ v-bind åŠ¨æ€ç»‘å®šç»™ btn: &lt;code>ï¼šstyle=&amp;quot;mayUseSpecialAttack&amp;quot;&lt;/code>&lt;/p>
&lt;p>â­ï¸ ä½¿ç”¨å¤§æ‹›åè“æ¡æ¸…ç©ºé‡æ–°å¼€å§‹è®¡æ•°&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">specialAttackMonster&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">event&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">...&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ä½¿ç”¨å¤§æ‹›åè“æ¡æ¸…ç©ºï¼Œé‡æ–°ç§¯ç´¯
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">event&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">target&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">style&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">disabled&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kc">true&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">currentRound&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">0&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="ç‚¹å‡»-heal-æ²»ç–—è‡ªå·±éšæœºæ•°å€¼æ€ªå…½å‘èµ·æ”»å‡»">ç‚¹å‡» HEAL æ²»ç–—è‡ªå·±éšæœºæ•°å€¼ï¼Œæ€ªå…½å‘èµ·æ”»å‡»&lt;/h3>
&lt;p>â­ï¸ å’Œæ™®é€šæ”»å‡»çš„é€»è¾‘ä¸€è‡´ï¼Œåªä¸è¿‡å˜æˆ +=&lt;/p>
&lt;p>â­ï¸ knightHealth ä¸èƒ½è¶…è¿‡ä¸Šé™ 100&lt;/p>
&lt;h3 id="æŠ•é™">æŠ•é™&lt;/h3>
&lt;p>ç»™ knightHealth èµ‹å€¼ä¸º 0&lt;/p>
&lt;h3 id="ç©å®¶è¾“å…¥æ˜µç§°">ç©å®¶è¾“å…¥æ˜µç§°&lt;/h3>
&lt;p>â­ï¸ è¾“å…¥æ˜µç§°å‰éšè— input ä»¥ä¸‹çš„ç»“æ„ v-if&lt;/p>
&lt;p>â­ï¸ ç”¨ v-model åŒå‘ç»‘å®š input å’Œ value&lt;/p>
&lt;h3 id="ç›‘è§†æ¯”èµ›ç»“æœ">ç›‘è§†æ¯”èµ›ç»“æœ&lt;/h3>
&lt;p>â­ï¸ watch å±æ€§ç”¨äºç›‘è§† data()é‡Œçš„æ•°æ®&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-Vue" data-lang="Vue">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">knightHealth&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">value&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">value&lt;/span> &lt;span class="o">&amp;lt;=&lt;/span> &lt;span class="mi">0&lt;/span> &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">monsterHealth&lt;/span> &lt;span class="o">&amp;lt;=&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">winner&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s1">&amp;#39;draw&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span> &lt;span class="k">else&lt;/span> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">value&lt;/span> &lt;span class="o">&amp;lt;=&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">winner&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s1">&amp;#39;monster&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="æ˜¾ç¤ºæ¯”èµ›ç»“æœ">æ˜¾ç¤ºæ¯”èµ›ç»“æœ&lt;/h3>
&lt;ul>
&lt;li>v-if&lt;/li>
&lt;li>v-else-if&lt;/li>
&lt;li>v-else&lt;/li>
&lt;/ul>
&lt;p>è”åˆä½¿ç”¨æ˜¾ç¤ºå¯¹åº”çš„æ¯”èµ›ç»“æœ&lt;/p>
&lt;h3 id="battle-log">battle log&lt;/h3>
&lt;p>â­ï¸ è®¾ç½® &lt;code>data(){logs:[]}&lt;/code>&lt;/p>
&lt;p>â­ï¸ è®¾ç½® methods addLogs(){}&lt;/p>
&lt;p>â­ï¸ æ¯æ¬¡æ”»å‡» / æ²»æ„ˆæ—¶è°ƒç”¨ addLogs(),è¿™æ ·æˆ˜æ–—æ•°æ®å°±ä¼ å…¥ logs array äº†&lt;/p>
&lt;p>â­ï¸ ç”¨ v-for éå†æŠŠ log æ’åˆ—å‡ºæ¥ï¼Œç”¨ currentTime() ä½œä¸ºç´¢å¼•&lt;/p>
&lt;p>â­ï¸ æ—¶é—´æˆ³è½¬æ¢ä¸ºå¯è¯»çš„æ—¶é—´æ ¼å¼&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">function&lt;/span> &lt;span class="nx">currentTime&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">date&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">var&lt;/span> &lt;span class="nx">date&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="nb">Date&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">date&lt;/span> &lt;span class="o">*&lt;/span> &lt;span class="mi">1000&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="c1">//å¦‚æœdateä¸º13ä½ä¸éœ€è¦ä¹˜1000
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="kd">var&lt;/span> &lt;span class="nx">Y&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">date&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">getFullYear&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="s1">&amp;#39;-&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">var&lt;/span> &lt;span class="nx">M&lt;/span> &lt;span class="o">=&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">(&lt;/span>&lt;span class="nx">date&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">getMonth&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="mi">1&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="mi">10&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">?&lt;/span> &lt;span class="s1">&amp;#39;0&amp;#39;&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">date&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">getMonth&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">:&lt;/span> &lt;span class="nx">date&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">getMonth&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="s1">&amp;#39;-&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">var&lt;/span> &lt;span class="nx">D&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">date&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">getDate&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="mi">10&lt;/span> &lt;span class="o">?&lt;/span> &lt;span class="s1">&amp;#39;0&amp;#39;&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="nx">date&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">getDate&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="o">:&lt;/span> &lt;span class="nx">date&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">getDate&lt;/span>&lt;span class="p">())&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="s1">&amp;#39; &amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">var&lt;/span> &lt;span class="nx">h&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">date&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">getHours&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="mi">10&lt;/span> &lt;span class="o">?&lt;/span> &lt;span class="s1">&amp;#39;0&amp;#39;&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="nx">date&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">getHours&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="o">:&lt;/span> &lt;span class="nx">date&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">getHours&lt;/span>&lt;span class="p">())&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="s1">&amp;#39;:&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">var&lt;/span> &lt;span class="nx">m&lt;/span> &lt;span class="o">=&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">(&lt;/span>&lt;span class="nx">date&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">getMinutes&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="mi">10&lt;/span> &lt;span class="o">?&lt;/span> &lt;span class="s1">&amp;#39;0&amp;#39;&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="nx">date&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">getMinutes&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="o">:&lt;/span> &lt;span class="nx">date&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">getMinutes&lt;/span>&lt;span class="p">())&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="s1">&amp;#39;:&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">var&lt;/span> &lt;span class="nx">s&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">date&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">getSeconds&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="mi">10&lt;/span> &lt;span class="o">?&lt;/span> &lt;span class="s1">&amp;#39;0&amp;#39;&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="nx">date&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">getSeconds&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="o">:&lt;/span> &lt;span class="nx">date&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">getSeconds&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nx">Y&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="nx">M&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="nx">D&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="nx">h&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="nx">m&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="nx">s&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="restart-æŒ‰æ‰­">restart æŒ‰æ‰­&lt;/h3>
&lt;p>æŠŠ data(){} é‡Œçš„å„é¡¹æ•°æ®é‡ç½®&lt;/p>
&lt;h3 id="é€‚åº”å°å±å¹•">é€‚åº”å°å±å¹•&lt;/h3>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-css" data-lang="css">&lt;span class="line">&lt;span class="cl">&lt;span class="p">@&lt;/span>&lt;span class="k">media&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="nt">max-width&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nt">393px&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">...&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div></description></item><item><title>Migrant ot Akkoma</title><link>https://falasool.github.io/2023/migrant-oto-akkoma/</link><pubDate>Mon, 31 Jul 2023 16:22:45 +0800</pubDate><guid>https://falasool.github.io/2023/migrant-oto-akkoma/</guid><description>&lt;h2 id="å‡†å¤‡">å‡†å¤‡&lt;/h2>
&lt;p>ğŸŒŸå¤‡ä»½&lt;/p>
&lt;p>â¡ï¸è´¦å·ï¼š Settings &amp;ndash; Data import/exportï¼Œå…¨éƒ¨å¯¼å‡º&lt;/p>
&lt;p>ä»¥ä¸‹æ–‡ä»¶å¤¹ç”¨ FTP å®¢æˆ·ç«¯ï¼ˆFileZillaï¼‰å¤‡ä»½åˆ°ç”µè„‘&lt;/p>
&lt;p>â¡ï¸æ•°æ®åº“ï¼š&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">mkdir -p /pleromabackup
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">chmod &lt;span class="m">777&lt;/span> /pleromabackup
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>ç™»å…¥æ•°æ®åº“&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-postgresql" data-lang="postgresql">&lt;span class="line">&lt;span class="cl">&lt;span class="n">su&lt;/span> &lt;span class="o">-&lt;/span> &lt;span class="n">postgres&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">psql&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="n">U&lt;/span> &lt;span class="n">postgres&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">postgres&lt;/span>&lt;span class="o">=#&lt;/span> &lt;span class="err">\&lt;/span>&lt;span class="o">!&lt;/span> &lt;span class="n">pg_dump&lt;/span> &lt;span class="n">pleroma&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="n">f&lt;/span> &lt;span class="o">/&lt;/span>&lt;span class="n">pleromabackup&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">pleroma&lt;/span>&lt;span class="mf">.&lt;/span>&lt;span class="n">pgdump&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>â¡ï¸Pleroma é…ç½®ï¼š/etc/pleroma/&lt;/p>
&lt;p>â¡ï¸Pleroma é™æ€æ–‡ä»¶ï¼š/var/lib/pleroma&lt;/p>
&lt;p>ğŸŒŸæŠŠåŸŸåçš„IPæŒ‡å‘æ–°æœåŠ¡å™¨&lt;/p>
&lt;h2 id="æ­å»ºè¿‡ç¨‹">æ­å»ºè¿‡ç¨‹&lt;/h2>
&lt;p>å®‰è£…ä¾èµ–&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">apt update
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">apt upgrade
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">apt install curl unzip libncurses5 postgresql postgresql-contrib nginx libmagic-dev
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">apt install imagemagick ffmpeg libimage-exiftool-perl
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>å®‰è£…æœ¬ä½“ï¼šæ³¨æ„ Ubuntu22 çš„FLAVOURå˜é‡æ˜¯amd64-ubuntu-jammy&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">adduser --system --shell /bin/false --home /opt/akkoma akkoma
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">export&lt;/span> &lt;span class="nv">FLAVOUR&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;amd64-ubuntu-jammy&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">su akkoma -s &lt;span class="nv">$SHELL&lt;/span> -lc &lt;span class="s2">&amp;#34;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">curl &amp;#39;https://akkoma-updates.s3-website.fr-par.scw.cloud/stable/akkoma-&lt;/span>&lt;span class="nv">$FLAVOUR&lt;/span>&lt;span class="s2">.zip&amp;#39; -o /tmp/akkoma.zip
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">unzip /tmp/akkoma.zip -d /tmp/
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">su akkoma -s &lt;span class="nv">$SHELL&lt;/span> -lc &lt;span class="s2">&amp;#34;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">mv /tmp/release/* /opt/akkoma
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">rmdir /tmp/release
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">rm /tmp/akkoma.zip
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">mkdir -p /var/lib/akkoma/uploads
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">chown -R akkoma /var/lib/akkoma
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">mkdir -p /var/lib/akkoma/static
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">chown -R akkoma /var/lib/akkoma
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">mkdir -p /etc/akkoma
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">chown -R akkoma /etc/akkoma
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">su akkoma -s &lt;span class="nv">$SHELL&lt;/span> -lc &lt;span class="s2">&amp;#34;./bin/pleroma_ctl instance gen --output /etc/akkoma/config.exs --output-psql /tmp/setup_db.psql&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">su postgres -s &lt;span class="nv">$SHELL&lt;/span> -lc &lt;span class="s2">&amp;#34;psql -f /tmp/setup_db.psql&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">su akkoma -s &lt;span class="nv">$SHELL&lt;/span> -lc &lt;span class="s2">&amp;#34;./bin/pleroma_ctl migrate&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">su akkoma -s &lt;span class="nv">$SHELL&lt;/span> -lc &lt;span class="s2">&amp;#34;./bin/pleroma daemon&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sleep &lt;span class="m">20&lt;/span> &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> curl http://localhost:4000/api/v1/instance
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">su akkoma -s &lt;span class="nv">$SHELL&lt;/span> -lc &lt;span class="s2">&amp;#34;./bin/pleroma stop&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>ç”³è¯·SSLè¯ä¹¦ï¼šå‚è€ƒ&lt;a class="link" href="https://ponder.lol/2023/new-pleroma-isntance-on-debian11/#%E9%80%9A%E9%85%8D%E7%AC%A6-ssl-%E8%AF%81%E4%B9%A6%E8%87%AA%E5%8A%A8%E7%BB%AD%E6%9C%9F" target="_blank" rel="noopener"
>é€šé…ç¬¦ SSL è¯ä¹¦è‡ªåŠ¨ç»­æœŸ&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
&lt;/p>
&lt;p>Nginxï¼š&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">cp /opt/akkoma/installation/akkoma.nginx /etc/nginx/sites-available/akkoma.conf
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>ä¿®æ”¹æ‰€æœ‰ example.tld ä¸ºå‡†å¤‡å¥½çš„åŸŸå&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">vim /etc/nginx/sites-available/akkoma.conf
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">nginx -t
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">systemctl restart nginx
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">cp /opt/akkoma/installation/akkoma.service /etc/systemd/system/akkoma.service
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">systemctl start akkoma
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">systemctl &lt;span class="nb">enable&lt;/span> akkoma
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>åˆ›å»ºç®¡ç†å‘˜è´¦æˆ·ã€å®‰è£…å‰ç«¯&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">cd /opt/akkoma
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">su akkoma -s $SHELL -lc &amp;#34;./bin/pleroma_ctl user new admin cyouike@duck.com --admin&amp;#34;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">./bin/pleroma_ctl frontend install pleroma-fe --ref stable
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">./bin/pleroma_ctl frontend install admin-fe --ref stable
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="æœ¬åœ°å®šæ—¶å¤‡ä»½">æœ¬åœ°å®šæ—¶å¤‡ä»½&lt;/h2>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">mkdir /opt/local_backup
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">cd&lt;/span> /opt/local_backup
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">vim backup.sh
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>è„šæœ¬å†…å®¹ï¼š&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">&lt;span class="cp">#!/bin/sh
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cp">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">source&lt;/span> /etc/profile
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">echo&lt;/span> &lt;span class="s2">&amp;#34;â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”backup to local directoryâ€”â€”â€”â€”â€”â€”â€”â€”â€”â€”&amp;#34;&lt;/span> &lt;span class="p">|&lt;/span> tee -a /opt/local_backup/backuplog.txt
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">echo&lt;/span> &lt;span class="sb">`&lt;/span>date +&lt;span class="s2">&amp;#34;%Y-%m-%d %H:%M:%S&amp;#34;&lt;/span>&lt;span class="sb">`&lt;/span> &lt;span class="s2">&amp;#34;now starting backup&amp;#34;&lt;/span> &lt;span class="p">|&lt;/span> tee -a /opt/local_backup/backuplog.txt
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">echo&lt;/span> &lt;span class="s1">&amp;#39;stop akkoma&amp;#39;&lt;/span> &lt;span class="p">|&lt;/span> tee -a /opt/local_backup/backuplog.txt
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sudo systemctl stop akkoma
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">echo&lt;/span> &lt;span class="s2">&amp;#34;0.create a backup day directory&amp;#34;&lt;/span> &lt;span class="p">|&lt;/span> tee -a /opt/local_backup/backuplog.txt
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">if&lt;/span> &lt;span class="o">[&lt;/span> -d /opt/local_backup/&lt;span class="sb">`&lt;/span>date +%Y%m%d&lt;span class="sb">``&lt;/span>date +%Y%m%d&lt;span class="sb">`&lt;/span> &lt;span class="o">]&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="k">then&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">echo&lt;/span> &lt;span class="s2">&amp;#34;Floder&amp;#34;&lt;/span> &lt;span class="sb">`&lt;/span>date +%Y%m%d&lt;span class="sb">`&lt;/span> &lt;span class="s2">&amp;#34;already exists.&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">else&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> mkdir /opt/local_backup/&lt;span class="sb">`&lt;/span>date +%Y%m%d&lt;span class="sb">`&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">echo&lt;/span> &lt;span class="s2">&amp;#34;New floder&amp;#34;&lt;/span> &lt;span class="sb">`&lt;/span>date +%Y%m%d&lt;span class="sb">`&lt;/span> &lt;span class="p">|&lt;/span> tee -a /opt/local_backup/backuplog.txt
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">fi&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">chmod +777 /opt/local_backup/&lt;span class="sb">`&lt;/span>date +%Y%m%d&lt;span class="sb">`&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">cd&lt;/span> /opt/local_backup/&lt;span class="sb">`&lt;/span>date +%Y%m%d&lt;span class="sb">`&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">echo&lt;/span> &lt;span class="s2">&amp;#34;1.dump database&amp;#34;&lt;/span> &lt;span class="p">|&lt;/span> tee -a /opt/local_backup/backuplog.txt
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sudo -Hu postgres pg_dump -d akkoma --format&lt;span class="o">=&lt;/span>custom -f /opt/local_backup/&lt;span class="sb">`&lt;/span>date +%Y%m%d&lt;span class="sb">`&lt;/span>/akkoma.pgdump
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">echo&lt;/span> &lt;span class="s2">&amp;#34;2. copy upload &amp;amp; static folder&amp;#34;&lt;/span> &lt;span class="p">|&lt;/span> tee -a /opt/local_backup/backuplog.txt
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">cp -r /var/lib/akkoma/static /opt/local_backup/&lt;span class="sb">`&lt;/span>date +%Y%m%d&lt;span class="sb">`&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">cp -r /var/lib/akkoma/uploads /opt/local_backup/&lt;span class="sb">`&lt;/span>date +%Y%m%d&lt;span class="sb">`&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">echo&lt;/span> &lt;span class="s2">&amp;#34;3. copy config file&amp;#34;&lt;/span> &lt;span class="p">|&lt;/span> tee -a /opt/local_backup/backuplog.txt
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">cp /etc/akkoma/config.exs /opt/local_backup/&lt;span class="sb">`&lt;/span>date +%Y%m%d&lt;span class="sb">`&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">echo&lt;/span> &lt;span class="s2">&amp;#34;restart akkoma&amp;#34;&lt;/span> &lt;span class="p">|&lt;/span> tee -a /opt/local_backup/backuplog.txt
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sudo systemctl start akkoma
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">echo&lt;/span> &lt;span class="sb">`&lt;/span>date +&lt;span class="s2">&amp;#34;%Y-%m-%d %H:%M:%S&amp;#34;&lt;/span>&lt;span class="sb">`&lt;/span> &lt;span class="s2">&amp;#34;finished&amp;#34;&lt;/span> &lt;span class="p">|&lt;/span> tee -a /opt/local_backup/backuplog.txt
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">echo&lt;/span> &lt;span class="s2">&amp;#34;Backup for&amp;#34;&lt;/span> &lt;span class="sb">`&lt;/span>date +%Y%m%d&lt;span class="sb">`&lt;/span> &lt;span class="s2">&amp;#34;done!&amp;#34;&lt;/span> &lt;span class="p">|&lt;/span> tee -a /opt/local_backup/backuplog.txt
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>åˆ é™¤è¶…è¿‡15å¤©çš„å¤‡ä»½&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">vim clear.sh
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">find /opt/local_backup/ -type d -mtime +15 -exec rm -rf &lt;span class="o">{}&lt;/span> &lt;span class="se">\;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>è®¾ç½®å®šæ—¶ä»»åŠ¡&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">crontab -e
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="m">00&lt;/span> &lt;span class="m">04&lt;/span> * * &lt;span class="m">6&lt;/span> root /bin/bash /opt/local_backup/backup.sh
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="m">00&lt;/span> &lt;span class="m">23&lt;/span> &lt;span class="m">1&lt;/span> * * root /bin/bash /opt/local_backup/clear.sh
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="å‚è€ƒ--è‡´è°¢">å‚è€ƒ &amp;amp; è‡´è°¢&lt;/h2>
&lt;p>&lt;a class="link" href="https://docs.akkoma.dev/stable/installation/otp_en/#detecting-flavour" target="_blank" rel="noopener"
>Installing on Linux using OTP releases&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
&lt;/p>
&lt;p>&lt;a class="link" href="https://im.happytoo.cyou/posts/2301%E5%A4%87%E4%BB%BDpleroma/#%E6%9C%AC%E5%9C%B0%E5%AE%9A%E6%97%B6%E5%A4%87%E4%BB%BD" target="_blank" rel="noopener"
>å¤‡ä»½pleromaè®°å½•&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
&lt;/p>
&lt;p>&lt;a class="link" href="https://docs.akkoma.dev/stable/administration/CLI_tasks/instance/#managing-instance-configuration" target="_blank" rel="noopener"
>Managing instance configuration&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
&lt;/p></description></item><item><title>åœ¨ Ubuntu22.04 ä¸Šæ­å»º Discourse è®ºå›</title><link>https://falasool.github.io/2023/build-discourse-site-on-ubuntu22/</link><pubDate>Sat, 22 Jul 2023 21:28:27 +0800</pubDate><guid>https://falasool.github.io/2023/build-discourse-site-on-ubuntu22/</guid><description>&lt;p>ä¹°æœåŠ¡å™¨ï¼Œç³»ç»Ÿä¸º Ubuntu 22.04 - x86_64&lt;/p>
&lt;p>ä¹°åŸŸåï¼Œæ‰˜ç®¡åˆ° CloudFlareï¼ˆå¼€DNS onlyï¼‰ï¼ŒæŒ‡å‘æœåŠ¡å™¨IP&lt;/p>
&lt;p>æ’æ’­ï¼šFlarumè®ºå›ä¹Ÿå¥½çœ‹ï¼Œè¿˜è½»é‡&lt;/p>
&lt;h2 id="chore">Chore&lt;/h2>
&lt;p>SSHç»ˆç«¯é¢œè‰²&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># è¿›å…¥ /etc/profile æ–‡ä»¶&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">vim /etc/profile
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># å¢åŠ è¿™ä¸€è¡Œ&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nv">PS1&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s1">&amp;#39;[\[\e[32m\]\u\[\e[0m\]\[\e[35m\]@\[\e[0m\]\[\e[33m\]\h\[\e[0m\]\[\e[36m\] \W\[\e[0m\]]\$ &amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># æ›´æ–°æ–‡ä»¶&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">source&lt;/span> /etc/profile
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>å®‰è£…å¸¸ç”¨å·¥å…·&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">apt-get install curl wget screen tree git htop bash-completion fail2ban ufw -y
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>å¼€æ”¾ç«¯å£&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">ufw allow OpenSSH
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">ufw &lt;span class="nb">enable&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">ufw allow http
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">ufw allow https
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">ufw allow 80/tcp
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">ufw allow 443/tcp
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">ufw status
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>æ£€æŸ¥ 80 ç«¯å£æœ‰æ— è¢«å ç”¨&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">netstat -tuln &lt;span class="p">|&lt;/span> grep 80# è¿”å›ä¸ºç©ºè¯´æ˜æ²¡æœ‰
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">service nginx stop &lt;span class="c1"># nginxå äº†ï¼Œåœæ­¢nginx&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>SMTP é…ç½®&lt;/p>
&lt;p>åˆšå¼€å§‹ç”¨çš„ Mailjetï¼Œä»€ä¹ˆéƒ½é…ç½®å¥½äº†ï¼ŒæœåŠ¡å·²ç»è·‘èµ·æ¥äº†ï¼Œå‘ä¸äº†é‚®ä»¶å¯¼è‡´è¿ç®¡ç†å‘˜ä¹Ÿæ³¨å†Œä¸äº† ğŸ˜… åŸæ¥æ˜¯è¦å‘å·¥å•äººå·¥å®¡æ ¸ï¼Œè¿˜è¢«æ‹’äº†ã€‚è½¬Mailgun&lt;/p>
&lt;p>[æµ‹è¯•SMTPé…ç½®]&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">./launcher enter app
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">x86_64 arch detected.
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">rake emails:test&lt;span class="o">[&lt;/span>your-email@gmail.com&lt;span class="o">]&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="æœ¬ä½“">æœ¬ä½“&lt;/h2>
&lt;p>Docker&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">curl -fsSL https://get.docker.com -o get-docker.sh
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sh get-docker.sh
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Discourse&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">git clone https://github.com/discourse/discourse_docker.git /var/discourse
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">cd&lt;/span> /var/discourse
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">chmod &lt;span class="m">700&lt;/span> containers
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># å¯åŠ¨å®¹å™¨&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">./discourse-setup
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>#æŠ¥é”™ï¼šè¾“å…¥ &lt;code>Hostname for your Discourse? [discourse.example.com]:&lt;/code> åï¼š&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">Checking your domain name . . .
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">WARNING: Port &lt;span class="m">443&lt;/span> of computer does not appear to be accessible using hostname: xxx.com.
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">WARNING: Connection to http://xxx.com &lt;span class="o">(&lt;/span>port 80&lt;span class="o">)&lt;/span> also fails.
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">This suggests that xxx.com resolves to some IP address that does not reach this
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">machine where you are installing discourse.
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">The first thing to &lt;span class="k">do&lt;/span> is confirm that xxx.com resolves to the IP address of this server.
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">You usually &lt;span class="k">do&lt;/span> this at the same place you purchased the domain.
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">If you are sure that the IP address resolves correctly, it could be a firewall issue.
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">A web search &lt;span class="k">for&lt;/span> &lt;span class="s2">&amp;#34;open ports YOUR CLOUD SERVICE&amp;#34;&lt;/span> might help.
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">This tool is designed only &lt;span class="k">for&lt;/span> the most standard installations. If you cannot resolve
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">the issue above, you will need to edit containers/app.yml yourself and &lt;span class="k">then&lt;/span> &lt;span class="nb">type&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">./launcher rebuild app
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>è§£å†³ï¼šcloudflareé‡Œå¼€å¯ DNS only&lt;/p>
&lt;p>æˆåŠŸå¯åŠ¨å®¹å™¨åè®¿é—®åŸŸåï¼Œæ³¨å†Œç®¡ç†å‘˜è´¦æˆ· ğŸ‰&lt;/p>
&lt;h2 id="å‚è€ƒ--è‡´è°¢">å‚è€ƒ &amp;amp; è‡´è°¢&lt;/h2>
&lt;p>&lt;a class="link" href="https://www.orgleaf.com/3098.html" target="_blank" rel="noopener"
>è®©Discourseå’Œå…¶å®ƒç½‘ç«™è·‘åœ¨åŒä¸€å°ä¸»æœºä¸Š&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
&lt;/p>
&lt;p>å®‰è£…ä¾èµ–ï¼šphp_serializeã€miroã€mysql2&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">apt-get install build-essential ruby-dev libmysqlclient-dev
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">apt-get install rubygems
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">gem install php_serialize
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">gem install miro
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">gem install mysql2
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div></description></item><item><title>iTerm2 é…ç½®</title><link>https://falasool.github.io/2023/iterm2/</link><pubDate>Tue, 18 Jul 2023 18:41:59 +0800</pubDate><guid>https://falasool.github.io/2023/iterm2/</guid><description>&lt;p>SSH è¿œç¨‹è¿æ¥é…ç½®&lt;/p>
&lt;p>åˆ›å»ºç™»å½•è„šæœ¬ &lt;code>/.ssh/remote-login-vps.sh&lt;/code>&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">&lt;span class="cp">#!/usr/bin/expect
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cp">&lt;/span>&lt;span class="nb">set&lt;/span> timeout &lt;span class="m">30&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">spawn ssh -p &lt;span class="o">[&lt;/span>lindex &lt;span class="nv">$argv&lt;/span> 0&lt;span class="o">]&lt;/span> &lt;span class="o">[&lt;/span>lindex &lt;span class="nv">$argv&lt;/span> 1&lt;span class="o">]&lt;/span>@&lt;span class="o">[&lt;/span>lindex &lt;span class="nv">$argv&lt;/span> 2&lt;span class="o">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">expect &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s2">&amp;#34;(yes/no)?&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">{&lt;/span>send &lt;span class="s2">&amp;#34;yes\n&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span>exp_continue&lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s2">&amp;#34;password:&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">{&lt;/span>send &lt;span class="s2">&amp;#34;[lindex &lt;/span>&lt;span class="nv">$argv&lt;/span>&lt;span class="s2"> 3]\n&amp;#34;&lt;/span>&lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">interact
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>æˆäºˆæ‰§è¡Œæƒé™ &lt;code>chmod +x remote-login-vps.sh&lt;/code>&lt;/p>
&lt;p>è¿›å…¥iTerm2 -&amp;gt; preference -&amp;gt; Profilesï¼Œåˆ›å»ºä¸€ä¸ªProfileï¼Œåœ¨ General - Command - Send text at start è¾“å…¥&lt;code>~/.ssh/remote-login-vps.sh 22 ç”¨æˆ· ip å¯†ç &lt;/code>&lt;/p>
&lt;p>&lt;img src="https://cdn.jsdelivr.net/gh/Falasool/blog-pic-bed@main//blog202307181916887.webp"
loading="lazy"
alt="image (1)"
>&lt;/p></description></item><item><title>ç½‘ç»œé€šä¿¡è¿‡ç¨‹ + Vmessæ­å»º</title><link>https://falasool.github.io/2023/about-dns-principle-and-vpn/</link><pubDate>Mon, 17 Jul 2023 21:31:10 +0800</pubDate><guid>https://falasool.github.io/2023/about-dns-principle-and-vpn/</guid><description>&lt;h2 id="ç½‘ç»œé€šä¿¡çš„åŸºæœ¬è¿‡ç¨‹">ç½‘ç»œé€šä¿¡çš„åŸºæœ¬è¿‡ç¨‹&lt;/h2>
&lt;blockquote>
&lt;p>è®¾è®¡å‡ºå±‚çº§ç»“æ„ã€‚å‡ºå»æ—¶ä¸æ–­åŠ ç ï¼ŒåŠ ä¿¡æ¯ï¼ŒåŠ æ ‡ç­¾ï¼Œåˆ°è¾¾æ—¶ï¼Œä¸æ–­è§£ç ï¼Œå‡ä¿¡æ¯ï¼Œè§£åŒ…&lt;/p>
&lt;/blockquote>
&lt;h3 id="dns-è§£æ">DNS è§£æ&lt;/h3>
&lt;p>è¾“å…¥åŸŸå/ip &amp;ndash; æ£€æŸ¥æµè§ˆå™¨/æœ¬åœ°ç¼“å­˜ï¼Œhosts æ–‡ä»¶ &amp;ndash; å‘è¯·æ±‚åˆ°ç”µè„‘çš„ DNS æœåŠ¡å™¨ï¼ˆOSI ä¸ƒå±‚/äº”å±‚æ¨¡å‹ï¼‰ &amp;ndash; DNS æ˜¯åº”ç”¨å±‚çš„åè®®ï¼Œç”¨äºè¯·æ±‚åŸŸå/ipï¼Œè¯·æ±‚ä¸€å±‚ä¸€å±‚ä¸‹ä¼ ï¼Œåˆ°ç‰©ç†å±‚ï¼ˆç½‘å¡æ¥å£ï¼‰&amp;ndash; è¯·æ±‚åˆ°çš„æ•°æ®ç»™ä¼ è¾“å±‚ &amp;ndash; ä¼ è¾“å±‚å°è£…åº”ç”¨å±‚çš„æ•°æ®ï¼ˆæºç«¯å£ã€ç›®æ ‡ç«¯å£ï¼‰ä¸ºæ•°æ®åŒ… &amp;ndash; ä¸‹ä¼  &amp;ndash; ç½‘ç»œå±‚ã€åŒæ ·å°è£…ï¼ˆæº ipã€ç›®æ ‡ ipï¼‰&amp;ndash; å½“ç”µè„‘æ‰¾ä¸åˆ°è¿™ä¸ª ipï¼ˆä¸åœ¨èŒƒå›´å†…ï¼‰ä¼šå‘è¯·æ±‚ç»™ç½‘å…³ï¼ˆè·¯ç”±å™¨ï¼‰&lt;/p>
&lt;p>æ•°æ®é¡ºç€ç‰©ç†å±‚åˆ°ç½‘å¡æ¥å£ - ç½‘çº¿å‘å‡ºåˆ°äº¤æ¢æœºï¼ˆäºŒå±‚è®¾å¤‡ï¼‰ &amp;ndash; è½¬å‘åˆ°è·¯ç”±å™¨ï¼ˆä¸‰å±‚è®¾å¤‡ï¼‰ï¼Œæ¥æ”¶æ•°æ®åŒ…ï¼Œä¼ åˆ°ç½‘ç»œå±‚ &amp;ndash; å› ä¸ºç›®æ ‡ ip ä¸åœ¨å±€åŸŸç½‘å†…ï¼Œæ‰€ä»¥ä¼šè½¬å‘å‡ºå»ï¼ˆå…¬ç½‘çš„å…¶ä»–è·¯ç”±å™¨ï¼‰&amp;ndash; æŠŠå†…ç½‘ç½‘æ®µ NAT æ˜ å°„ä¸ºèƒ½åœ¨å…¬ç½‘ä¼ è¾“çš„ ip - å‘é€æ•°æ®åŒ…åˆ° DNS æœåŠ¡å™¨ï¼ˆé»˜è®¤ç«¯å£ 53ï¼‰ï¼ŒDNS æœåŠ¡å™¨æ ¹æ® OSI å±‚å±‚è§£æç›´åˆ°åº”ç”¨å±‚ï¼Œæ‹¿åˆ°è¯·æ±‚çš„æ•°æ®ï¼ˆipï¼‰ï¼Œå¼€å§‹å›ä¼ &lt;/p>
&lt;p>ä¼ è¾“å±‚ï¼ˆ+ç«¯å£ï¼‰ &amp;ndash; ç½‘ç»œå±‚ï¼ˆ+ipï¼‰ &amp;ndash; æ•°æ®é“¾è·¯å±‚ï¼ˆ+MAC åœ°å€ï¼‰&amp;ndash; ä»ç‰©ç†ç½‘å£å‡ºå» &amp;ndash;äº’è”ç½‘ &amp;ndash; åˆ°æ­£ç¡®çš„è·¯ç”±å™¨ï¼Œè·¯ç”±å™¨è½¬æ¢ IPã€MACã€æ·»åŠ å¤´éƒ¨ &amp;ndash; åå‘é‡å¤ä¸€éå‘å‡ºè¯·æ±‚çš„æ­¥éª¤ï¼Œè®©ç”µè„‘æ”¶åˆ°ç›®æ ‡ç½‘ç«™çš„ ip&lt;/p>
&lt;p>OSI ä¸ƒå±‚æ¨¡å‹&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>å±‚&lt;/th>
&lt;th>å±‚&lt;/th>
&lt;th>detail&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>åº”ç”¨å±‚&lt;/td>
&lt;td>åº”ç”¨å±‚&lt;/td>
&lt;td>HTTPã€FTP&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;/td>
&lt;td>è¡¨ç¤ºå±‚&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;/td>
&lt;td>ä¼šè¯å±‚&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>ä¼ è¾“å±‚&lt;/td>
&lt;td>ä¼ è¾“å±‚ï¼ˆç«¯å£ï¼‰&lt;/td>
&lt;td>TCPã€UDP&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>ç½‘ç»œå±‚&lt;/td>
&lt;td>ç½‘ç»œå±‚&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>ç½‘ç»œæ¥å£å±‚&lt;/td>
&lt;td>æ•°æ®é“¾æ¥å±‚&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;/td>
&lt;td>ç‰©ç†å±‚&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h2 id="gfw-å·¥ä½œåŸç†">GFW å·¥ä½œåŸç†&lt;/h2>
&lt;p>åº•å±‚åŸå› ï¼šèƒ½çœ‹åˆ°æˆ‘ä»¬çš„æ•°æ®å†…å®¹&lt;/p>
&lt;h3 id="dns-æ±¡æŸ“åŠ«æŒ">DNS æ±¡æŸ“/åŠ«æŒ&lt;/h3>
&lt;p>è®¿é—® Googleï¼Œå…ˆæ£€æŸ¥æœ¬æœºæœ‰æ— ç¼“å­˜ Google çš„ ipï¼ŒæŸ¥çœ‹ hosts æ–‡ä»¶é‡Œæœ‰æ²¡æœ‰å¯¹ google.com æ·»åŠ  IP åŸŸåæ˜ å°„å…³ç³»ï¼Œéƒ½æ²¡æœ‰ â¡ï¸ å‘æœ¬æœºé…ç½®çš„ DNS æœåŠ¡å™¨å‘ DNS è¯·æ±‚ï¼Œè¯·æ±‚ Google çš„ ipï¼Œè¿™ä¸ªè¯·æ±‚çš„æ•°æ®åŒ…æ¥åˆ° GFWï¼ˆäº”å±‚è®¾å¤‡ï¼‰æ—¶ä¼šè¢«çœ‹åˆ°å†…å®¹ï¼ˆå‡è®¾æœªè¢«æ‹¦æˆªï¼‰ï¼Œæ¥åˆ° real internetï¼Œåˆ°è¾¾ DNS æœåŠ¡å™¨å¹¶å‘å›æ•°æ®åŒ…ï¼Œè¢« GFW è§£åŒ…ï¼Œç¯¡æ”¹æ•°æ®ï¼ˆip åœ°å€ï¼‰åå‘ç»™æœ¬æœºï¼Œæ‰¾ä¸åˆ°å‡ ip å¯¹åº”çš„æœåŠ¡å™¨æ‰€ä»¥è®¿é—®ä¸äº†&lt;/p>
&lt;p>è§£å†³ï¼š&lt;/p>
&lt;p>ä¸å‘é€ DNS è¯·æ±‚ï¼Œåœ¨ host æ–‡ä»¶æ·»åŠ åŸŸå IP æ˜ å°„å…³ç³»ã€‚å› ä¸º HTTP åè®®æ˜¯åŸºäº TCPã€è¦å…ˆç”¨ TCP å’ŒæœåŠ¡å™¨å»ºç«‹è¿æ¥æ‰èƒ½ç”¨ HTTP è®¿é—®ï¼Œæ‰€ä»¥æ¥ä¸‹æ¥å‘æœåŠ¡å™¨å‘é€ TCP è¯·æ±‚ â¬‡ï¸&lt;/p>
&lt;h3 id="tcp-é‡ç½®æ”»å‡»">TCP é‡ç½®æ”»å‡»&lt;/h3>
&lt;p>è¿™ä¸ªè¯·æ±‚æ¥åˆ° GFWï¼Œè¢«è§£åŒ…åˆ°ç½‘ç»œå±‚å‘ç°äº†ç›®æ ‡ ipï¼Œåœ¨å®ƒçš„é»‘åå•é‡Œï¼Œå®ƒä¼šæ‹’ç»æˆ–ä¼ªé€ æ•°æ®ï¼ˆå›ç¨‹é˜»æ–­ï¼Œå‡ºå»çš„æ•°æ®åŒ…ä¸æ‹¦æˆªï¼ŒæœåŠ¡å™¨è¿”å›çš„åŒ…æ‰æ‹¦æˆªï¼Œè¿™ä¼šå¯¼è‡´ç¬¬ 2 æ¬¡æ¡æ‰‹æ— æ³•å®Œæˆï¼Œè¢«é˜»æ–­çš„æœåŠ¡å™¨ä¼šä¸åœçš„é‡ä¼ ï¼Œå®¢æˆ·ç«¯ä¼šä¸€ç›´ç­‰å¾…è¶…æ—¶ï¼‰&lt;/p>
&lt;h3 id="åŸŸåè¢«-ban">åŸŸåè¢« ban&lt;/h3>
&lt;p>è°·æ­Œæœ‰å¾ˆå¤šæœåŠ¡å™¨ï¼Œå…¶ä¸­ä¸€ä¸ªæ²¡åœ¨é»‘åå•ä¸Šï¼ŒGFW æ”¾è¡Œäº†ã€‚è¿”å›çš„æ•°æ®åŒ…ä¹Ÿè¢«æ”¾è¡Œæ¥åˆ°æœ¬æœºã€‚ç°åœ¨å¼€å§‹å‘æ•°æ®ï¼Œæ¥åˆ° GFWï¼Œç½‘ç»œå±‚ ip æ²¡é—®é¢˜ï¼Œåº”ç”¨å±‚å‘ç°è¦ google.com çš„æ•°æ®ï¼Œgoogle.com åŸŸååœ¨é»‘åå•é‡Œï¼Œæ•°æ®åŒ…è¢«å¹²æ‰&lt;/p>
&lt;h3 id="é‡æ”¾æ”»å‡»">é‡æ”¾æ”»å‡»&lt;/h3>
&lt;p>é˜²ç«å¢™ç”¨æœ¬æœºå‘é€çš„æ•°æ®åŒ…æ¢æµ‹ç›®æ ‡ VPSï¼Œæœ‰æ²¡æœ‰è¿è¡Œç‰¹å®šæœåŠ¡ï¼Œæ¯”å¦‚ SS&lt;/p>
&lt;h2 id="å¯¹ç­–">å¯¹ç­–&lt;/h2>
&lt;p>åŠ å¯†æ•°æ®ï¼š&lt;/p>
&lt;p>ä¼ ç»Ÿ vpn èƒ½åŠ å¯†ï¼Œä½†æ˜¯ç‰¹å¾å¤ªæ˜æ˜¾&lt;/p>
&lt;p>shadowsocks åè®®ï¼švps ä¸Šæ­å»º ss æœåŠ¡ç«¯ï¼Œç›‘å¬ç«¯å£ 1111ï¼Œæœ¬æœºè¿è¡Œ ss å®¢æˆ·ç«¯å¹¶ç›‘å¬ç«¯å£ 1080ï¼Œæµè§ˆå™¨è®¾ç½®ä»£ç†ç«¯å£&lt;/p>
&lt;p>vmess åè®®&lt;/p>
&lt;h2 id="æ­å»º-shadowsocks-èŠ‚ç‚¹æ²¡æœ‰å®æ“">æ­å»º Shadowsocks èŠ‚ç‚¹(æ²¡æœ‰å®æ“)&lt;/h2>
&lt;p>ä¼ªè£…æˆ http&lt;/p>
&lt;p>è´­ä¹° VPSï¼ŒSSH è¿æ¥&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">apt install shadowsocks-libev &lt;span class="c1"># å®‰è£…&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">systemctl status shadowsocks-libev.service &lt;span class="c1"># æŸ¥çœ‹çŠ¶æ€&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">vim /etc/shadowsocks-libev/config.json &lt;span class="c1"># ä¿®æ”¹é…ç½®æ–‡ä»¶ï¼Œipæ”¹ä¸º0.0.0.0&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">systemctl restart shadowsocks-libev.service &lt;span class="c1"># é‡å¯&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">journalctl -u shadowsocks-libev.service -f &lt;span class="c1"># æŸ¥çœ‹æ—¥å¿—&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>é˜²ç«å¢™è®¾ç½®&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">ufw status &lt;span class="c1"># æŸ¥çœ‹çŠ¶æ€&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">ufw allow &lt;span class="m">8388&lt;/span> &lt;span class="c1"># å¼€æ”¾ç«¯å£&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">ufw deny &lt;span class="m">8388&lt;/span> &lt;span class="c1"># æ‹’ç»ç«¯å£&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">ufw delete allow &lt;span class="m">8388&lt;/span> &lt;span class="c1"># åˆ é™¤è§„åˆ™&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">ufw disable &lt;span class="c1"># å…³é—­é˜²ç«å¢™&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">ufw &lt;span class="nb">enable&lt;/span> &lt;span class="c1">#å¯åŠ¨é˜²ç«å¢™&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;blockquote>
&lt;p>æœ€è¿‘çš„å¿ƒå¾—ï¼šé˜²ç«å¢™ç™½åå•+æŠ—å°é” snap ç‰ˆ shadowsocks-libev+OutlineVPN å®¢æˆ·ç«¯ éå¸¸æŠ—æï¼ŒçœŸé¦™ï¼ï¼ˆå…³é”® SS æ¯”åŸºäº tls çš„å¦‚ trojan,v2ray é€Ÿåº¦è¦å¿«ï¼‰&lt;/p>
&lt;p>æˆ‘ä¹Ÿæ˜¯çœ‹äº†ç½‘ä¸Šå„è·¯æ–‡ç« æ‰æœ‰äº†è¿™æ€è·¯çš„ï¼Œç›®å‰ç”¨å¾—å¾ˆå¥½ã€‚1ã€é˜²ç«å¢™ 100%é˜»æ–­ä¸­é—´äººï¼Œå› ä¸ºåªæœ‰ä½ è®¾ç½®å¥½ç™½åå•çš„ IP æ‰èƒ½è¿æ¥æœåŠ¡å™¨ ã€‚2ã€æŠ—å°é” snap æœ€æ–°ç‰ˆï¼ˆedge ç‰ˆä¸æ˜¯ stable ç‰ˆï¼‰å¯èƒ½åœ¨é˜²ä¸»åŠ¨è¯†åˆ«éƒ¨åˆ†é’ˆå¯¹æ€§æ”¹åŠ¨äº†ä¸€ä¸‹ï¼Œå¬è¯´å»äº†é‡æ”¾è¿‡æ»¤å™¨ã€‚3ã€outlineVPN å®¢æˆ·ç«¯å¬è¯´å¯ä»¥åˆå¹¶éƒ¨åˆ†æµé‡ï¼Œä»¥å‡å°‘è¢«åŠ¨è¯†åˆ«æ‹‰æ¸…å•ï¼ˆç„å­¦ï¼‰&lt;/p>
&lt;/blockquote>
&lt;p>è£¸å¥”çš„ ss æœåŠ¡å®¹æ˜“è¢«é‡æ”¾æ”»å‡»æ¢æµ‹åˆ°ï¼Œç”¨ plugin ä¼ªè£…æ•°æ®æµé‡&lt;/p>
&lt;p>&lt;a class="link" href="https://github.com/shadowsocks/v2ray-plugin" target="_blank" rel="noopener"
>https://github.com/shadowsocks/v2ray-plugin&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">apt install shadowsocks-v2ray-plugin
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">dpkg -L
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">ss-v2ray-plugin
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">vim /etc/shadowsocks-libev/config.json
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">+ &lt;span class="s2">&amp;#34;plugin&amp;#34;&lt;/span>: &lt;span class="s2">&amp;#34;ss-v2ray-plugin&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">+ &lt;span class="s2">&amp;#34;plugin_opts&amp;#34;&lt;/span>: &lt;span class="s2">&amp;#34;server&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">systemctl restart shadowsocks-libev.service
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="trojan-åŸç†å’Œæ­å»º">Trojan åŸç†å’Œæ­å»º&lt;/h2>
&lt;p>ä¼ªè£…æˆ https&lt;/p>
&lt;p>http çš„é—®é¢˜ï¼šæ˜æ–‡ã€å¯è¢«ç¯¡æ”¹&lt;/p>
&lt;p>https: http + tls&lt;/p>
&lt;h3 id="tls">TLS&lt;/h3>
&lt;p>éå¯¹ç§°åŠ å¯†ï¼šå…¬é’¥ã€ç§é’¥&lt;/p>
&lt;p>æœåŠ¡å™¨å‘ CA æœºæ„è¯·æ±‚ SSL è¯ä¹¦ï¼ŒCA æœºæ„è¦æ±‚è¯æ˜åŸŸåæ‰€æœ‰æƒåé¢å‘è¯æ˜ï¼ˆåŒ…å«å…¬é’¥å’Œæœ‰æ•ˆæœŸï¼‰ï¼Œä¹‹åæ‰èƒ½è¿›è¡Œ https è®¿é—®&lt;/p>
&lt;p>http æ•°æ®äº¤ç»™ tls è¿›è¡ŒåŠ å¯†ï¼Œå…ˆè¦è·Ÿç½‘ç«™å»ºç«‹ tls è¿æ¥ï¼Œç”¨å¯¹æ–¹çš„å…¬é’¥åŠ å¯†æ•°æ®ï¼ˆå®é™…ä¸Šæ˜¯æ¡æ‰‹ååå•†å‡ºå¯¹ç§°åŠ å¯†ç®—æ³•çš„å¯†é’¥ï¼‰åå‘é€ï¼ŒæœåŠ¡å™¨ç”¨ç§é’¥è§£å¯†&lt;/p>
&lt;blockquote>
&lt;p>æ‰€ä»¥ tls åè®®æ¦‚æ‹¬ä¸€ä¸‹å°±æ˜¯ï¼Œå®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯ä½¿ç”¨éå¯¹ç§°åŠ å¯†ç®—æ³•åå•†å‡ºå¯¹ç§°åŠ å¯†ç®—æ³•çš„ä¸»å¯†é’¥ï¼ˆä½¿ç”¨éå¯¹ç§°åŠ å¯†ç®—æ³•ä¿æŠ¤ä¸»å¯†é’¥ä¸è¢«ä¸­é—´äººçªƒå–ï¼‰ï¼Œç„¶ååˆ‡æ¢åˆ°ä½¿ç”¨å¯¹ç§°åŠ å¯†ç®—æ³•ï¼ˆä½¿ç”¨å¯¹åº”çš„ä¸»å¯†é’¥ï¼‰è¿›è¡ŒåŒå‘é€šè®¯ã€‚&lt;/p>
&lt;/blockquote>
&lt;h3 id="trojan">Trojan&lt;/h3>
&lt;p>ä¸è€çƒ¦äº†ï¼Œç›´å¥”ä¸»é¢˜ï¼Œä¸‹æ¬¡å†æ¥ï¼&lt;/p>
&lt;p>&lt;a class="link" href="https://www.youtube.com/watch?v=gw2Vl1h89Wo&amp;amp;list=PL5TbbtexT8T3d_7UX2aSFhoMYk-cl4kf4&amp;amp;index=4" target="_blank" rel="noopener"
>https://www.youtube.com/watch?v=gw2Vl1h89Wo&amp;list=PL5TbbtexT8T3d_7UX2aSFhoMYk-cl4kf4&amp;index=4&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
&lt;/p>
&lt;h2 id="vmess--tcp-tls">Vmess + TCP +TLS&lt;/h2>
&lt;h3 id="æœåŠ¡å™¨ç«¯">æœåŠ¡å™¨ç«¯&lt;/h3>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">&lt;span class="cp">#!!!é‡è¦ï¼x-uiä¸è¦æŠŠxrayç‰ˆæœ¬å‡çº§åˆ°1.7.5ä»¥ä¸Šï¼Œå¦åˆ™æ— æ³•æ­å»ºvlessèŠ‚ç‚¹ï¼
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cp">&lt;/span>&lt;span class="c1">#æ›´æ–°è½¯ä»¶æº&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">apt update
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">#å¯ç”¨ BBR TCP æ‹¥å¡æ§åˆ¶ç®—æ³•&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">echo&lt;/span> &lt;span class="s2">&amp;#34;net.core.default_qdisc=fq&amp;#34;&lt;/span> &amp;gt;&amp;gt; /etc/sysctl.conf
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">echo&lt;/span> &lt;span class="s2">&amp;#34;net.ipv4.tcp_congestion_control=bbr&amp;#34;&lt;/span> &amp;gt;&amp;gt; /etc/sysctl.conf
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sysctl -p
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">#å®‰è£…x-uiï¼š&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">bash &amp;lt;&lt;span class="o">(&lt;/span>curl -Ls https://raw.githubusercontent.com/vaxilu/x-ui/master/install.sh&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>(å®‰è£… Nginxã€ç”³è¯· SSL è¯ä¹¦)&lt;/p>
&lt;blockquote>
&lt;p>http ç«™ç‚¹ä¼˜å…ˆï¼Œä¸ªäººç½‘ç›˜ç¬¦åˆå•èŠ‚ç‚¹å¤§æµé‡ç‰¹å¾&lt;/p>
&lt;/blockquote>
&lt;p>åœ¨æµè§ˆå™¨æœç´¢ &lt;code>intext:ç™»å½• Cloudreve&lt;/code>ï¼Œæ‰¾åˆ°ä¸€ä¸ªå¯è®¿é—®çš„ç½‘ç«™ä½œä¸ºä¼ªè£…ç«™&lt;/p>
&lt;p>é…ç½® Nginx&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># åˆ›å»ºé…ç½®æ–‡ä»¶&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">touch /etc/nginx/sites-available/vmess.conf
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># è¿›å…¥ä¿®æ”¹&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">vim /etc/nginx/sites-available/vmess.conf
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>é…ç½®æ–‡ä»¶å†…å®¹&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl"> server &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> listen &lt;span class="m">443&lt;/span> ssl&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> server_name joy.ponderduck.cc&lt;span class="p">;&lt;/span> &lt;span class="c1">#ä½ çš„åŸŸå&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> ssl_certificate /etc/letsencrypt/live/ponderduck.cc/fullchain.pem&lt;span class="p">;&lt;/span> &lt;span class="c1">#è¯ä¹¦ä½ç½®&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> ssl_certificate_key /etc/letsencrypt/live/ponderduck.cc/privkey.pem&lt;span class="p">;&lt;/span> &lt;span class="c1">#ç§é’¥ä½ç½®&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> ssl_session_timeout 1d&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> ssl_session_cache shared:MozSSL:10m&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> ssl_session_tickets off&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> ssl_protocols TLSv1.2 TLSv1.3&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> ssl_prefer_server_ciphers off&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> location / &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> proxy_pass http://pan.qdovo.com/&lt;span class="p">;&lt;/span> &lt;span class="c1">#ä¼ªè£…ç½‘å€&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> proxy_redirect off&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> proxy_ssl_server_name on&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> sub_filter_once off&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> sub_filter &lt;span class="s2">&amp;#34;pan.qdovo.com&amp;#34;&lt;/span> &lt;span class="nv">$server_name&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> proxy_set_header Host &lt;span class="s2">&amp;#34;pan.qdovo.com&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> proxy_set_header Referer &lt;span class="nv">$http_referer&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> proxy_set_header X-Real-IP &lt;span class="nv">$remote_addr&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> proxy_set_header User-Agent &lt;span class="nv">$http_user_agent&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> proxy_set_header X-Forwarded-For &lt;span class="nv">$proxy_add_x_forwarded_for&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> proxy_set_header X-Forwarded-Proto https&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> proxy_set_header Accept-Encoding &lt;span class="s2">&amp;#34;&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> proxy_set_header Accept-Language &lt;span class="s2">&amp;#34;zh-CN&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> location /ray &lt;span class="o">{&lt;/span> &lt;span class="c1">#åˆ†æµè·¯å¾„&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> proxy_redirect off&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> proxy_pass http://127.0.0.1:10000&lt;span class="p">;&lt;/span> &lt;span class="c1">#Xrayç«¯å£&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> proxy_http_version 1.1&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> proxy_set_header Upgrade &lt;span class="nv">$http_upgrade&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> proxy_set_header Connection &lt;span class="s2">&amp;#34;upgrade&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> proxy_set_header Host &lt;span class="nv">$host&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> proxy_set_header X-Real-IP &lt;span class="nv">$remote_addr&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> proxy_set_header X-Forwarded-For &lt;span class="nv">$proxy_add_x_forwarded_for&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> location /xui &lt;span class="o">{&lt;/span> &lt;span class="c1">#xuiè·¯å¾„&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> proxy_redirect off&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> proxy_pass http://127.0.0.1:9999&lt;span class="p">;&lt;/span> &lt;span class="c1">#xuiç›‘å¬ç«¯å£&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> proxy_http_version 1.1&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> proxy_set_header Host &lt;span class="nv">$host&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> server &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> listen 80&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> location /.well-known/ &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> root /var/www/html&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> location / &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> rewrite ^&lt;span class="o">(&lt;/span>.*&lt;span class="o">)&lt;/span>$ https://&lt;span class="nv">$host$1&lt;/span> permanent&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>æµ‹è¯•ã€å»ºç«‹è½¯é“¾æ¥ã€é‡å¯&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">nginx -t
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">ln -s /etc/nginx/sites-available/vmess.conf /etc/nginx/sites-enabled/vmess.conf
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">systemctl start nginx
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># or&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">nginx -s reload
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="trojan-go">Trojan-Go&lt;/h2>
&lt;p>ä¸€é”®éƒ¨ç½² Trojan-Go&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">bash &amp;lt;&lt;span class="o">(&lt;/span>curl -sSL &lt;span class="s2">&amp;#34;https://raw.githubusercontent.com/veip007/hj/main/trojan-go.sh&amp;#34;&lt;/span>&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="å‚è€ƒ--è‡´è°¢">å‚è€ƒ &amp;amp; è‡´è°¢&lt;/h2>
&lt;p>&lt;a class="link" href="https://v2xtls.org/clashx%E9%85%8D%E7%BD%AEv2ray%E6%95%99%E7%A8%8B/" target="_blank" rel="noopener"
>ClashX é…ç½® V2ray æ•™ç¨‹&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
&lt;/p>
&lt;p>[ç¼–è¯‘ã€é…ç½® nginx,ä½¿ V2ray,Xray,Trojan,åšå®¢ç½‘ç«™ç­‰å…±ç”¨ 443 ç«¯å£](&lt;/p></description></item><item><title>SQL å…¥é—¨</title><link>https://falasool.github.io/2023/sql/</link><pubDate>Thu, 29 Jun 2023 19:13:22 +0800</pubDate><guid>https://falasool.github.io/2023/sql/</guid><description>&lt;h2 id="å¸¸ç”¨å‘½ä»¤">å¸¸ç”¨å‘½ä»¤&lt;/h2>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-sql" data-lang="sql">&lt;span class="line">&lt;span class="cl">&lt;span class="k">CREATE&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">DATABASE&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">test&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">#&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="err">åˆ›å»ºæ•°æ®åº“&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="k">CREATE&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">TABLE&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">t1&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">id&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nb">int&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="n">body&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nb">varchar&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">100&lt;/span>&lt;span class="p">));&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">#&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="err">åˆ›å»ºè¡¨&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="err">è®°å¾—ä½¿ç”¨\&lt;/span>&lt;span class="n">cå‘½ä»¤åˆ‡æ¢æ•°æ®åº“&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="k">CREATE&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">USER&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">test&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">WITH&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">PASSWORD&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s1">&amp;#39;Test#1357&amp;#39;&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">#&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="err">åˆ›å»ºç”¨æˆ·&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="k">ALTER&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">USER&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">test&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">WITH&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">PASSWORD&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s1">&amp;#39;Test#2468&amp;#39;&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">#&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="err">ä¿®æ”¹å¯†ç &lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="k">ALTER&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">USER&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">test&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">createdb&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">#&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="err">æŒ‡å®šç”¨æˆ·æ·»åŠ æŒ‡å®šè§’è‰²&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="k">GRANT&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">ALL&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">PRIVILEGES&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">ON&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">DATABASE&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">test&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">TO&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">test&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">#&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="err">èµ‹äºˆæŒ‡å®šè´¦æˆ·æŒ‡å®šæ•°æ®åº“æ‰€æœ‰æƒé™&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="k">REVOKE&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">ALL&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">PRIVILEGES&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">ON&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">DATABASE&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">test&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">TO&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">test&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">#&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="err">ç§»é™¤æŒ‡å®šè´¦æˆ·æŒ‡å®šæ•°æ®åº“æ‰€æœ‰æƒé™&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="k">INSERT&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">INTO&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">table_name&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">[(&lt;/span>&lt;span class="n">column1&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">c2&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">...)]&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">VALUES&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">v1&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">v2&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">...);&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">#&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="err">åœ¨è¡¨ä¸­æ’å…¥æ–°æ•°æ®ï¼ˆåœ¨åˆ—&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="err">åˆ—&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="err">æ’å…¥&lt;/span>&lt;span class="n">v1&lt;/span>&lt;span class="err">ï¼Œ&lt;/span>&lt;span class="n">v2&lt;/span>&lt;span class="err">ï¼‰&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="k">SELECT&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">*/&lt;/span>&lt;span class="k">column_name&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">FROM&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">table_name&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">#&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="err">æŸ¥è¯¢æ•°æ®&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="k">SELECT&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">DISTINCT&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">column_name&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">FROM&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">table_name&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">#&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="err">æ˜¾ç¤ºç»“æœæ—¶å»é™¤é‡å¤å€¼&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="k">SELECT&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="err">åˆ—åç§°&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">FROM&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="err">æ ‡åç§°&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">WHERE&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="err">åˆ—&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="err">è¿ç®—ç¬¦&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="err">å€¼&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">#&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="err">æ¡ä»¶è¿‡æ»¤&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>æ“ä½œç¬¦&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th style="text-align:center">æ“ä½œç¬¦&lt;/th>
&lt;th style="text-align:center">æè¿°&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td style="text-align:center">=&lt;/td>
&lt;td style="text-align:center">&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:center">&amp;lt;&amp;gt;/!=&lt;/td>
&lt;td style="text-align:center">ä¸ç­‰äº&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:center">&amp;gt;&lt;/td>
&lt;td style="text-align:center">&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:center">&amp;lt;&lt;/td>
&lt;td style="text-align:center">&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:center">&amp;gt;=&lt;/td>
&lt;td style="text-align:center">&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:center">&amp;lt;=&lt;/td>
&lt;td style="text-align:center">&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:center">IN&lt;/td>
&lt;td style="text-align:center">å¤šé€‰&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:center">NOT BEWTEEN&amp;hellip; AND&lt;/td>
&lt;td style="text-align:center">( , )/[ , ]/[ , )&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:center">LIKE/NOT LIKE&lt;/td>
&lt;td style="text-align:center">æŸç§æœç´¢æ¨¡å¼&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:center">AND&lt;/td>
&lt;td style="text-align:center">&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:center">OR&lt;/td>
&lt;td style="text-align:center">&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:center">AS&lt;/td>
&lt;td style="text-align:center">æŒ‡å®šè¡¨åˆ«å&amp;rsquo;&amp;rsquo;/åˆ—åˆ«å&amp;quot;&amp;quot;&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:center">JOIN&lt;/td>
&lt;td style="text-align:center">å¤šè¡¨å…³è”ï¼ˆåŒ¹é…ï¼‰&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:center">UNION/UNION ALL&lt;/td>
&lt;td style="text-align:center">åˆå¹¶ select ç»“æœé›†&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:center">NOT NULL&lt;/td>
&lt;td style="text-align:center">éç©º&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:center">VIEW&lt;/td>
&lt;td style="text-align:center">æ˜¯ç»“æœé›†çš„å¯è§†åŒ–çš„è¡¨&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:center">&lt;/td>
&lt;td style="text-align:center">&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-sql" data-lang="sql">&lt;span class="line">&lt;span class="cl">&lt;span class="k">SELECT&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">FROM&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">table_name&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">ORDER&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">BY&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">c1&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="n">c2&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">DESC&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">LASTNAME&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">ID_P&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">#&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="err">ç»“æœæŒ‰&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="err">é™åº&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="err">å­—æ¯é¡ºåº&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="err">æ•°å­—é¡ºåº&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="err">æ’åˆ—&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="k">UPDATE&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="err">è¡¨åç§°&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">SET&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="err">åˆ—åç§°&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="err">æ–°&lt;/span>&lt;span class="n">value&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">WHERE&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="err">åˆ—åç§°&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">sth&lt;/span>&lt;span class="p">.;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">#&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="err">æ›´æ–°æ•°æ®&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="k">DELETE&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">FROM&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="err">è¡¨åç§°&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">WHERE&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="err">åˆ—åç§°&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">sth&lt;/span>&lt;span class="p">.;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">#&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="err">åˆ é™¤æŸè¡Œæ•°æ®&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="k">DELETE&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">FROM&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">table_name&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">#&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="err">åˆ é™¤æ‰€æœ‰è¡Œï¼ˆè¡¨çš„ç»“æ„å±æ€§ç´¢å¼•å®Œæ•´ï¼‰&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="k">TRUNCATE&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">TABLE&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="err">è¡¨åç§°&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">#&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="err">åˆ é™¤è¡¨å†…æ•°æ®&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="k">DROP&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">TABLE&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="err">è¡¨åç§°&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">#&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="err">åˆ é™¤è¡¨&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="å¸¸ç”¨å‡½æ•°">å¸¸ç”¨å‡½æ•°&lt;/h2>
&lt;p>è¯­æ³•ï¼š&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-sql" data-lang="sql">&lt;span class="line">&lt;span class="cl">&lt;span class="k">SELECT&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">function&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="err">åˆ—&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">FROM&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="err">è¡¨&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="avg">AVG&lt;/h3>
&lt;p>è¿”å›å­—æ®µçš„å¹³å‡å€¼ï¼Œä¸åŒ…æ‹¬ null&lt;/p>
&lt;h3 id="count">COUNT&lt;/h3>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-sql" data-lang="sql">&lt;span class="line">&lt;span class="cl">&lt;span class="k">COUNT&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">#&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="err">è¿”å›è¡¨çš„è®°å½•æ•°&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="k">COUNT&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="k">DISTINCT&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="err">åˆ—å&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">#&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="err">è¿”å›åˆ—çš„æ€»æ•°ï¼ˆé™¤å»é‡å¤çš„ï¼‰&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="k">COUNT&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="err">åˆ—å&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">#&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="err">è¿”å›åˆ—çš„å€¼çš„æ€»æ•°&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="sum">SUM&lt;/h3>
&lt;p>æ±‚å’Œ&lt;/p>
&lt;h3 id="group-by">GROUP BY&lt;/h3>
&lt;p>ç»“åˆç»Ÿè®¡å‡½æ•° COUNTï¼Œæ ¹æ®æŸäº›åˆ—å¯¹ç»“æœé›†è¿›è¡Œåˆ†ç»„&lt;/p>
&lt;h3 id="having">HAVING&lt;/h3>
&lt;p>WHERE ä¸èƒ½å’Œ COUNT ä¸€èµ·ä½¿ç”¨ï¼Œæ‰€ä»¥åœ¨ç»Ÿè®¡å‡½æ•°å‰åŠ ä¸Š HAVING&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-sql" data-lang="sql">&lt;span class="line">&lt;span class="cl">&lt;span class="k">select&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">lastname&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="k">count&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">city&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">from&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">persons&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="k">where&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">city&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s1">&amp;#39;xx&amp;#39;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="k">group&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">by&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">lastname&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="k">having&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">count&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">city&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">&amp;gt;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="ucaseupper--lcaselower">UCASE/UPPER &amp;amp; LCASE/LOWER&lt;/h3>
&lt;p>æŠŠå­—æ®µçš„å€¼è½¬æ¢ä¸ºå¤§å†™/å°å†™&lt;/p>
&lt;h3 id="lenlength">LEN/LENGTH&lt;/h3>
&lt;p>è¿”å›å­—æ®µçš„å€¼çš„é•¿åº¦&lt;/p>
&lt;h3 id="roundåˆ—å-ç²¾åº¦">ROUND(åˆ—å, ç²¾åº¦)&lt;/h3>
&lt;p>å­—æ®µèˆå…¥ä¸ºæŒ‡å®šçš„å°æ ‘ä½æ•°&lt;/p>
&lt;h3 id="nowsysdate">NOW/SYSDATE&lt;/h3>
&lt;p>è·å–å½“å‰æ—¥æœŸæ—¶é—´&lt;/p></description></item><item><title>åˆé‡ PostgreSQL</title><link>https://falasool.github.io/2023/postgresql/</link><pubDate>Mon, 26 Jun 2023 11:21:32 +0800</pubDate><guid>https://falasool.github.io/2023/postgresql/</guid><description>&lt;p>ä»¥ç°æœ‰ Pleroma æ•°æ®åº“ä¸ºåŸºç¡€å­¦ä¹  postgreSQL&lt;/p>
&lt;h2 id="æœ¬åœ°å®‰è£…-pg">æœ¬åœ°å®‰è£… PG&lt;/h2>
&lt;h3 id="ç”¨-homebrew-å®‰è£…">ç”¨ Homebrew å®‰è£…&lt;/h3>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">brew install postgresql@13
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>æ·»åŠ ç¯å¢ƒå˜é‡&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-diff" data-lang="diff">&lt;span class="line">&lt;span class="cl"># ~/.zshrc
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="gi">+ # PostgreSQL
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="gi">+ export PATH=&amp;#34;/opt/homebrew/Cellar/postgresql@13/13.11_1/bin:$PATH&amp;#34;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="gi">+ export PGDATA=&amp;#34;/opt/homebrew/var/postgresql@13&amp;#34;
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>è®©ä¿®æ”¹ç”Ÿæ•ˆ &amp;amp; æµ‹è¯•&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">&lt;span class="nb">source&lt;/span> ~/.zshrc &lt;span class="c1"># å¯¹é…ç½®æ–‡ä»¶çš„ä¿®æ”¹ç”Ÿæ•ˆ&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">pg_ctl -V &lt;span class="c1"># æŸ¥çœ‹ç‰ˆæœ¬ï¼Œreturn `pg_ctl (PostgreSQL) 13.1` &lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="dmg-å®‰è£…">dmg å®‰è£…&lt;/h3>
&lt;p>&lt;a class="link" href="https://www.enterprisedb.com/downloads/postgres-postgresql-downloads" target="_blank" rel="noopener"
>ä¸‹è½½&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
&lt;/p>
&lt;p>ä¿®æ”¹ç¯å¢ƒå˜é‡&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># PostgreSQL&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">export&lt;/span> &lt;span class="nv">PATH&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;/Library/PostgreSQL/13/bin:&lt;/span>&lt;span class="nv">$PATH&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">source&lt;/span> ~/.zshrc
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="è¿œç¨‹æ“ä½œ-pg">è¿œç¨‹æ“ä½œ PG&lt;/h2>
&lt;h3 id="ç™»å½•">ç™»å½•&lt;/h3>
&lt;p>å…è®¸è¿œç¨‹ç™»å½•&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">locate postgresql.conf &lt;span class="c1"># å®šä½æ–‡ä»¶ä½ç½®&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># /etc/postgresql/13/main/postgresql.conf &lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nv">listen_addresses&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s1">&amp;#39;*&amp;#39;&lt;/span> &lt;span class="c1"># ä¿®æ”¹å†…å®¹&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>æ·»åŠ å®¢æˆ·ç«¯é‰´å®šæ¡ç›®&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># /etc/postgresql/13/main/pg_hba.conf&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># å…è®¸ç”¨æˆ·åœ¨æä¾›æœ‰æ•ˆå£ä»¤ï¼ˆmd5ï¼‰åä»æŸä¸ª IP åœ°å€ç™»å½•&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">host all all 0.0.0.0/0 md5
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">host all all ::0/0 md5
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>[å¯é€‰]ä¿®æ”¹å¯†ç &lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">&lt;span class="nv">postgres&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="c1"># alter user postgres with password &amp;#39;xxxxxxxx&amp;#39;;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">ALTER ROLE
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>æœ€åé‡å¯ pg&lt;/p>
&lt;p>ä½†æ˜¯ä¸çŸ¥é“ä¸ºå•¥ï¼ˆä¹Ÿè®¸ä»¥åå°±çŸ¥é“äº†ï¼‰æˆ‘å¼€å¯ 5432 ç«¯å£æ— æ•ˆï¼šufw å‘½ä»¤è¿”å›ç»“æœæ˜¾ç¤ºå·²å¼€å¯ï¼Œé˜²ç«å¢™è§„åˆ™æ·»åŠ äº†ï¼Œip æ£€æŸ¥å·¥å…·è¿˜æ˜¯æ˜¾ç¤ºç«¯å£æœªå¼€æ”¾ã€‚ç„¶åé»›é»›æ•™äº†æˆ‘ç«¯å£è½¬å‘&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">ssh -L 127.0.0.1:5432:127.0.0.1:5432 username@hostname
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>è¿ä¸Šä¹‹åä¿æŒæ‰“å¼€è¿™ä¸ªçª—å£ï¼Œæˆ‘ç”¨ Navicat è¿ä¸Šäº†æ•°æ®åº“ï¼Œç¬¬ä¸€æ¬¡è§åˆ°äº†æ•°æ®åº“åˆ°åº•æ˜¯å•¥ç»“æ„â€¦â€¦ï¼ˆNavicat æ˜¯ä»€ä¹ˆè¯·çœ‹ &lt;a class="link" href="https://www.navicat.com.cn/manual/online_manual/cn/navicat_16/win_manual/#/main_window" target="_blank" rel="noopener"
>ç”¨æˆ·æ‰‹å†Œ&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
ï¼‰&lt;/p>
&lt;p>&lt;img src="https://cdn.jsdelivr.net/gh/Falasool/blog-pic-bed@main//blog202307032252841.webp"
loading="lazy"
alt="image"
>&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">.
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â””â”€â”€ public &lt;span class="c1"># public æ˜¯é»˜è®¤çš„æ•°æ®åº“æ¨¡å¼ï¼ˆschemaï¼‰ã€‚ä¸€ä¸ªæ•°æ®åº“å¯ä»¥åŒ…å«å¤šä¸ªæ¨¡å¼ï¼Œè€Œæ¯ä¸ªæ¨¡å¼åˆå¯ä»¥åŒ…å«å¤šä¸ªè¡¨ã€è§†å›¾ã€å‡½æ•°ç­‰å¯¹è±¡.schema æ˜¯ä¸€ç§é€»è¾‘å®¹å™¨ï¼Œç”¨äºç»„ç»‡å’Œç®¡ç†æ•°æ®åº“å¯¹è±¡ã€‚å®ƒå¯ä»¥å¸®åŠ©åœ¨ä¸€ä¸ªæ•°æ®åº“ä¸­å¯¹ä¸åŒçš„å¯¹è±¡è¿›è¡Œåˆ†ç±»å’Œåˆ†ç»„&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> â”œâ”€â”€ Tables &lt;span class="c1"># è¡¨æ˜¯å­˜å‚¨æ•°æ®çš„åŸºæœ¬å¯¹è±¡ï¼Œç±»ä¼¼äºç”µå­è¡¨æ ¼æˆ–æ•°æ®åº“ä¸­çš„è¡¨æ ¼ã€‚å®ƒä»¬ç”±è¡Œå’Œåˆ—ç»„æˆï¼Œç”¨äºå­˜å‚¨å’Œç»„ç»‡æ•°æ®&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> â”œâ”€â”€ Views &lt;span class="c1"># è§†å›¾æ˜¯è™šæ‹Ÿè¡¨ï¼Œæ˜¯æ ¹æ®å­˜å‚¨åœ¨å…¶ä»–è¡¨ä¸­çš„æ•°æ®å®šä¹‰çš„æŸ¥è¯¢ç»“æœã€‚è§†å›¾å¯ä»¥ç®€åŒ–å¤æ‚æŸ¥è¯¢ï¼Œå¹¶æä¾›ä¸€ç§æ–¹å¼æ¥è®¿é—®å’Œä½¿ç”¨æ•°æ®&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> â”œâ”€â”€ Materialized Views &lt;span class="c1"># ææ–™åŒ–è§†å›¾æ˜¯ä¸€ç§ç‰¹æ®Šç±»å‹çš„è§†å›¾ï¼Œå®ƒåœ¨åˆ›å»ºæ—¶å°†æŸ¥è¯¢ç»“æœç¼“å­˜ä¸ºå®é™…çš„è¡¨ã€‚ä¸æ™®é€šè§†å›¾ä¸åŒï¼Œææ–™åŒ–è§†å›¾çš„å†…å®¹åœ¨æŸ¥è¯¢æ—¶ä¸ä¼šå†æ¬¡è®¡ç®—ï¼Œè€Œæ˜¯ä½¿ç”¨é¢„å…ˆè®¡ç®—çš„ç»“æœ&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> â”œâ”€â”€ Functions &lt;span class="c1"># å‡½æ•°æ˜¯ä¸€æ®µå°è£…äº†ç‰¹å®šåŠŸèƒ½çš„å¯é‡ç”¨ä»£ç å—ã€‚åœ¨æ•°æ®åº“ä¸­ï¼Œå‡½æ•°ç”¨äºæ‰§è¡Œç‰¹å®šçš„è®¡ç®—ã€å¤„ç†æ•°æ®æˆ–è¿”å›ç»“æœ&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> â”œâ”€â”€ Queries
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> Â  â””â”€â”€ Backups
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="è§£å†³æ•°æ®åº“å¢é•¿è¿‡å¿«çš„é—®é¢˜åˆ°åº•è§£å†³äº†æ²¡æœ‰å‘¢">è§£å†³æ•°æ®åº“å¢é•¿è¿‡å¿«çš„é—®é¢˜ï¼ˆåˆ°åº•è§£å†³äº†æ²¡æœ‰å‘¢ï¼Ÿï¼‰&lt;/h3>
&lt;p>å‰æï¼šå¤‡ä»½æ•°æ®åº“&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># å¤‡ä»½&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">mkdir -p /pleromabackup
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">chmod &lt;span class="m">777&lt;/span> /pleromabackup
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">su - postgres
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">psql -U postgres
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nv">postgres&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="c1"># \! pg_dump pleroma -f /pleromabackup/pleroma.pgdump&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># æ£€æŸ¥å¤‡ä»½ç›®å½•å¤§å°&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">[&lt;/span>xxx@xxx pleromabackup&lt;span class="o">]&lt;/span>&lt;span class="c1"># du -hs&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">341M .
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>ğŸŒŸ **æŸ¥è¯¢æ‰€æœ‰è¡¨çš„è¡Œæ•°ï¼š**åˆ›å»ºä¸€ä¸ª &lt;code>count_em_all&lt;/code> å‡½æ•°ï¼Œç„¶åè°ƒç”¨å®ƒè·å¾—å‡†ç¡®çš„ç»Ÿè®¡ä¿¡æ¯&lt;/p>
&lt;ol>
&lt;li>åˆ›å»ºï¼š&lt;/li>
&lt;/ol>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-postgresql" data-lang="postgresql">&lt;span class="line">&lt;span class="cl">&lt;span class="k">CREATE&lt;/span> &lt;span class="k">TYPE&lt;/span> &lt;span class="n">table_count&lt;/span> &lt;span class="k">AS&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">table_name&lt;/span> &lt;span class="nb">TEXT&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">num_rows&lt;/span> &lt;span class="nb">INTEGER&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">CREATE&lt;/span> &lt;span class="k">OR&lt;/span> &lt;span class="k">REPLACE&lt;/span> &lt;span class="k">FUNCTION&lt;/span> &lt;span class="n">count_em_all&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="k">RETURNS&lt;/span> &lt;span class="k">SETOF&lt;/span> &lt;span class="n">table_count&lt;/span> &lt;span class="k">AS&lt;/span> &lt;span class="s1">&amp;#39;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s1">DECLARE
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s1"> the_count RECORD;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s1"> t_name RECORD;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s1"> r table_count%ROWTYPE;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s1">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s1">BEGIN
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s1"> FOR t_name IN
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s1"> SELECT
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s1"> c.relname
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s1"> FROM
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s1"> pg_catalog.pg_class c LEFT JOIN pg_namespace n ON n.oid = c.relnamespace
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s1"> WHERE
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s1"> c.relkind = &amp;#39;&amp;#39;r&amp;#39;&amp;#39;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s1"> AND n.nspname = &amp;#39;&amp;#39;public&amp;#39;&amp;#39;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s1"> ORDER BY 1
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s1"> LOOP
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s1"> FOR the_count IN EXECUTE &amp;#39;&amp;#39;SELECT COUNT(*) AS &amp;#34;count&amp;#34; FROM &amp;#39;&amp;#39; || t_name.relname
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s1"> LOOP
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s1"> END LOOP;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s1">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s1"> r.table_name := t_name.relname;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s1"> r.num_rows := the_count.count;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s1"> RETURN NEXT r;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s1"> END LOOP;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s1"> RETURN;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s1">END;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s1">&amp;#39;&lt;/span> &lt;span class="k">LANGUAGE&lt;/span> &lt;span class="n">plpgsql&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;ol start="2">
&lt;li>è°ƒç”¨&lt;/li>
&lt;/ol>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-postgresql" data-lang="postgresql">&lt;span class="line">&lt;span class="cl">&lt;span class="k">SELECT&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">*&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">FROM&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">count_em_all&lt;/span> &lt;span class="p">(&lt;/span> &lt;span class="p">)&lt;/span> &lt;span class="k">AS&lt;/span> &lt;span class="n">r&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">ORDER&lt;/span> &lt;span class="k">BY&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">r&lt;/span>&lt;span class="mf">.&lt;/span>&lt;span class="n">num_rows&lt;/span> &lt;span class="k">DESC&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>ç»“æœï¼š&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-postgresql" data-lang="postgresql">&lt;span class="line">&lt;span class="cl"> &lt;span class="n">table_name&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="n">num_rows&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">--------------------------------------------+----------
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="n">activities&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="mf">171772&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">objects&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="mf">120664&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">hashtags_objects&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="mf">38433&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">users&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="mf">22054&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">hashtags&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="mf">7719&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">deliveries&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="mf">5420&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">counter_cache&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="mf">876&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">notifications&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="mf">570&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">oauth_authorizations&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="mf">479&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">oauth_tokens&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="mf">474&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">following_relationships&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="mf">472&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">schema_migrations&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="mf">302&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">apps&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="mf">83&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">user_relationships&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="mf">53&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">conversation_participation_recipient_ships&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="mf">36&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">instances&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="mf">34&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">oban_jobs&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="mf">32&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">conversation_participations&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="mf">18&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">conversations&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="mf">10&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">config&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="mf">10&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">bookmarks&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="mf">5&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">markers&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="mf">3&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">user_notes&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="mf">2&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">data_migrations&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="mf">2&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">backups&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="mf">1&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">moderation_log&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="mf">1&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">password_reset_tokens&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="mf">1&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">lists&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="mf">1&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">oban_peers&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="mf">1&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">announcements&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="mf">0&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">filters&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="mf">0&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">announcement_read_relationships&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="mf">0&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">data_migration_failed_ids&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="mf">0&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">mfa_tokens&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="mf">0&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">chats&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="mf">0&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">chat_message_references&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="mf">0&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">push_subscriptions&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="mf">0&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">registrations&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="mf">0&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">report_notes&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="mf">0&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">scheduled_activities&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="mf">0&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">thread_mutes&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="mf">0&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">user_invite_tokens&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="mf">0&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">(&lt;/span>&lt;span class="mf">42&lt;/span> &lt;span class="k">rows&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>ğŸŒŸ &lt;strong>æŸ¥è¯¢æ‰€æœ‰è¡¨çš„æ€»å¤§å°&lt;/strong>ï¼ˆæ‹¬è¡¨æ•°æ®æ–‡ä»¶ã€ç´¢å¼•æ–‡ä»¶ã€TOASTè¡¨ã€Free Space Mapç­‰å¯¹è±¡çš„å¤§å°ï¼‰&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-postgresql" data-lang="postgresql">&lt;span class="line">&lt;span class="cl">&lt;span class="n">pleroma&lt;/span>&lt;span class="o">=#&lt;/span> &lt;span class="k">SELECT&lt;/span> &lt;span class="n">relname&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">pg_size_pretty&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">pg_total_relation_size&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">relid&lt;/span>&lt;span class="p">))&lt;/span> &lt;span class="k">AS&lt;/span> &lt;span class="n">size_mb&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">FROM&lt;/span> &lt;span class="n">pg_stat_user_tables&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">ORDER&lt;/span> &lt;span class="k">BY&lt;/span> &lt;span class="n">pg_total_relation_size&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">relid&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="k">DESC&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">relname&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="n">size_mb&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">--------------------------------------------+---------
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="n">objects&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="mf">266&lt;/span> &lt;span class="n">MB&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">activities&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="mf">258&lt;/span> &lt;span class="n">MB&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">oban_jobs&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="mf">100&lt;/span> &lt;span class="n">MB&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">users&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="mf">64&lt;/span> &lt;span class="n">MB&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">hashtags_objects&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="mf">4096&lt;/span> &lt;span class="n">kB&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">hashtags&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="mf">1288&lt;/span> &lt;span class="n">kB&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">deliveries&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="mf">960&lt;/span> &lt;span class="n">kB&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">oauth_tokens&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="mf">592&lt;/span> &lt;span class="n">kB&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">oauth_authorizations&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="mf">344&lt;/span> &lt;span class="n">kB&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">notifications&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="mf">240&lt;/span> &lt;span class="n">kB&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">following_relationships&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="mf">232&lt;/span> &lt;span class="n">kB&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">counter_cache&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="mf">208&lt;/span> &lt;span class="n">kB&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">apps&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="mf">176&lt;/span> &lt;span class="n">kB&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">instances&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="mf">96&lt;/span> &lt;span class="n">kB&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">conversation_participations&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="mf">88&lt;/span> &lt;span class="n">kB&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">lists&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="mf">80&lt;/span> &lt;span class="n">kB&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">markers&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="mf">80&lt;/span> &lt;span class="n">kB&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">oban_peers&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="mf">80&lt;/span> &lt;span class="n">kB&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">schema_migrations&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="mf">64&lt;/span> &lt;span class="n">kB&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">conversation_participation_recipient_ships&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="mf">56&lt;/span> &lt;span class="n">kB&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">user_relationships&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="mf">56&lt;/span> &lt;span class="n">kB&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">data_migrations&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="mf">48&lt;/span> &lt;span class="n">kB&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">config&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="mf">48&lt;/span> &lt;span class="n">kB&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">backups&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="mf">48&lt;/span> &lt;span class="n">kB&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">conversations&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="mf">40&lt;/span> &lt;span class="n">kB&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">bookmarks&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="mf">40&lt;/span> &lt;span class="n">kB&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">user_notes&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="mf">40&lt;/span> &lt;span class="n">kB&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">filters&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="mf">32&lt;/span> &lt;span class="n">kB&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">scheduled_activities&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="mf">32&lt;/span> &lt;span class="n">kB&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">registrations&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="mf">32&lt;/span> &lt;span class="n">kB&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">chat_message_references&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="mf">32&lt;/span> &lt;span class="n">kB&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">moderation_log&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="mf">32&lt;/span> &lt;span class="n">kB&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">password_reset_tokens&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="mf">24&lt;/span> &lt;span class="n">kB&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">push_subscriptions&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="mf">24&lt;/span> &lt;span class="n">kB&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">user_invite_tokens&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="mf">16&lt;/span> &lt;span class="n">kB&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">mfa_tokens&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="mf">16&lt;/span> &lt;span class="n">kB&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">announcement_read_relationships&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="mf">16&lt;/span> &lt;span class="n">kB&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">thread_mutes&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="mf">16&lt;/span> &lt;span class="n">kB&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">announcements&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="mf">16&lt;/span> &lt;span class="n">kB&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">report_notes&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="mf">16&lt;/span> &lt;span class="n">kB&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">chats&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="mf">16&lt;/span> &lt;span class="n">kB&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">data_migration_failed_ids&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="mf">16&lt;/span> &lt;span class="n">kB&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">(&lt;/span>&lt;span class="mf">42&lt;/span> &lt;span class="k">rows&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>åˆ—å‡ºè¡Œæ•°å’Œ size æ’å‰äº”çš„è¡¨&lt;/p>
&lt;p>ğŸŒŸ &lt;strong>activities è¡¨&lt;/strong>&lt;/p>
&lt;p>type å­—æ®µçš„æ‰€æœ‰å€¼&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-postgresql" data-lang="postgresql">&lt;span class="line">&lt;span class="cl">&lt;span class="n">pleroma&lt;/span>&lt;span class="o">=#&lt;/span> &lt;span class="k">SELECT&lt;/span> &lt;span class="k">DISTINCT&lt;/span> &lt;span class="k">data&lt;/span>&lt;span class="o">-&amp;gt;&amp;gt;&lt;/span>&lt;span class="s1">&amp;#39;type&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">FROM&lt;/span> &lt;span class="n">activities&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">?&lt;/span>&lt;span class="k">column&lt;/span>&lt;span class="o">?&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">------------
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="n">Follow&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">Block&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">Announce&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">Move&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">Delete&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">Undo&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">Create&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">EmojiReact&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">Remove&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">Update&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">Like&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">Add&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">Reject&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">Accept&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">(&lt;/span>&lt;span class="mf">14&lt;/span> &lt;span class="k">rows&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>åˆ—å‡ºå€¼æ˜¯ Announce çš„æ‰€æœ‰è¡Œ&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-postgresql" data-lang="postgresql">&lt;span class="line">&lt;span class="cl">&lt;span class="k">SELECT&lt;/span> &lt;span class="o">*&lt;/span> &lt;span class="k">FROM&lt;/span> &lt;span class="n">activities&lt;/span> &lt;span class="k">WHERE&lt;/span> &lt;span class="k">data&lt;/span>&lt;span class="o">-&amp;gt;&amp;gt;&lt;/span>&lt;span class="s1">&amp;#39;type&amp;#39;&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s1">&amp;#39;Announce&amp;#39;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-postgresql" data-lang="postgresql">&lt;span class="line">&lt;span class="cl">&lt;span class="mf">.&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">bin&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">pleroma_ctl&lt;/span> &lt;span class="k">database&lt;/span> &lt;span class="k">vacuum&lt;/span> &lt;span class="k">full&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">SELECT&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="mf">.&lt;/span>&lt;span class="s">&amp;#34;actor&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="mf">.&lt;/span>&lt;span class="s">&amp;#34;data&amp;#34;&lt;/span>&lt;span class="o">-&amp;gt;&amp;gt;&lt;/span>&lt;span class="s1">&amp;#39;type&amp;#39;&lt;/span> &lt;span class="k">AS&lt;/span> &lt;span class="k">type&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="mf">.&lt;/span>&lt;span class="s">&amp;#34;updated_at&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">o&lt;/span>&lt;span class="mf">.&lt;/span>&lt;span class="s">&amp;#34;data&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">FROM&lt;/span> &lt;span class="s">&amp;#34;activities&amp;#34;&lt;/span> &lt;span class="k">AS&lt;/span> &lt;span class="n">a&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">INNER&lt;/span> &lt;span class="k">JOIN&lt;/span> &lt;span class="s">&amp;#34;objects&amp;#34;&lt;/span> &lt;span class="k">AS&lt;/span> &lt;span class="n">o&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">ON&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">o&lt;/span>&lt;span class="mf">.&lt;/span>&lt;span class="s">&amp;#34;data&amp;#34;&lt;/span>&lt;span class="o">-&amp;gt;&amp;gt;&lt;/span>&lt;span class="s1">&amp;#39;id&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">COALESCE&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">a&lt;/span>&lt;span class="mf">.&lt;/span>&lt;span class="s">&amp;#34;data&amp;#34;&lt;/span>&lt;span class="o">-&amp;gt;&lt;/span>&lt;span class="s1">&amp;#39;object&amp;#39;&lt;/span>&lt;span class="o">-&amp;gt;&amp;gt;&lt;/span>&lt;span class="s1">&amp;#39;id&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="mf">.&lt;/span>&lt;span class="s">&amp;#34;data&amp;#34;&lt;/span>&lt;span class="o">-&amp;gt;&amp;gt;&lt;/span>&lt;span class="s1">&amp;#39;object&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">WHERE&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="mf">.&lt;/span>&lt;span class="s">&amp;#34;data&amp;#34;&lt;/span>&lt;span class="o">-&amp;gt;&amp;gt;&lt;/span>&lt;span class="s1">&amp;#39;actor&amp;#39;&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s1">&amp;#39;https://pleroma.your.site/users/admin&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">OR&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="mf">.&lt;/span>&lt;span class="s">&amp;#34;data&amp;#34;&lt;/span>&lt;span class="o">-&amp;gt;&lt;/span>&lt;span class="s1">&amp;#39;to&amp;#39;&lt;/span> &lt;span class="o">?&lt;/span> &lt;span class="s1">&amp;#39;https://pleroma.your.site/users/admin&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">OR&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="mf">.&lt;/span>&lt;span class="s">&amp;#34;data&amp;#34;&lt;/span>&lt;span class="o">-&amp;gt;&lt;/span>&lt;span class="s1">&amp;#39;cc&amp;#39;&lt;/span> &lt;span class="o">?&lt;/span> &lt;span class="s1">&amp;#39;https://pleroma.your.site/users/admin&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">ORDER&lt;/span> &lt;span class="k">BY&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="mf">.&lt;/span>&lt;span class="s">&amp;#34;updated_at&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>ğŸŒŸ users è¡¨é‡Œæœ‰å¾ˆå¤šå¾ˆå¤šåªæœ‰ nickname çš„ç”¨æˆ·ï¼Œå®ƒä»¬æ‰€åœ¨å®ä¾‹æ˜¯çœŸå®çš„ï¼Œä½†æ˜¯ ID ä¸æ˜¯ï¼Œæˆ‘æŠŠè¿™äº›è¡Œåˆ äº†ï¼Œæš‚æ—¶è¿˜æ²¡å‡ºé—®é¢˜&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-postgresql" data-lang="postgresql">&lt;span class="line">&lt;span class="cl">&lt;span class="k">SELECT&lt;/span> &lt;span class="o">*&lt;/span> &lt;span class="k">FROM&lt;/span> &lt;span class="n">users&lt;/span> &lt;span class="k">WHERE&lt;/span> &lt;span class="k">name&lt;/span> &lt;span class="k">IS&lt;/span> &lt;span class="k">NULL&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">DELETE&lt;/span> &lt;span class="k">FROM&lt;/span> &lt;span class="n">users&lt;/span> &lt;span class="k">WHERE&lt;/span> &lt;span class="k">name&lt;/span> &lt;span class="k">IS&lt;/span> &lt;span class="k">NULL&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>ğŸŒŸ åˆ é™¤äº†ä¸€ä¸ª bot çš„è®°å½•&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-postgresql" data-lang="postgresql">&lt;span class="line">&lt;span class="cl">&lt;span class="n">pleroma&lt;/span>&lt;span class="o">=#&lt;/span> &lt;span class="k">SELECT&lt;/span> &lt;span class="o">*&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">FROM&lt;/span> &lt;span class="n">objects&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">WHERE&lt;/span> &lt;span class="k">data&lt;/span>&lt;span class="o">-&amp;gt;&amp;gt;&lt;/span>&lt;span class="s1">&amp;#39;actor&amp;#39;&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s1">&amp;#39;https://xx.ca/users/xxxBot&amp;#39;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">pleroma&lt;/span>&lt;span class="o">=#&lt;/span> &lt;span class="k">DELETE&lt;/span> &lt;span class="k">FROM&lt;/span> &lt;span class="n">objects&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">WHERE&lt;/span> &lt;span class="k">data&lt;/span>&lt;span class="o">-&amp;gt;&amp;gt;&lt;/span>&lt;span class="s1">&amp;#39;actor&amp;#39;&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s1">&amp;#39;https://xx.ca/users/xxxBot&amp;#39;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">DELETE&lt;/span> &lt;span class="mf">485&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>ğŸŒŸ åˆ é™¤äº† activities è¡¨ 2023-06-15 ä¹‹å‰ã€ä¸æˆ‘æ— è®¨è®ºå…³ç³»ã€ä¹¦ç­¾ä»¥å¤–çš„å†…å®¹&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-postgresql" data-lang="postgresql">&lt;span class="line">&lt;span class="cl">&lt;span class="n">pleroma&lt;/span>&lt;span class="o">=#&lt;/span> &lt;span class="k">DELETE&lt;/span> &lt;span class="k">FROM&lt;/span> &lt;span class="n">activities&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">WHERE&lt;/span> &lt;span class="n">id&lt;/span> &lt;span class="k">NOT&lt;/span> &lt;span class="k">IN&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="k">SELECT&lt;/span> &lt;span class="n">activity_id&lt;/span> &lt;span class="k">FROM&lt;/span> &lt;span class="n">bookmarks&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">AND&lt;/span> &lt;span class="n">inserted_at&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="s1">&amp;#39;2023-06-15&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">AND&lt;/span> &lt;span class="n">id&lt;/span> &lt;span class="k">NOT&lt;/span> &lt;span class="k">IN&lt;/span> &lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">SELECT&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="mf">.&lt;/span>&lt;span class="n">id&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">FROM&lt;/span> &lt;span class="n">activities&lt;/span> &lt;span class="k">AS&lt;/span> &lt;span class="n">a&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">INNER&lt;/span> &lt;span class="k">JOIN&lt;/span> &lt;span class="n">objects&lt;/span> &lt;span class="k">AS&lt;/span> &lt;span class="n">o&lt;/span> &lt;span class="k">ON&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">o&lt;/span>&lt;span class="mf">.&lt;/span>&lt;span class="s">&amp;#34;data&amp;#34;&lt;/span>&lt;span class="o">-&amp;gt;&amp;gt;&lt;/span>&lt;span class="s1">&amp;#39;id&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">COALESCE&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">a&lt;/span>&lt;span class="mf">.&lt;/span>&lt;span class="s">&amp;#34;data&amp;#34;&lt;/span>&lt;span class="o">-&amp;gt;&lt;/span>&lt;span class="s1">&amp;#39;object&amp;#39;&lt;/span>&lt;span class="o">-&amp;gt;&amp;gt;&lt;/span>&lt;span class="s1">&amp;#39;id&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="mf">.&lt;/span>&lt;span class="s">&amp;#34;data&amp;#34;&lt;/span>&lt;span class="o">-&amp;gt;&amp;gt;&lt;/span>&lt;span class="s1">&amp;#39;object&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">WHERE&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="mf">.&lt;/span>&lt;span class="s">&amp;#34;data&amp;#34;&lt;/span>&lt;span class="o">-&amp;gt;&amp;gt;&lt;/span>&lt;span class="s1">&amp;#39;actor&amp;#39;&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s1">&amp;#39;https://ponderduck.cc/users/yaya&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">OR&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="mf">.&lt;/span>&lt;span class="s">&amp;#34;data&amp;#34;&lt;/span>&lt;span class="o">-&amp;gt;&lt;/span>&lt;span class="s1">&amp;#39;to&amp;#39;&lt;/span> &lt;span class="o">?&lt;/span> &lt;span class="s1">&amp;#39;https://ponderduck.cc/users/yaya&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">OR&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="mf">.&lt;/span>&lt;span class="s">&amp;#34;data&amp;#34;&lt;/span>&lt;span class="o">-&amp;gt;&lt;/span>&lt;span class="s1">&amp;#39;cc&amp;#39;&lt;/span> &lt;span class="o">?&lt;/span> &lt;span class="s1">&amp;#39;https://ponderduck.cc/users/yaya&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">DELETE&lt;/span> &lt;span class="mf">89430&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>ğŸŒŸ åˆ é™¤äº† objects è¡¨ä¸ä»¥ä¸Šå†…å®¹å¯¹åº”çš„è¡Œ&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-postgresql" data-lang="postgresql">&lt;span class="line">&lt;span class="cl">&lt;span class="cm">/*
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm">åˆ›å»ºä¸€ä¸ªä¸´æ—¶è¡¨ temp_objects
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm">æ¥å­˜å‚¨é‚£äº›åœ¨ activities è¡¨ä¸­æ‰¾ä¸åˆ°å¯¹åº”è¡Œçš„ objects è¡¨çš„è¡Œ
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm">*/&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">pleroma&lt;/span>&lt;span class="o">=#&lt;/span> &lt;span class="k">CREATE&lt;/span> &lt;span class="k">TEMPORARY&lt;/span> &lt;span class="k">TABLE&lt;/span> &lt;span class="n">temp_objects&lt;/span> &lt;span class="k">AS&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">SELECT&lt;/span> &lt;span class="n">o&lt;/span>&lt;span class="mf">.&lt;/span>&lt;span class="o">*&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">FROM&lt;/span> &lt;span class="n">objects&lt;/span> &lt;span class="n">o&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">LEFT&lt;/span> &lt;span class="k">JOIN&lt;/span> &lt;span class="n">activities&lt;/span> &lt;span class="n">a&lt;/span> &lt;span class="k">ON&lt;/span> &lt;span class="n">o&lt;/span>&lt;span class="mf">.&lt;/span>&lt;span class="k">data&lt;/span>&lt;span class="o">-&amp;gt;&amp;gt;&lt;/span>&lt;span class="s1">&amp;#39;id&amp;#39;&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="mf">.&lt;/span>&lt;span class="k">data&lt;/span>&lt;span class="o">-&amp;gt;&lt;/span>&lt;span class="s1">&amp;#39;object&amp;#39;&lt;/span>&lt;span class="o">-&amp;gt;&amp;gt;&lt;/span>&lt;span class="s1">&amp;#39;id&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">WHERE&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="mf">.&lt;/span>&lt;span class="k">data&lt;/span>&lt;span class="o">-&amp;gt;&lt;/span>&lt;span class="s1">&amp;#39;object&amp;#39;&lt;/span>&lt;span class="o">-&amp;gt;&amp;gt;&lt;/span>&lt;span class="s1">&amp;#39;id&amp;#39;&lt;/span> &lt;span class="k">IS&lt;/span> &lt;span class="k">NULL&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">SELECT&lt;/span> &lt;span class="mf">128652&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm">/*
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm">æŠ¥é”™ï¼š
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm">æ‰§è¡Œåˆ é™¤æ“ä½œæ—¶è¿åäº†å¤–é”®çº¦æŸ
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm">objects è¡¨ä¸­çš„æŸäº›è¡Œä»ç„¶è¢« deliveries è¡¨å¼•ç”¨ï¼Œå› æ­¤æ— æ³•ç›´æ¥åˆ é™¤
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm">deliveries è¡¨æ˜¯ç”¨äºè·Ÿè¸ªæ¶ˆæ¯ä¼ é€’çš„è¡¨ï¼Œé€šå¸¸åœ¨ ActivityPub åè®®çš„å®ç°ä¸­ä½¿ç”¨
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm">å®ƒè®°å½•äº†æ¶ˆæ¯ä¼ é€’çš„ç›¸å…³ä¿¡æ¯ï¼Œä¾‹å¦‚å‘é€æ–¹ã€æ¥æ”¶æ–¹ã€æ¶ˆæ¯å†…å®¹ç­‰
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm">æ¯æ¡è®°å½•ä»£è¡¨ä¸€æ¬¡æ¶ˆæ¯ä¼ é€’æˆ–äº¤äº’ã€‚
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm">åœ¨ Pleroma ä¸­ï¼Œdeliveries è¡¨ç”¨äºå­˜å‚¨æ¶ˆæ¯çš„ä¼ é€’çŠ¶æ€å’Œç›¸å…³ä¿¡æ¯ï¼Œä»¥ç¡®ä¿æ¶ˆæ¯èƒ½å¤Ÿæ­£ç¡®åœ°ä¼ é€’ç»™ç›®æ ‡ç”¨æˆ·
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm">å®ƒä¸ objects è¡¨å’Œ activities è¡¨ä¹‹é—´å¯èƒ½å­˜åœ¨å¤–é”®å…³ç³»ï¼Œç”¨äºä¿è¯æ•°æ®çš„å®Œæ•´æ€§
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm">*/&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">pleroma&lt;/span>&lt;span class="o">=#&lt;/span> &lt;span class="k">DELETE&lt;/span> &lt;span class="k">FROM&lt;/span> &lt;span class="n">objects&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">WHERE&lt;/span> &lt;span class="n">id&lt;/span> &lt;span class="k">IN&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="k">SELECT&lt;/span> &lt;span class="n">id&lt;/span> &lt;span class="k">FROM&lt;/span> &lt;span class="n">temp_objects&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">ERROR&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="k">update&lt;/span> &lt;span class="k">or&lt;/span> &lt;span class="k">delete&lt;/span> &lt;span class="k">on&lt;/span> &lt;span class="k">table&lt;/span> &lt;span class="s">&amp;#34;objects&amp;#34;&lt;/span> &lt;span class="n">violates&lt;/span> &lt;span class="k">foreign&lt;/span> &lt;span class="k">key&lt;/span> &lt;span class="k">constraint&lt;/span> &lt;span class="s">&amp;#34;deliveries_object_id_fkey&amp;#34;&lt;/span> &lt;span class="k">on&lt;/span> &lt;span class="k">table&lt;/span> &lt;span class="s">&amp;#34;deliveries&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">DETAIL&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="k">Key&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">id&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mf">75072&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="k">is&lt;/span> &lt;span class="n">still&lt;/span> &lt;span class="n">referenced&lt;/span> &lt;span class="k">from&lt;/span> &lt;span class="k">table&lt;/span> &lt;span class="s">&amp;#34;deliveries&amp;#34;&lt;/span>&lt;span class="mf">.&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm">/*
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm">æ‰€ä»¥å…ˆåˆ é™¤è¢« deliveries è¡¨å¼•ç”¨çš„è¡Œ
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm">*/&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">pleroma&lt;/span>&lt;span class="o">=#&lt;/span> &lt;span class="k">DELETE&lt;/span> &lt;span class="k">FROM&lt;/span> &lt;span class="n">deliveries&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">WHERE&lt;/span> &lt;span class="n">user_id&lt;/span> &lt;span class="k">NOT&lt;/span> &lt;span class="k">IN&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="k">SELECT&lt;/span> &lt;span class="n">id&lt;/span> &lt;span class="k">FROM&lt;/span> &lt;span class="n">activities&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">DELETE&lt;/span> &lt;span class="mf">6372&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm">/*
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm">ç»§ç»­æ‰§è¡Œåˆ é™¤æ“ä½œå¹¶åˆ é™¤ä¸´æ—¶è¡¨
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm">*/&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">pleroma&lt;/span>&lt;span class="o">=#&lt;/span> &lt;span class="k">DELETE&lt;/span> &lt;span class="k">FROM&lt;/span> &lt;span class="n">objects&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">WHERE&lt;/span> &lt;span class="n">id&lt;/span> &lt;span class="k">IN&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="k">SELECT&lt;/span> &lt;span class="n">id&lt;/span> &lt;span class="k">FROM&lt;/span> &lt;span class="n">temp_objects&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">DELETE&lt;/span> &lt;span class="mf">128652&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">pleroma&lt;/span>&lt;span class="o">=#&lt;/span> &lt;span class="k">DROP&lt;/span> &lt;span class="k">TABLE&lt;/span> &lt;span class="n">temp_objects&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">DROP&lt;/span> &lt;span class="k">TABLE&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>æœ€å &lt;code>su pleroma -s $SHELL -lc &amp;quot;./bin/pleroma_ctl database vacuum full &amp;quot;&lt;/code>ï¼Œä½†æ˜¯ï¼SQL å‘½ä»¤æœ‰é—®é¢˜ï¼Œåˆ äº†æˆ‘å¥½å¤šå˜Ÿï¼Œå‘œå‘œå‘œå“­ç€å€’åœ°ã€‚é‡æ–°çœ‹äº†ä¸€ä¸‹æ•°æ®åº“å¤§å°ï¼Œç°åœ¨å€’æ˜¯å˜å¾—è¿·ä½ äº†ï¼Œ164 MBã€‚ä½†æ˜¯è¿™ä¸€åˆ‡çœŸçš„å€¼å¾—å—â€¦â€¦å®Œå…¨åœ¨æˆ‘è®¡åˆ’å¤–çš„â€¦â€¦&lt;/p>
&lt;h3 id="å¸¸ç”¨-psql-å‘½ä»¤">å¸¸ç”¨ psql å‘½ä»¤&lt;/h3>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-postgresql" data-lang="postgresql">&lt;span class="line">&lt;span class="cl">&lt;span class="n">psql&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="n">U&lt;/span> &lt;span class="n">postgres&lt;/span> &lt;span class="o">#&lt;/span> &lt;span class="err">æŒ‡å®šç”¨æˆ·è¿æ¥&lt;/span>&lt;span class="n">PostgreSQL&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">psql&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="n">d&lt;/span> &lt;span class="n">postgres&lt;/span> &lt;span class="o">#&lt;/span> &lt;span class="err">æŒ‡å®šæ•°æ®åº“è¿æ¥&lt;/span>&lt;span class="n">PostgreSQL&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">psql&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="n">h&lt;/span> &lt;span class="mf">127.0.0.1&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="n">p&lt;/span> &lt;span class="mf">5432&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="n">U&lt;/span> &lt;span class="n">pg&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="n">d&lt;/span> &lt;span class="n">postgres&lt;/span> &lt;span class="o">#&lt;/span> &lt;span class="err">è¿æ¥åˆ°æœ¬åœ°ä¸»æœºï¼ˆ&lt;/span>&lt;span class="mf">127.0.0.1&lt;/span>&lt;span class="err">ï¼‰çš„&lt;/span> &lt;span class="n">PostgreSQL&lt;/span> &lt;span class="err">æ•°æ®åº“æœåŠ¡å™¨ï¼Œä½¿ç”¨ç”¨æˆ·å&lt;/span> &lt;span class="n">pg&lt;/span> &lt;span class="err">è¿æ¥åˆ°åä¸º&lt;/span> &lt;span class="n">postgres&lt;/span> &lt;span class="err">çš„æ•°æ®åº“&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">\&lt;/span>&lt;span class="n">du&lt;/span> &lt;span class="o">#&lt;/span> &lt;span class="err">æŸ¥çœ‹æ‰€æœ‰ç”¨æˆ·&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">\&lt;/span>&lt;span class="n">l&lt;/span> &lt;span class="o">#&lt;/span> &lt;span class="err">æŸ¥çœ‹æ‰€æœ‰æ•°æ®åº“&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">\&lt;/span>&lt;span class="n">c&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="n">dbname&lt;/span>&lt;span class="p">}&lt;/span> &lt;span class="o">#&lt;/span> &lt;span class="err">åˆ‡æ¢åˆ°æ•°æ®åº“&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">\&lt;/span>&lt;span class="n">dt&lt;/span> &lt;span class="o">#&lt;/span> &lt;span class="err">æŸ¥çœ‹å½“å‰æ•°æ®åº“çš„æ‰€æœ‰è¡¨&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">\&lt;/span>&lt;span class="n">d&lt;/span> &lt;span class="p">{&lt;/span>&lt;span class="n">tablename&lt;/span>&lt;span class="p">}&lt;/span> &lt;span class="o">#&lt;/span> &lt;span class="err">æŸ¥çœ‹æŒ‡å®šè¡¨&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">SHOW&lt;/span> &lt;span class="n">data_directory&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="o">#&lt;/span> &lt;span class="err">æŸ¥çœ‹æ•°æ®ç›®å½•&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">\&lt;/span>&lt;span class="n">q&lt;/span> &lt;span class="o">#&lt;/span> &lt;span class="err">é€€å‡ºäº¤äº’æŸ¥è¯¢æ¨¡å¼&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div></description></item><item><title>Vue3 | ToDoList</title><link>https://falasool.github.io/2023/vue3-todolist/</link><pubDate>Wed, 21 Jun 2023 01:29:15 +0800</pubDate><guid>https://falasool.github.io/2023/vue3-todolist/</guid><description>&lt;h2 id="å®ç°åŠŸèƒ½">å®ç°åŠŸèƒ½&lt;/h2>
&lt;ul>
&lt;li>
&lt;p>å±•ç¤ºä»»åŠ¡çš„åˆ—è¡¨&lt;/p>
&lt;ul>
&lt;li>ä½¿ç”¨ &lt;code>v-for&lt;/code> åœ¨æ¨¡æ¿ä¸­å¾ªç¯æ¸²æŸ“ä»»åŠ¡é¡¹ç»„ä»¶ï¼Œå¹¶æ ¹æ®ä»»åŠ¡çš„çŠ¶æ€ï¼ˆå®Œæˆæˆ–æœªå®Œæˆï¼‰è¿›è¡Œä¸åŒçš„å±•ç¤ºæ ·å¼&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>æ–°å¢ todo&lt;/p>
&lt;ul>
&lt;li>&lt;code>v-model&lt;/code> å®ç°è¾“å…¥æ¡†å’Œæ•°æ®çš„åŒå‘ç»‘å®š&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>ä¿®æ”¹ todo&lt;/p>
&lt;/li>
&lt;li>
&lt;p>åˆ é™¤ todo&lt;/p>
&lt;/li>
&lt;li>
&lt;p>å…¨é€‰/å–æ¶ˆå…¨é€‰&lt;/p>
&lt;/li>
&lt;li>
&lt;p>ç»Ÿè®¡ä»»åŠ¡&lt;/p>
&lt;/li>
&lt;li>
&lt;p>éšè—å·²å®Œæˆ todo&lt;/p>
&lt;/li>
&lt;li>
&lt;p>æœ¬åœ°å‚¨å­˜&lt;/p>
&lt;/li>
&lt;/ul>
&lt;p>è¿›é˜¶&lt;/p>
&lt;ol>
&lt;li>ç·¨è¼¯ List é †åº&lt;/li>
&lt;li>å°‡å®Œæˆçš„é …ç›®ç§»è‡³Finishå€åŸŸï¼Œä¸¦ä¸”å°‡å­—é«”æ”¹æˆåˆªé™¤ç·šæ•ˆæœ&lt;/li>
&lt;li>å¢åŠ  Icon ä»¥åŠé–‹å ´å‹•ç•«&lt;/li>
&lt;li>è¨­å®šæ—¥æœŸèˆ‡æ™‚é–“æ¨æ’­&lt;/li>
&lt;/ol>
&lt;h2 id="é¡¹ç›®å®‰è£…">é¡¹ç›®å®‰è£…&lt;/h2>
&lt;p>ç”¨ npm å’Œ vite æ–°å»ºé¡¹ç›®&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">npm init vite-app ToDoList
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>è¿›å…¥é¡¹ç›®ã€å®‰è£…ä¾èµ–ã€å¯åŠ¨&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">&lt;span class="nb">cd&lt;/span> ToDoList
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">npm install
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">npm run dev
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="å·¥ç¨‹ç›®å½•ç»“æ„">å·¥ç¨‹ç›®å½•ç»“æ„&lt;/h3>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">.
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”œâ”€â”€ index.html
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”œâ”€â”€ node_modules &lt;span class="c1"># é¡¹ç›®ä¾èµ–&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”œâ”€â”€ package-lock.json
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”œâ”€â”€ package.json &lt;span class="c1"># å­˜æ”¾ä¾èµ–åŒ…ç®¡ç†åŠå‘½ä»¤ç®¡ç†ä¿¡æ¯æ–‡ä»¶&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”œâ”€â”€ public
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”‚Â Â  â””â”€â”€ favicon.ico
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â””â”€â”€ src &lt;span class="c1"># å­˜æ”¾vueæ–‡ä»¶&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> â”œâ”€â”€ App.vue &lt;span class="c1"># é¡¹ç›®çš„rootç»„ä»¶ï¼Œç”¨æ¥å¼•å…¥å…¶å®ƒæ¨¡å—&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> â”œâ”€â”€ assets
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> â”œâ”€â”€ components &lt;span class="c1"># å­˜æ”¾è‡ªå®šä¹‰çš„å…¬å…±ç»„ä»¶ï¼ˆ=éè·¯ç”±ç»„ä»¶ï¼‰&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> â”‚Â Â  â””â”€â”€ Helloworld.vue
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> â”œâ”€â”€ index.css
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> â””â”€â”€ main.js &lt;span class="c1"># å…¥å£æ–‡ä»¶ï¼Œç”¨äºåˆå§‹åŒ–vueå®ä¾‹&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="æ€è·¯">æ€è·¯&lt;/h2>
&lt;ol>
&lt;li>
&lt;p>å…ˆæ­å»ºå¥½æ¡†æ¶ï¼šå†™æ­»æ•°æ®çœ‹é¡µé¢æ•ˆæœå¹¶è°ƒæ•´&lt;/p>
&lt;/li>
&lt;li>
&lt;p>ç„¶åæŠŠä»£ç æ‹†åˆ†è¿›ä¸‰ä¸ªç»„ä»¶ï¼šHeaderã€Listã€Footerï¼ˆæ ‡é¢˜å’Œä»»åŠ¡è¾“å…¥æ¡†ã€ä»»åŠ¡åˆ—è¡¨é¡¹ã€æŒ‰é’®é€‰æ‹©é¡¹å’Œè®¡æ•°ï¼‰&lt;/p>
&lt;/li>
&lt;li>
&lt;p>å†™JSï¼Œå¹¶æ›´æ¢æ¨¡æ¿é¡µé¢ä¸­çš„æ•°æ®ï¼Œç”¨åŠ¨æ€çš„æ•°æ®ä»£æ›¿ã€‚åœ¨setup()å…¥å£å‡½æ•°ä¸­å†™æ•°æ®æºå’Œè¦å®ç°åŠŸèƒ½çš„å‡½æ•°&lt;/p>
&lt;/li>
&lt;/ol>
&lt;h2 id="å®ç°æ­¥éª¤">å®ç°æ­¥éª¤&lt;/h2>
&lt;h3 id="html">HTML&lt;/h3>
&lt;p>è¿™ä¸æ˜¯æœ€ç»ˆç»“æ„ï¼Œåé¢æœ‰ä¿®æ”¹&lt;/p>
&lt;p>&lt;img src="https://cdn.jsdelivr.net/gh/Falasool/blog-pic-bed@main//blog202307121504274.webp"
loading="lazy"
alt="image"
>&lt;/p>
&lt;h3 id="css">CSS&lt;/h3>
&lt;details>
&lt;summary>å®‰è£…å’Œé…ç½® TailwindCSS&lt;/summary>
&lt;p>åœ¨Vueçš„æ ¹ç›®å½•ä¸‹ï¼Œå®‰è£… Tailwind åŠå…¶ä¾èµ–é¡¹ï¼ˆPostCSS &amp;amp; auto-prefixerï¼‰&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">npm install -D tailwindcss postcss autoprefixer
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>ç”Ÿæˆé…ç½®æ–‡ä»¶å¹¶æ·»åŠ æ‰€æœ‰æ¨¡æ¿æ–‡ä»¶çš„è·¯å¾„&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">npx tailwindcss init -p
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">//tailwind.config.js
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">module.exports &lt;span class="o">=&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> content: &lt;span class="o">[&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s2">&amp;#34;./index.html&amp;#34;&lt;/span>,
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s2">&amp;#34;./src/**/*.{vue,js,ts,jsx,tsx}&amp;#34;&lt;/span>,
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">]&lt;/span>,
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> theme: &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> extend: &lt;span class="o">{}&lt;/span>,
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>,
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> plugins: &lt;span class="o">[]&lt;/span>,
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>åˆ›å»ºä¸€ä¸ª&lt;code>tailwind.css&lt;/code>æ ·å¼æ–‡ä»¶ï¼Œç”¨äºåˆå§‹åŒ–å¹¶å¼•å…¥&lt;code>tailwindcss&lt;/code>çš„åŸºç¡€æ ·å¼&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-css" data-lang="css">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">å¤åˆ¶ä»£ç &lt;/span>&lt;span class="c">/* /src/tailwindcss.css*/&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">@&lt;/span>&lt;span class="k">tailwind&lt;/span> &lt;span class="nt">base&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">@&lt;/span>&lt;span class="k">tailwind&lt;/span> &lt;span class="nt">components&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">@&lt;/span>&lt;span class="k">tailwind&lt;/span> &lt;span class="nt">utilities&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>å¯¼å…¥&lt;code>css/tailwindcss.css&lt;/code>åˆ°&lt;code>main.js&lt;/code>&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-diff" data-lang="diff">&lt;span class="line">&lt;span class="cl">// src/main.js
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">import { createApp } from &amp;#39;vue&amp;#39;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">import App from &amp;#39;./App.vue&amp;#39;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="gi">+ import &amp;#34;./tailwind.css&amp;#34;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="gi">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">createApp(App).mount(&amp;#39;#app&amp;#39;)
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>
&lt;/details>
&lt;p>&lt;img src="https://cdn.jsdelivr.net/gh/Falasool/blog-pic-bed@main//blog202308290007098.webp"
loading="lazy"
alt="image"
>&lt;/p></description></item><item><title>Language learning | dictate NCE II</title><link>https://falasool.github.io/2023/language-learning-dictate-nce-ii/</link><pubDate>Sun, 11 Jun 2023 23:17:00 +0800</pubDate><guid>https://falasool.github.io/2023/language-learning-dictate-nce-ii/</guid><description>&lt;p>Last week, I went to the theatre, i had a very good set, the play is very interesting. i did not enjoy it. the young man and a young woman is sitting behind me. They were talking loudly. i got very angry. i could not heat the actors. i turned around, i looked at the man and the woman angrily, they did not pay any attention, in the end, i could not bared, i turned around again,i can&amp;rsquo;t hear the word, i said angrily. Its not your business, the young man said rudely, this is a private conversation.&lt;/p></description></item><item><title>Pleroma | åœ¨ Debian ä¸Šæ­å»º pleroma å®ä¾‹</title><link>https://falasool.github.io/2023/new-pleroma-isntance-on-debian11/</link><pubDate>Sat, 03 Jun 2023 01:29:15 +0800</pubDate><guid>https://falasool.github.io/2023/new-pleroma-isntance-on-debian11/</guid><description>&lt;!-- raw HTML omitted -->
&lt;h2 id="å‰ç½®æ­¥éª¤">å‰ç½®æ­¥éª¤&lt;/h2>
&lt;h3 id="å®‰è£…ä¾èµ–">å®‰è£…ä¾èµ–&lt;/h3>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># æ›´æ–°&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">apt-get update
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># å®‰è£…ä¾èµ–&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">apt install unzip libncurses5 postgresql postgresql-contrib nginx snapd libmagic-dev
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">apt install imagemagick ffmpeg libimage-exiftool-perl
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="postgresql-æ€§èƒ½è°ƒä¼˜">&lt;del>PostgreSQL æ€§èƒ½è°ƒä¼˜&lt;/del>&lt;/h3>
&lt;p>&lt;del>æ ¹æ® pgTune ä¿®æ”¹é…ç½®æ–‡ä»¶&lt;/del>&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">vim /etc/postgresql/13/main/postgresql.conf
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;!-- raw HTML omitted -->
&lt;p>é‡å¯ PostgreSQL&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">systemctl restart postgresql
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="å®‰è£…-pleroma">å®‰è£… Pleroma&lt;/h2>
&lt;ol>
&lt;li>åˆ›å»º Pleroma ç”¨æˆ·&lt;/li>
&lt;/ol>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">adduser --system --shell /bin/false --home /opt/pleroma pleroma
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>åˆ›å»º pleroma ç”¨æˆ·ï¼ŒæŒ‡å®šå®¶ç›®å½•ä¸º &lt;code>/opt/pleroma&lt;/code>ï¼Œç”¨äºé…ç½® pleroma çš„ç¯å¢ƒå’Œæ–‡ä»¶ï¼Œå¹¶ç¦æ­¢ç™»å½•&lt;/p>
&lt;ol start="2">
&lt;li>æ£€æµ‹ç³»ç»Ÿæ¶æ„ä¸ libc ç‰ˆæœ¬ï¼Œå¹¶æ ¹æ®ç»“æœè®¾ç½®ç¯å¢ƒå˜é‡ FLAVOUR&lt;/li>
&lt;/ol>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">&lt;span class="nv">arch&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="k">$(&lt;/span>uname -m&lt;span class="k">)&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="k">if&lt;/span> &lt;span class="o">[&lt;/span> &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="nv">$arch&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;x86_64&amp;#34;&lt;/span> &lt;span class="o">]&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="k">then&lt;/span> &lt;span class="nv">arch&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;amd64&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="k">elif&lt;/span> &lt;span class="o">[&lt;/span> &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="nv">$arch&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;armv7l&amp;#34;&lt;/span> &lt;span class="o">]&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="k">then&lt;/span> &lt;span class="nv">arch&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;arm&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="k">elif&lt;/span> &lt;span class="o">[&lt;/span> &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="nv">$arch&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;aarch64&amp;#34;&lt;/span> &lt;span class="o">]&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="k">then&lt;/span> &lt;span class="nv">arch&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;arm64&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="k">else&lt;/span> &lt;span class="nb">echo&lt;/span> &lt;span class="s2">&amp;#34;Unsupported arch: &lt;/span>&lt;span class="nv">$arch&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span>&amp;gt;&lt;span class="p">&amp;amp;&lt;/span>2&lt;span class="p">;&lt;/span>&lt;span class="k">fi&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="k">if&lt;/span> getconf GNU_LIBC_VERSION&amp;gt;/dev/null&lt;span class="p">;&lt;/span>&lt;span class="k">then&lt;/span> &lt;span class="nv">libc_postfix&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="k">elif&lt;/span> &lt;span class="o">[&lt;/span> &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="k">$(&lt;/span>ldd 2&amp;gt;&lt;span class="p">&amp;amp;&lt;/span>1&lt;span class="p">|&lt;/span>head -c 9&lt;span class="k">)&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;musl libc&amp;#34;&lt;/span> &lt;span class="o">]&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="k">then&lt;/span> &lt;span class="nv">libc_postfix&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;-musl&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="k">elif&lt;/span> &lt;span class="o">[&lt;/span> &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="k">$(&lt;/span>find /lib/libc.musl*&lt;span class="p">|&lt;/span>wc -l&lt;span class="k">)&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span> &lt;span class="o">]&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="k">then&lt;/span> &lt;span class="nv">libc_postfix&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;-musl&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="k">else&lt;/span> &lt;span class="nb">echo&lt;/span> &lt;span class="s2">&amp;#34;Unsupported libc&amp;#34;&lt;/span>&amp;gt;&lt;span class="p">&amp;amp;&lt;/span>2&lt;span class="p">;&lt;/span>&lt;span class="k">fi&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="nb">echo&lt;/span> &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="nv">$arch$libc_postfix&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># è¾“å‡º&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">amd64
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>æ‰€ä»¥è®¾ç½®ç¯å¢ƒå˜é‡ä¸º&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">&lt;span class="nb">export&lt;/span> &lt;span class="nv">FLAVOUR&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;amd64&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;ol start="3">
&lt;li>ä¸‹è½½ pleroma æ–‡ä»¶åˆ° /tmp ç›®å½•å¹¶è§£å‹&lt;/li>
&lt;/ol>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">su pleroma -s &lt;span class="nv">$SHELL&lt;/span> -lc &lt;span class="s2">&amp;#34;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">curl &amp;#39;https://git.pleroma.social/api/v4/projects/2/jobs/artifacts/stable/download?job=&lt;/span>&lt;span class="nv">$FLAVOUR&lt;/span>&lt;span class="s2">&amp;#39; -o /tmp/pleroma.zip
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">unzip /tmp/pleroma.zip -d /tmp/
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;ol start="4">
&lt;li>ç§»åŠ¨æ–‡ä»¶åˆ° /opt/pleroma å¹¶åˆ é™¤ /tmp&lt;/li>
&lt;/ol>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">su pleroma -s &lt;span class="nv">$SHELL&lt;/span> -lc &lt;span class="s2">&amp;#34;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">mv /tmp/release/* /opt/pleroma
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">rmdir /tmp/release
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">rm /tmp/pleroma.zip
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;ol start="5">
&lt;li>åˆ›å»ºå„ç§ç›®å½•åŠèµ‹æƒæ“ä½œ uploads ç›®å½•å¹¶èµ‹æƒ&lt;/li>
&lt;/ol>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># uploads ç›®å½• &amp;amp; èµ‹æƒ&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">mkdir -p /var/lib/pleroma/uploads
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">chown -R pleroma /var/lib/pleroma
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># static ç›®å½• &amp;amp; è®¾ç½®æ‰€æœ‰è€…ä¸º pleroma&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">mkdir -p /var/lib/pleroma/static
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">chown -R pleroma /var/lib/pleroma
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># é…ç½®æ–‡ä»¶ç›®å½• &amp;amp; è®¾ç½®æ‰€æœ‰è€…ä¸º pleroma&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">mkdir -p /etc/pleroma
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">chown -R pleroma /etc/pleroma
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;ol start="6">
&lt;li>ç”Ÿæˆé…ç½®æ–‡ä»¶&lt;/li>
&lt;/ol>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">su pleroma -s &lt;span class="nv">$SHELL&lt;/span> -lc &lt;span class="s2">&amp;#34;./bin/pleroma_ctl instance gen --output /etc/pleroma/config.exs --output-psql /tmp/setup_db.psql&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>å›ç­”è‹¥å¹²é—®é¢˜&lt;/p>
&lt;ol start="7">
&lt;li>åˆ›å»º postgres æ•°æ®åº“&lt;/li>
&lt;/ol>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl"> su postgres -s &lt;span class="nv">$SHELL&lt;/span> -lc &lt;span class="s2">&amp;#34;psql -f /tmp/setup_db.psql&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;ol start="8">
&lt;li>æ›´æ–°æ•°æ®åº“ schema&lt;/li>
&lt;/ol>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">su pleroma -s &lt;span class="nv">$SHELL&lt;/span> -lc &lt;span class="s2">&amp;#34;./bin/pleroma_ctl migrate&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;ol start="9">
&lt;li>å¯åŠ¨å®ä¾‹&lt;/li>
&lt;/ol>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">su pleroma -s $SHELL -lc &amp;#34;./bin/pleroma daemon&amp;#34;
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;ol start="10">
&lt;li>ç­‰å¾…ä¸€ä¼šæ£€æµ‹å®ä¾‹è¿è¡Œæƒ…å†µ&lt;/li>
&lt;/ol>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">curl http://localhost:4000/api/v1/instance
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;ol start="10">
&lt;li>æš‚åœå®ä¾‹è¿è¡Œ&lt;/li>
&lt;/ol>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">su pleroma -s $SHELL -lc &amp;#34;./bin/pleroma stop&amp;#34;
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="é€šé…ç¬¦-ssl-è¯ä¹¦è‡ªåŠ¨ç»­æœŸ">é€šé…ç¬¦ SSL è¯ä¹¦è‡ªåŠ¨ç»­æœŸ&lt;/h2>
&lt;p>å¦‚æœé¢„è£…äº†certbotè¦å…ˆåˆ æ‰ &lt;code>apt-get remove certbot&lt;/code>&lt;/p>
&lt;p>å®‰è£… certbot&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">snap install core
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">snap refresh core
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">snap install --classic certbot
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">ln -s /snap/bin/certbot /usr/bin/certbot
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">snap &lt;span class="nb">set&lt;/span> certbot trust-plugin-with-root&lt;span class="o">=&lt;/span>ok
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">snap install certbot-dns-cloudflare
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>æ”¾ç½®å‡­æ®&lt;/p>
&lt;p>Token åœ¨ &lt;a class="link" href="https://dash.cloudflare.com/profile/api-tokens" target="_blank" rel="noopener"
>https://dash.cloudflare.com/profile/api-tokens&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
ç”Ÿæˆ&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">sudo mkdir -p /root/.secrets/
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sudo touch /root/.secrets/cloudflare.ini
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># æ·»åŠ /.secretsç›®å½•ä¸cloudflare.iniæ–‡ä»¶&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sudo chmod &lt;span class="m">0700&lt;/span> /root/.secrets/
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sudo chmod &lt;span class="m">0400&lt;/span> /root/.secrets/cloudflare.ini
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># æŒ‡å®šæƒé™&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">vim /root/.secrets/cloudflare.ini
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># Cloudflare API token used by Certbot&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nv">dns_cloudflare_api_token&lt;/span> &lt;span class="o">=&lt;/span> 0123456789abcdef0123456789abcdef01234567
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>ç”³è¯·è¯ä¹¦&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">certbot certonly &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> --dns-cloudflare &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> --dns-cloudflare-credentials ~/.secrets/cloudflare.ini &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> -d example.com
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> -d *.example.com
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>æµ‹è¯•è‡ªåŠ¨å»¶æœŸ&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">certbot renew --dry-run
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="nginx">Nginx&lt;/h2>
&lt;p>å¤åˆ¶ Pleroma çš„ nginx é…ç½®åˆ° nginx ç›®å½•&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">cp /opt/pleroma/installation/pleroma.nginx /etc/nginx/sites-available/pleroma.conf
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">ln -s /etc/nginx/sites-available/pleroma.conf /etc/nginx/sites-enabled/pleroma.conf
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>ç¼–è¾‘ Pleroma çš„ nginx é…ç½®æ–‡ä»¶ï¼Œæ”¹æˆè‡ªå·±çš„åŸŸå&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">vim /etc/nginx/sites-available/pleroma.conf
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>è¿™é‡Œæ”¹æˆ&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">location / &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="m">301&lt;/span> https://&amp;lt;domain&amp;gt;&lt;span class="nv">$request_uri&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>é‡å¯ nginx&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">nginx -t
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">systemctl start nginx
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># or&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">nginx -s reload
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="è®¾ç½®ç³»ç»ŸæœåŠ¡">è®¾ç½®ç³»ç»ŸæœåŠ¡&lt;/h2>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">cp /opt/pleroma/installation/pleroma.service /etc/systemd/system/pleroma.service
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">systemctl start pleroma
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">systemctl &lt;span class="nb">enable&lt;/span> pleroma
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>å¯ä»¥è®¿é—®å•¦&lt;/p>
&lt;h2 id="åˆ›å»ºç®¡ç†å‘˜è´¦æˆ·">åˆ›å»ºç®¡ç†å‘˜è´¦æˆ·&lt;/h2>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-perl" data-lang="perl">&lt;span class="line">&lt;span class="cl">&lt;span class="n">cd&lt;/span> &lt;span class="sr">/opt/&lt;/span>&lt;span class="n">pleroma&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">bin&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">su&lt;/span> &lt;span class="n">pleroma&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="n">s&lt;/span> &lt;span class="nv">$SHELL&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="nb">lc&lt;/span> &lt;span class="s">&amp;#34;./bin/pleroma_ctl user new &amp;lt;joeuser&amp;gt; &amp;lt;joeuser@sld.tld&amp;gt; --admin&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="å‚è€ƒ--è‡´è°¢">å‚è€ƒ &amp;amp; è‡´è°¢&lt;/h2>
&lt;p>&lt;a class="link" href="https://suicablog.cobaltkiss.blue/posts/pleroma-installation-on-linux-using-otp-releases/" target="_blank" rel="noopener"
>åœ¨ Debian 10 / Ubuntu 20.04 ä¸Šå®‰è£… Pleroma &lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
&lt;/p>
&lt;p>&lt;a class="link" href="https://suicablog.cobaltkiss.blue/posts/wildcard-with-cloudflare-using-certbot/" target="_blank" rel="noopener"
>é€šé…ç¬¦åŸŸåè¯ä¹¦ç”³è¯·ä¸è‡ªåŠ¨ç»­è´¹ï¼ˆNginxï¼ŒDebian 10ï¼‰&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
&lt;/p>
&lt;p>&lt;a class="link" href="https://lily-is.land/infra/pleroma/-/blob/servant/docs/configuration/cheatsheet.md" target="_blank" rel="noopener"
>Configuration Cheat Sheet&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
&lt;/p></description></item><item><title>Pleroma | è´­ä¹°æœåŠ¡å™¨åŠä¹‹åè¦åšä»€ä¹ˆ</title><link>https://falasool.github.io/2023/buy-and-set-ups/</link><pubDate>Thu, 01 Jun 2023 23:29:38 +0800</pubDate><guid>https://falasool.github.io/2023/buy-and-set-ups/</guid><description>&lt;!-- raw HTML omitted -->
&lt;h2 id="è´­ä¹°æœåŠ¡å™¨">è´­ä¹°æœåŠ¡å™¨&lt;/h2>
&lt;p>é€‰ intel - ç¾è¥¿æœºæˆ¿ - Debian11 - 1C1G 25G SSD 1TB&lt;/p>
&lt;p>æ·»åŠ  SSHï¼Œç”Ÿæˆå¯†é’¥&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">ssh-keygen -t rsa -b 4096 -C &amp;#34;example comment&amp;#34;
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>æ‰“å°å‡ºå…¬é’¥å†…å®¹ï¼Œç²˜è´´è¿› VPS æœåŠ¡å•†çš„ç•Œé¢å»&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl"> cat /Users/userName/.ssh/id_rsa.pub
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>ç”¨ SSH ç»ˆç«¯è¿œç¨‹ç™»å½•ï¼Œæµ‹è¯• IP ä¸­å›½å¤§é™†æ˜¯å¦å¯ç”¨&lt;/p>
&lt;ul>
&lt;li>&lt;a class="link" href="http://ping.pe/" target="_blank" rel="noopener"
>http://ping.pe/&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
&lt;/li>
&lt;li>&lt;a class="link" href="https://ping.chinaz.com/" target="_blank" rel="noopener"
>https://ping.chinaz.com/&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
&lt;/li>
&lt;/ul>
&lt;h2 id="ä¿®æ”¹æœåŠ¡å™¨æ—¶åŒº">ä¿®æ”¹æœåŠ¡å™¨æ—¶åŒº&lt;/h2>
&lt;p>æŸ¥çœ‹å½“å‰æ—¶åŒº&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">admin@xxx:~# date
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Fri 02 Jun 2023 01:25:08 PM UTC
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>ä¿®æ”¹æ—¶åŒºï¼Œç„¶åå†æ¬¡æ£€æŸ¥å½“å‰æ—¶åŒº&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl"># åˆ é™¤é»˜è®¤æ—¶åŒº
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">admin@xxx:~# rm -rf /etc/localtime
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"># ä¿®æ”¹ä¸ºä¸Šæµ·
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">admin@xxx:~# ln -s /usr/share/zoneinfo/Asia/Shanghai /etc/localtime
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"># æ£€æŸ¥
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">admin@xxx:~# date
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Fri 02 Jun 2023 01:27:14 PM CST
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="å®‰è£…å¸¸ç”¨å·¥å…·">å®‰è£…å¸¸ç”¨å·¥å…·&lt;/h2>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">apt update &amp;amp;&amp;amp; apt install curl wget screen tree git htop bash-completion fail2ban vim -y
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;ul>
&lt;li>
&lt;p>curlï¼šè¯·æ±‚ web æœåŠ¡å™¨&lt;/p>
&lt;/li>
&lt;li>
&lt;p>wgetï¼šä¸‹è½½è½¯ä»¶åŒ…&lt;/p>
&lt;/li>
&lt;li>
&lt;p>screenï¼šç»ˆç«¯ç®¡ç†å·¥å…·ï¼Œéšæ‰‹ &lt;code>screen -S name&lt;/code>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>treeï¼šæ˜¾ç¤ºç›®å½•ç»“æ„&lt;/p>
&lt;/li>
&lt;li>
&lt;p>htopï¼šç›‘æ§è¿›ç¨‹&lt;/p>
&lt;/li>
&lt;li>
&lt;p>bash-completionï¼šå‘½ä»¤è‡ªåŠ¨è¡¥å…¨å·¥å…·ï¼ŒæŒ‰ [Tab][Tab]&lt;/p>
&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># å®šä½ bash-completion é…ç½®æ–‡ä»¶&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">find / -name &lt;span class="s2">&amp;#34;bash_completion.d&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">/etc/bash_completion.d
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># æ·»åŠ  docker çš„è‡ªåŠ¨è¡¥å…¨ï¼Œé‡å¯ bash&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">cd&lt;/span> /etc/bash_completion.d
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">curl -L -O https://raw.githubusercontent.com/docker/compose/&lt;span class="k">$(&lt;/span>docker-compose version --short&lt;span class="k">)&lt;/span>/contrib/completion/bash/docker-compose
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;ul>
&lt;li>fail2banï¼šé˜²æ­¢æš´åŠ›ç ´è§£æ”»å‡»ï¼Œåœ¨ &lt;code>/etc/fail2ban/jail.conf&lt;/code> ä¿®æ”¹é…ç½®ï¼Œç„¶åæ¿€æ´»&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># æ£€éªŒæœ‰æ²¡æœ‰æ­£ç¡®å¯åŠ¨&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">fail2ban-client ping
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># æŸ¥çœ‹ç›®å‰å¯ç”¨çš„è§„åˆ™&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">fail2ban-client status
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># æŸ¥çœ‹æŸä¸ªè§„åˆ™ä¸‹è¢«å°ç¦çš„æ¬¡æ•°ã€ip&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">fail2ban-client status sshd
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="æ›´æ”¹ç»ˆç«¯é¢œè‰²">æ›´æ”¹ç»ˆç«¯é¢œè‰²&lt;/h2>
&lt;p>è¿›å…¥ /etc/profile æ–‡ä»¶ï¼Œ&lt;code>vim /etc/profile&lt;/code>ï¼Œä¿®æ”¹å‘½ä»¤è¡Œæç¤ºç¬¦çš„é¢œè‰²è®¾ç½®&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">&lt;span class="nv">PS1&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s1">&amp;#39;[\[\e[32m\]\u\[\e[0m\]\[\e[35m\]@\[\e[0m\]\[\e[33m\]\h\[\e[0m\]\[\e[36m\] \W\[\e[0m\]]\$ &amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># æ›´æ–°æ–‡ä»¶&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">source&lt;/span> /etc/profile
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>è§£é‡Šï¼šPS1å˜é‡ä»£è¡¨&amp;lt;ç”¨æˆ·å+ä¸»æœºå+è·¯å¾„åï¼ˆé•¿è·¯å¾„ï¼‰+ $&amp;gt;&lt;/p>
&lt;p>ğŸ¤”â“é—®é¢˜ï¼šæ¯æ¬¡ç™»å½•éƒ½è¦é‡æ–° &lt;code>source /etc/profile&lt;/code> è®©ç¯å¢ƒå˜é‡ç”Ÿæ•ˆ&lt;/p>
&lt;p>ğŸ’¡è§£å†³ï¼š&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">vim ~/.bashrc
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># æ·»åŠ å¦‚ä¸‹ä»£ç &lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">if&lt;/span> &lt;span class="o">[&lt;/span> -f /etc/profile &lt;span class="o">]&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="k">then&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">. /etc/profile
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">fi&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="æ·»åŠ -swap">æ·»åŠ  SWAP&lt;/h2>
&lt;p>ç¡®è®¤æ˜¯å¦å·²å­˜åœ¨ SWAP&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">free -m
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>æœ‰ Swap é¡¹è€Œä¸” total åˆ—ä¸ä¸ºé›¶ï¼Œè¯´æ˜ Swap å·²å­˜åœ¨ï¼Œå¯ä»¥è‡ªè¡Œä¿®æ”¹åˆ†åŒºå®¹é‡ï¼Œå‚è€ƒï¼šä¸º &lt;a class="link" href="https://www.vvave.net/archives/add-swap-and-repartition-swap-for-linux.html" target="_blank" rel="noopener"
>Linux æ·»åŠ  swap åˆ†åŒºæˆ–ä¿®æ”¹ swap åˆ†åŒºå®¹é‡&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
&lt;/p>
&lt;h2 id="é˜²ç«å¢™">é˜²ç«å¢™&lt;/h2>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">ufw allow OpenSSH
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">ufw &lt;span class="nb">enable&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">ufw allow http
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">ufw allow https
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">ufw allow 80/tcp
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">ufw allow 443/tcp
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">ufw status
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># or&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">ufw default deny incoming
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">ufw default allow outgoing
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">ufw allow ssh
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">ufw allow http
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">ufw allow https
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">ufw &lt;span class="nb">enable&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">ufw status numbered
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">ufw reload
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="å‚è€ƒ--è‡´è°¢">å‚è€ƒ &amp;amp; è‡´è°¢&lt;/h2>
&lt;p>&lt;a class="link" href="https://einverne.github.io/post/2015/12/things-to-do-after-buying-vps.html#change-default-shell" target="_blank" rel="noopener"
>è´­ä¹° VPS ä¹‹åéœ€è¦åšçš„äº‹æƒ…&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
&lt;/p>
&lt;p>&lt;a class="link" href="https://einverne.github.io/post/2021/07/vps-benchmark.html" target="_blank" rel="noopener"
>VPS æ€§èƒ½æµ‹è¯•&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
&lt;/p>
&lt;p>&lt;a class="link" href="https://pullopen.github.io/%E5%9F%BA%E7%A1%80%E6%90%AD%E5%BB%BA/2020/10/19/Mastodon-on-Docker.html" target="_blank" rel="noopener"
>å¦‚ä½•åˆ©ç”¨Dockeræ­å»ºMastodonå®ä¾‹ï¼ˆä¸€ï¼‰ï¼šåŸºç¡€æ­å»ºç¯‡&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
&lt;/p></description></item><item><title>Pleroma | ç»´æŠ¤æ—¥å¿—(äºŒ)</title><link>https://falasool.github.io/2023/pleroma-operation-and-maintenance/</link><pubDate>Mon, 15 May 2023 18:52:31 +0800</pubDate><guid>https://falasool.github.io/2023/pleroma-operation-and-maintenance/</guid><description>&lt;p>å‰æƒ…ï¼špostgreSQL æ•°æ®åº“è¾¾åˆ°äº†æƒŠäººçš„ 15Gï¼ŒæŠŠç¡¬ç›˜æ’‘çˆ†äº†ä¸”æŠ¢ä¿®æ— æœã€‚è¿™æ˜¯ç‚¸ç«™é‡æ¥åçš„è¿ç»´æ—¥å¿—ã€‚&lt;a class="link" href="https://ponder.lol/2023/pleroma-operation-and-maintenance2/" target="_blank" rel="noopener"
>Pleroma | ç»´æŠ¤æ—¥å¿—(ä¸€)&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
å·²è®°å½•çš„å†…å®¹ä¸å†é‡å¤&lt;/p>
&lt;!-- raw HTML omitted -->
&lt;h2 id="æ•°æ®åº“ç›¸å…³">æ•°æ®åº“ç›¸å…³&lt;/h2>
&lt;ol>
&lt;li>ç™»å½•æ•°æ®åº“ï¼ŒæŠ¥é”™ï¼špsql: error: FATAL: Peer authentication failed for user &amp;ldquo;postgres&amp;rdquo;&lt;/li>
&lt;/ol>
&lt;p>æŒ‰ç…§ &lt;a class="link" href="https://stackoverflow.com/questions/18664074/getting-error-peer-authentication-failed-for-user-postgres-when-trying-to-ge" target="_blank" rel="noopener"
>https://stackoverflow.com/questions/18664074/getting-error-peer-authentication-failed-for-user-postgres-when-trying-to-ge&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-diff" data-lang="diff">&lt;span class="line">&lt;span class="cl"># ä¿®æ”¹é…ç½®æ–‡ä»¶ï¼ˆæ”¹æˆ md5 ä¹Ÿå¯ä»¥ï¼Œä½†æ˜¯ trust èƒ½å…å¯†ç™»å½•ï¼‰
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">vim /etc/postgresql/13/main/pg_hba.conf
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="gi">+ local all postgres trust
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="gi">&lt;/span># é‡å¯æ•°æ®åº“
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">service postgresql restart
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;ol start="2">
&lt;li>&lt;a class="link" href="https://blog.debula.ml/" target="_blank" rel="noopener"
>@debula&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
å’Œ &lt;a class="link" href="https://seviche.cc/about" target="_blank" rel="noopener"
>@Seviche&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
å¸®å¿™æå–äº†æˆ‘çš„è¿œç¨‹ç¼“å­˜ orzï¼Œè®°å½•ä¸€ä¸‹ï¼š&lt;/li>
&lt;/ol>
&lt;p>ä»Šå¤©å°è¯•äº†ä¸€ä¸‹ ï¼Œåœ¨ JSON ä¸­å¯ä»¥ä½¿ç”¨ &lt;code>-&amp;gt;&amp;gt;&lt;/code> æ¥æå– jsonb çš„ key å¯¹åº”çš„ valueï¼Œæ¯”å¦‚ï¼š&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">select data from activities where data-&amp;gt;&amp;gt;&amp;#39;actor&amp;#39; = &amp;#39;https://ponderduck.cc/users/yaya&amp;#39; order by data-&amp;gt;&amp;gt;&amp;#39;published&amp;#39;
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>å¯ä»¥æå–ç”¨æˆ·æ‰€æœ‰çš„ activitiesï¼Œå† join ä¸€ä¸‹ objects å°±å¾—åˆ°äº†ç»“æœï¼š&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">SELECT a.&amp;#34;actor&amp;#34;, a.&amp;#34;data&amp;#34;-&amp;gt;&amp;gt;&amp;#39;type&amp;#39; AS type, a.&amp;#34;updated_at&amp;#34;, o.&amp;#34;data&amp;#34;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">FROM &amp;#34;activities&amp;#34; AS a
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">INNER JOIN &amp;#34;objects&amp;#34; AS o
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">ON (o.&amp;#34;data&amp;#34;-&amp;gt;&amp;gt;&amp;#39;id&amp;#39;) = COALESCE(a.&amp;#34;data&amp;#34;-&amp;gt;&amp;#39;object&amp;#39;-&amp;gt;&amp;gt;&amp;#39;id&amp;#39;, a.&amp;#34;data&amp;#34;-&amp;gt;&amp;gt;&amp;#39;object&amp;#39;)
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">WHERE a.&amp;#34;data&amp;#34;-&amp;gt;&amp;gt;&amp;#39;actor&amp;#39; = &amp;#39;https://ponderduck.cc/users/yaya&amp;#39;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">OR a.&amp;#34;data&amp;#34;-&amp;gt;&amp;#39;to&amp;#39; ? &amp;#39;https://ponderduck.cc/users/yaya&amp;#39;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">OR a.&amp;#34;data&amp;#34;-&amp;gt;&amp;#39;cc&amp;#39; ? &amp;#39;https://ponderduck.cc/users/yaya&amp;#39;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">ORDER BY a.&amp;#34;updated_at&amp;#34; LIMIT 5;
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>æœ€åå† copy åˆ°æœ¬åœ°ç›®å½•å°±å¥½äº†ï½&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">copy(SELECT ...) to &amp;#39;/var/lib/postgresql/yaya.csv&amp;#39; (FORMAT &amp;#39;csv&amp;#39;, DELIMITER &amp;#39;,&amp;#39;, HEADER true, NULL &amp;#39;UNKOWN&amp;#39;, ENCODING &amp;#39;UTF8&amp;#39;);
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>æˆ‘å¯¼å‡ºçš„åŒ…æ‹¬æ”¶è—å’Œåˆ«äººçš„äº’åŠ¨ï¼ˆå›å¤/æ”¶è—/è½¬å‘ï¼‰ï¼Œå¦‚æœåªè¦åˆ›å»ºçš„è¯ï¼š&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">pleroma=# select count(data) from activities where data-&amp;gt;&amp;gt;&amp;#39;actor&amp;#39; = &amp;#39;https://ponderduck.cc/users/yaya&amp;#39; and data-&amp;gt;&amp;gt;&amp;#39;type&amp;#39; = &amp;#39;Create&amp;#39;;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> count
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">\-------
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> 1624
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">(1 row)
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>ä¹Ÿå¯ä»¥çœ‹è¿™ç¯‡è¶…æ£’çš„åšå®¢ï¼š&lt;a class="link" href="https://blog.debula.ml/index.php/archives/5/#1.%E7%A4%BE%E4%BA%A4%E7%BD%91%E7%BB%9C%EF%BC%9APleroma" target="_blank" rel="noopener"
>ç¤¾äº¤ç½‘ç»œï¼šPleroma&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
&lt;/p>
&lt;ol start="3">
&lt;li>å®šæœŸæ¸…ç†æ•°æ®åº“çš„ objects&lt;/li>
&lt;/ol>
&lt;h2 id="ç£ç›˜">ç£ç›˜&lt;/h2>
&lt;h3 id="è‡ªåŠ¨æ¸…ç†-tmp-ç›®å½•">è‡ªåŠ¨æ¸…ç† tmp ç›®å½•&lt;/h3>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl"># æ‰“å¼€ç³»ç»Ÿçº§åˆ«çš„ crontab
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">crontab -e
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"># åœ¨æ–‡ä»¶æœ«å°¾ç²˜è´´ä¿å­˜ä»¥ä¸‹å‘½ä»¤ï¼ˆæ¯å¤© 00:00 åˆ é™¤ æœ€è¿‘ä¸‰å¤©æœªä½¿ç”¨å¹¶ä¸å±äº root ç”¨æˆ·çš„æ–‡ä»¶ï¼‰
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">0 0 * * * sudo find /tmp -type f ! -user root -atime +3 -delete
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">[xxx@xxx ~]# psql -U postgres
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">psql (13.11 (Debian 13.11-0+deb11u1))
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Type &amp;#34;help&amp;#34; for help.
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">postgres=# SELECT pg_size_pretty( pg_database_size(&amp;#39;pleroma&amp;#39;) );
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> pg_size_pretty
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">----------------
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> 576 MB
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">(1 row)
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="admin-fe">Admin-FE&lt;/h2>
&lt;p>settings/Loggerï¼šæŠŠæ—¥å¿—çº§åˆ«æ”¹ä¸º &lt;code>:warn&lt;/code>&lt;/p>
&lt;h2 id="å‚è€ƒ--è‡´è°¢">å‚è€ƒ &amp;amp; è‡´è°¢&lt;/h2>
&lt;p>&lt;a class="link" href="https://www.myfreax.com/tmp-directory-in-linux/" target="_blank" rel="noopener"
>Linux ä¸´æ—¶ç›®å½• /tmp ä¸ /var/tmp&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
&lt;/p>
&lt;p>&lt;a class="link" href="https://navicat.com/en/company/aboutus/blog/673-design-select-queries-using-navicat-s-query-builder" target="_blank" rel="noopener"
>https://navicat.com/en/company/aboutus/blog/673-design-select-queries-using-navicat-s-query-builder&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
&lt;/p></description></item><item><title>Pleroma | ç»´æŠ¤æ—¥å¿—(ä¸€)</title><link>https://falasool.github.io/2023/pleroma-operation-and-maintenance2/</link><pubDate>Mon, 15 May 2023 12:52:31 +0800</pubDate><guid>https://falasool.github.io/2023/pleroma-operation-and-maintenance2/</guid><description>&lt;p>æ­å»ºæ­¥éª¤å®Œå…¨å‚è€ƒ &lt;a class="link" href="https://suicablog.cobaltkiss.blue/posts/pleroma-installation-on-linux-using-otp-releases/" target="_blank" rel="noopener"
>åœ¨ Debian 10 / Ubuntu 20.04 ä¸Šå®‰è£… Pleroma&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
ï¼Œæ„Ÿè°¢ Suicaï¼&lt;/p>
&lt;h2 id="å…³é—­å¼€å¯æ³¨å†Œ">å…³é—­/å¼€å¯æ³¨å†Œ&lt;/h2>
&lt;p>Settings &amp;gt; Instance &amp;gt; Registrations open&lt;/p>
&lt;p>ï¼ˆç«™ç‚¹åç§°ã€å­—æ•°ä¸Šé™ã€æŠ•ç¥¨é€‰é¡¹ä¸Šé™ã€å°ç¦å…¶å®ƒå®ä¾‹ç­‰ç­‰éƒ½åœ¨ &lt;code>instance&lt;/code>ï¼‰&lt;/p>
&lt;h2 id="æ›´æ¢å®ä¾‹å›¾æ ‡">æ›´æ¢å®ä¾‹å›¾æ ‡&lt;/h2>
&lt;p>åˆ†ä¸ºä¸‰æ­¥ï¼š&lt;/p>
&lt;ul>
&lt;li>å‡†å¤‡å¥½ LOGO æ–‡ä»¶&lt;/li>
&lt;li>æ‰¾åˆ°æ”¾ favicon çš„ä½ç½®&lt;/li>
&lt;li>ä¸Šä¼ &lt;/li>
&lt;/ul>
&lt;p>å…·ä½“æ¥è¯´ï¼š&lt;/p>
&lt;p>æ‰¾åˆ°æœ¬åœ°è¦ä¸Šä¼ çš„å›¾ç‰‡çš„ç»å¯¹è·¯å¾„ï¼Œä¾‹å¦‚ï¼š&lt;code>/Users/user/Pictures/favicon.png&lt;/code>&lt;/p>
&lt;p>å®šä½æœåŠ¡å™¨ä¸­ favicon ä½ç½®&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">find / -type f -iname favicon.png
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;blockquote>
&lt;p>å‚æ•°è¯´æ˜ï¼š&lt;/p>
&lt;p>&lt;code>find&lt;/code> å‘½ä»¤ï¼šæ ¹æ®ç”¨æˆ·æŒ‡å®šçš„è¡¨è¾¾å¼åœ¨ç›®å½•å±‚æ¬¡ç»“æ„ä¸­æœç´¢æ–‡ä»¶å’Œç›®å½•&lt;/p>
&lt;p>&lt;code>/&lt;/code>ï¼šåœ¨æ ¹ç›®å½•èŒƒå›´å†…æœç´¢&lt;/p>
&lt;p>&lt;code>-type f&lt;/code>ï¼šæŒ‡å®šæ–‡ä»¶ç±»å‹ å¸¸è§„æ–‡ä»¶&lt;/p>
&lt;p>&lt;code>-iname&lt;/code>ï¼šç›®æ ‡æ–‡ä»¶åï¼ˆä¸åŒºåˆ†å¤§å°å†™ï¼‰&lt;/p>
&lt;/blockquote>
&lt;p>å¾—åˆ° favcion çš„è·¯å¾„&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">/opt/pleroma/lib/pleroma-2.4.5-2-gd8e32646/priv/static/favicon.png
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>ä¸Šä¼ å›¾æ ‡ï¼šå¦å¼€ä¸€ä¸ªç»ˆç«¯çª—å£ï¼ˆå› ä¸ºå½“å‰ç»ˆç«¯å·²ç»ç™»å½•äº†æœåŠ¡å™¨ï¼Œåœ¨æœåŠ¡å™¨é‡ŒæŸ¥æ‰¾è¿˜æœªä¸Šä¼ çš„æ–‡ä»¶æ˜¯æ‰¾ä¸åˆ°çš„ï¼‰ï¼Œæ‰§è¡Œ&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">rsync /Users/user/Pictures/favicon.png admin@149.248.0.119:/opt/pleroma/lib/pleroma-2.4.5-2-gd8e32646/priv/static/favicon.png
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;blockquote>
&lt;p>å‚æ•°è¯´æ˜ï¼š&lt;/p>
&lt;p>scp &amp;lt;æœ¬åœ°æ–‡ä»¶è·¯å¾„&amp;gt;&amp;lt; vpsç”¨æˆ·å@æœåŠ¡å™¨IP&amp;gt;:&amp;lt;ç›®æ ‡è·¯å¾„&amp;gt;&lt;/p>
&lt;/blockquote>
&lt;p>ä»¥åŠï¼Œç½‘é¡µ logo åœ¨ Settings &amp;gt; Frontend ï¼Œè®°å¾—å–æ¶ˆ Settings &amp;gt; Frontend &amp;gt; Logo mask&lt;/p>
&lt;p>åˆ·æ–°ç½‘é¡µï¼Œå›¾æ ‡æ›´æ”¹å®Œæ¯• ğŸ‰&lt;/p>
&lt;h2 id="æ€ä¹ˆæ¢ä¸€ä¸ªå‰ç«¯">æ€ä¹ˆæ¢ä¸€ä¸ªå‰ç«¯&lt;/h2>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl"># ä¸‹è½½åˆ° /tmp
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">cd /tmp &amp;amp;&amp;amp; curl -L https://gitlab.com/soapbox-pub/soapbox-fe/-/jobs/artifacts/v3.0.0-beta.1/download?job=build-production -o soapbox-fe.zip
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"># è§£å‹åˆ° /var/lib/pleroma
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">busybox unzip soapbox-fe.zip -o -d /var/lib/pleroma
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>åˆ·æ–°ç½‘é¡µ&lt;/p>
&lt;h2 id="è‡ªå®šä¹‰è¡¨æƒ…">è‡ªå®šä¹‰è¡¨æƒ…&lt;/h2>
&lt;p>è¡¨æƒ…æ¥æºï¼š&lt;/p>
&lt;p>&lt;a class="link" href="https://emojos.in/" target="_blank" rel="noopener"
>https://emojos.in/&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
&lt;/p>
&lt;p>&lt;a class="link" href="https://slackmojis.com/" target="_blank" rel="noopener"
>https://slackmojis.com/&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
&lt;/p>
&lt;p>&lt;a class="link" href="https://fedi.absturztau.be/emoji-packs/" target="_blank" rel="noopener"
>https://fedi.absturztau.be/emoji-packs/&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
&lt;/p>
&lt;p>&lt;a class="link" href="https://stickersurge.com/sticker-packs" target="_blank" rel="noopener"
>https://stickersurge.com/sticker-packs&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
&lt;/p>
&lt;p>æˆ–è€… &lt;a class="link" href="https://pullopen.github.io/%E7%AB%99%E7%82%B9%E7%BB%B4%E6%8A%A4/2020/11/26/mastodon-manage.html" target="_blank" rel="noopener"
>å¦‚ä½•è£…é¥°ä½ çš„ç«™ç‚¹ï¼šè‡ªå®šä¹‰CSSã€ä¸­ç»§ç«™å’Œè‡ªå®šä¹‰è¡¨æƒ…&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
é‡Œæåˆ°çš„ã€Œå·è¡¨æƒ…ç¥å™¨ã€&lt;/p>
&lt;p>æŠŠå·æ¥çš„è¡¨æƒ…ï¼ˆ&amp;hellip;ï¼‰é€šè¿‡ SSH å®¢æˆ·ç«¯çš„ SFTP åŠŸèƒ½ä¸Šä¼ åˆ°æœåŠ¡å™¨çš„ &lt;code>/var/lib/pleroma/static/emoji&lt;/code> ç›®å½•ä¸‹ï¼ˆæˆ–è€…ä½ çš„è‡ªå®šä¹‰è·¯å¾„ï¼‰&lt;/p>
&lt;p>åœ¨ Admin FE çš„ Settings &amp;gt; Emoji &amp;gt; Settings &amp;gt; Shortcode globs é‡Œæ·»åŠ è¡¨æƒ…åŒ…ç›®å½•çš„è·¯å¾„ï¼Œæ¯”å¦‚ï¼š&lt;code>/emoji/**/*.png&lt;/code>ã€&lt;code>/emoji/**/*.gif&lt;/code> ï¼Œæ„å‘³ç€ emoji åŠå…¶å­ç›®å½•ä¸‹æ‰€æœ‰ png/gif æ ¼å¼çš„æ–‡ä»¶éƒ½ä¼šè¢«è§†ä½œè‡ªå®šä¹‰è¡¨æƒ…åŒ…&lt;/p>
&lt;p>ç‚¹å‡» Reload emojiï¼ŒOK&lt;/p>
&lt;p>&lt;a class="link" href="https://stickersurge.com/pack/8bit" target="_blank" rel="noopener"
>https://stickersurge.com/pack/8bit&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
&lt;/p>
&lt;p>æˆ‘è§‰å¾—è¿™ç»„è¡¨æƒ…åŒ…å¥½å¥½ç¬‘ğŸ¤­&lt;/p>
&lt;h2 id="æ”¾å¤§-emoji">æ”¾å¤§ Emoji&lt;/h2>
&lt;p>&lt;a class="link" href="https://kyo.iroiro.party/posts/pleroma-largemoji/" target="_blank" rel="noopener"
>Pleroma-fe çš„ emoji æ”¾å¤§é…ç½®ï¼ˆï¼Ÿï¼‰&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
&lt;/p>
&lt;h2 id="å®ä¾‹å±•ç¤ºé¡µé¢">å®ä¾‹å±•ç¤ºé¡µé¢&lt;/h2>
&lt;p>åœ¨ Settings &amp;gt; Frontend &amp;gt; Redirect root no login é‡Œæ”¹æˆ &lt;code>/about&lt;/code>&lt;/p>
&lt;p>åœ¨ Admin FE &amp;gt; Settings &amp;gt; Others æ”¹ç«™ç‚¹è§„åˆ™&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">Hello!
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Ponderduck is a private instance and is not normally open for registration, so if you would like to join, please contact the admin with your fediverse account.
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Thanks to those who have helped me in the build process! Sending lots of love and respect!
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">See the Pleroma documentation for more information.
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>ç¦æ­¢æœªéªŒè¯ç”¨æˆ·æµè§ˆæ—¶é—´çº¿ï¼šSettings &amp;gt; Instance &amp;gt; Public/Timelines/Profiles/Activites æ ¹æ®éœ€è¦æ›´æ”¹&lt;/p>
&lt;h2 id="è‡ªå®šä¹‰ä¸»é¢˜">è‡ªå®šä¹‰ä¸»é¢˜&lt;/h2>
&lt;p>è·å–ä¸»é¢˜ or è‡ªåˆ¶ï¼š&lt;/p>
&lt;blockquote>
&lt;p>&lt;a class="link" href="https://fediverse.eu.org/discussion/27/%E4%BA%94%E5%88%86%E9%92%9F%E8%AE%BE%E8%AE%A1%E4%B8%80%E4%B8%AA%E6%BC%82%E4%BA%AE%E7%9A%84pleroma%E4%B8%BB%E9%A2%98" target="_blank" rel="noopener"
>äº”åˆ†é’Ÿè®¾è®¡ä¸€ä¸ªæ¼‚äº®çš„pleromaä¸»é¢˜&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
&lt;/p>
&lt;p>&lt;a class="link" href="https://mikan.bangdream.moe/2022/11/21/recommend-settings-for-pleroma/" target="_blank" rel="noopener"
>å…³äº Docker ä¸‹ Pleroma å®ä¾‹éƒ¨ç½²çš„ä¸€äº›æ¨èè®¾ç½®&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
&lt;/p>
&lt;p>æˆ–è€… Google ã€ŒPleroma FE theme jsonã€&lt;/p>
&lt;/blockquote>
&lt;p>ä¸€äº›æ¼‚äº®ä¸»é¢˜å±•ç¤ºï¼š&lt;/p>
&lt;p>&lt;a class="link" href="https://mindpalace.michaelis.website/tech/pleroma-theme.html" target="_blank" rel="noopener"
>https://mindpalace.michaelis.website/tech/pleroma-theme.html&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
&lt;/p>
&lt;p>&lt;a class="link" href="https://plthemes.vulpes.one/" target="_blank" rel="noopener"
>https://plthemes.vulpes.one/&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
&lt;/p>
&lt;p>&lt;a class="link" href="https://suicablog.cobaltkiss.blue/posts/themes-gallery/" target="_blank" rel="noopener"
>https://suicablog.cobaltkiss.blue/posts/themes-gallery/&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
&lt;/p>
&lt;p>æ·»åŠ ä¸»é¢˜çš„æ­¥éª¤ï¼š&lt;/p>
&lt;ul>
&lt;li>
&lt;p>æ‰¾åˆ° themes æ–‡ä»¶å¤¹ &lt;code>find / -type d -iname themes&lt;/code>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>æŠŠä¸‹è½½çš„ &lt;code>.json&lt;/code> æ–‡ä»¶æ·»åŠ åˆ°ç›®æ ‡ç›®å½•ï¼Œæ¯”å¦‚æˆ‘æ·»åŠ åˆ°äº† &lt;code>/var/lib/pleroma/static/static/themes&lt;/code>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>ç„¶ååœ¨ &lt;code>/var/lib/pleroma/static/static/styles.json&lt;/code> æŠŠåˆšåˆšçš„è‡ªå®šä¹‰ä¸»é¢˜æ·»åŠ è¿›å»ï¼ŒæŒ‰å¦‚ä¸‹æ ¼å¼&lt;/p>
&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-json" data-lang="json">&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;takeabreak&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="s2">&amp;#34;/static/themes/takeabreak.json&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;break&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="s2">&amp;#34;/static/themes/break.json&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>åˆ·æ–°ç½‘é¡µï¼Œåœ¨è®¾ç½®é‡Œæ‰¾åˆ°è‡ªå®šä¹‰ä¸»é¢˜ï¼Œå¯ä»¥ç”¨äº†&lt;/p>
&lt;p>æœ¬ç«™é»˜è®¤ä¸»é¢˜åœ¨ Admin FE/Pleroma FE é‡Œæ”¹ï¼Œè·¯å¾„ï¼šSettings &amp;gt; Frontend &amp;gt; Themes&lt;/p>
&lt;h2 id="è¿æ¥ä¸­ç»§">è¿æ¥ä¸­ç»§&lt;/h2>
&lt;blockquote>
&lt;p>ä¸­ç»§çš„ç®€ä»‹ã€é‡è¦æ€§å’Œä¸­æ–‡ä¸­ç»§æ¨èï¼šhttps://mstdn.one/@list/106729842177738917&lt;/p>
&lt;p>åŠ ä¸ä¸ŠæŸäº›ä¸­ç»§ï¼Œä½†æ˜¯åˆæƒ³tlä¸Šå‡ºç°æ›´å¤šå˜Ÿæ–‡æ€ä¹ˆåŠï¼Ÿ&lt;/p>
&lt;ul>
&lt;li>Kanaå‘Šè¯‰æˆ‘ä¸€ä¸ªåŠæ³•ï¼šå¯¹äº Pleroma å®ä¾‹è€Œè¨€ï¼ŒæŠŠ https://Pleromaå®ä¾‹åŸŸå/relay å½“ä½œä¸­ç»§è¿æ¥æ¥è¾“å…¥æ˜¯å¯ä»¥å…³æ³¨è¿™ä¸ªå®ä¾‹çš„ã€‚&lt;/li>
&lt;li>æ‰€ä»¥ï¼Œæˆ‘ä»¬å¯ä»¥è®¿é—® ï¼ˆhttps://the-federation.info/pleroma ï¼‰å’Œï¼ˆhttps://fedidb.org/network ï¼‰è¿™ä¸¤ä¸ªfediverseé»„é¡µï¼Œæ‰‹åŠ¨æ·»åŠ è‡ªå·±å¿ƒä»ªçš„pleromaå®ä¾‹ã€‚å¯ä»¥ä¸€å£æ°”å…³æ³¨æ‰€æœ‰çš„ä¸­æ–‡pleromaï¼ˆå› ä¸ºå¤ªå°‘ï¼‰ï¼Œè¿˜å¯ä»¥å…³æ³¨å‡ ä¸ªå¤´éƒ¨å¤–æ–‡å®ä¾‹ï¼ˆbae.stçš„äººå‘é»„å›¾ä¸é€‰NFSWï¼ï¼‰&lt;/li>
&lt;/ul>
&lt;p>â€”â€”æ¥è‡ª &lt;a class="link" href="https://dasgelobteland.github.io/posts/22pleroma/" target="_blank" rel="noopener"
>æˆ‘çš„pleromaæ­å»ºç¬”è®°&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
&lt;/p>
&lt;/blockquote>
&lt;p>å‡ ä¸ªä¸­æ–‡ä¸­ç»§ï¼šhttps://mstdn.one/@list/106729842177738917&lt;/p>
&lt;h2 id="å¤‡ä»½">å¤‡ä»½&lt;/h2>
&lt;p>Pleroma éœ€è¦å¤‡ä»½çš„åœ°æ–¹æœ‰ä¸‰ä¸ªï¼š&lt;/p>
&lt;ul>
&lt;li>&lt;code>/etc/pleroma&lt;/code>ï¼šå­˜å‚¨å¯åŠ¨æ—¶çš„é…ç½®æ–‡ä»¶ã€‚å¦‚æœä½ å¼€å¯äº†æ•°æ®åº“å­˜å‚¨é…ç½®ï¼Œä¹Ÿå¯ä»¥ä¸ç”¨å¤‡ä»½ï¼›&lt;/li>
&lt;li>&lt;code>/var/lib/pleroma&lt;/code>ï¼šå­˜å‚¨ç”¨æˆ·åˆ›å»ºçš„é™æ€æ–‡ä»¶ï¼ˆè‡ªå®šä¹‰è¡¨æƒ…ã€å¤´åƒã€ä¸Šä¼ çš„æ–‡ä»¶ã€å‰ç«¯ã€â€¦â€¦ï¼‰ï¼Œå¦‚æœä¸æ˜¯ç»å¸¸ä¸Šä¼ æ–‡ä»¶ï¼Œå¯ä»¥æŒ‰æœˆå¤‡ä»½ï¼›&lt;/li>
&lt;li>PostgreSQL ä¸­çš„ pleroma æ•°æ®åº“ï¼Œå¯ä»¥é€šè¿‡ &lt;code>pg_dump&lt;/code> å¤‡ä»½ï¼š&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">sudo -Hu postgres pg_dump -d pleroma --format=custom -f /var/lib/postgresql/pleroma.pgdump
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="ç»­æœŸsslè¯ä¹¦">ç»­æœŸSSLè¯ä¹¦&lt;/h2>
&lt;p>æ ¹æ® &lt;a class="link" href="[https://eff-certbot.readthedocs.io/en/stable/using.html#renewing-certificates]%28https://blog.csdn.net/wanghao_sh/article/details/124977429%29" >å®˜æ–¹æ–‡æ¡£&lt;/a>
&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">apt-get update
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">apt install snapd
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">snap install core
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">snap install hello-world
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">hello-world
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">snap install --classic certbot
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">snap set certbot trust-plugin-with-root=ok
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">snap install certbot-dns-cloudflare
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>ï¼ˆï¼Ÿæœ‰ç‚¹å›°æƒ‘ï¼Œä¸Šé¢æŠ˜è…¾äº†ä¸€å¤§å †ï¼Œæœ€åç®€ç®€å•å•æ•²ä¸ª &lt;code>certbot&lt;/code> ç„¶åè·Ÿç€é€‰å°±å¥½äº†ï¼‰&lt;/p>
&lt;h2 id="å¸¸ç”¨å‘½ä»¤">å¸¸ç”¨å‘½ä»¤&lt;/h2>
&lt;p>æŸ¥çœ‹æœåŠ¡çŠ¶æ€&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">systemctl status &lt;span class="o">[&lt;/span>options&lt;span class="o">]&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>æŸ¥çœ‹å†…å­˜&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">top
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>æŸ¥çœ‹è´Ÿè½½&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">htop
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>&lt;a class="link" href="https://www.onitroad.com/jc/linux/how-to-install-htop-on-debian-linux-using-apt-get.html" target="_blank" rel="noopener"
>å¦‚ä½•åœ¨Debian Linuxä¸Šå®‰è£…htop&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
&lt;/p>
&lt;h2 id="502-bad-gateway">502 Bad Gateway&lt;/h2>
&lt;p>æŸ¥çœ‹ Nginx é”™è¯¯æ—¥å¿—&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">vim /var/log/nginx/error.log
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">[error] 825#825 :*8459 connect() failed (111: Connection refused)
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">while connecting to upstream, client: x.x.x.x, server: ponderduck.cc,
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">request: &amp;#34;POST /inbox HTTP/2.0&amp;#34;,
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">upstream: &amp;#34;http:127.0.0.1:4000/inbox&amp;#34;,
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">host: &amp;#34;ponderduck.cc&amp;#34;
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;blockquote>
&lt;p>åˆ†æï¼šclientè¯·æ±‚èµ„æºæ—¶ï¼Œè½¬å‘åˆ°127.0.0.1:4000å»äº†&lt;/p>
&lt;/blockquote>
&lt;p>æ£€æŸ¥4000ç«¯å£ï¼Œè¿”å›ä¸ºç©º&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">telnet &amp;lt;ip&amp;gt; &lt;span class="m">4000&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>netstatæ²¡æœ‰å‘ç°å ç”¨ç«¯å£4000çš„ç¨‹åº&lt;/p>
&lt;p>é™„ä¸Š Debula åŸè¯ï¼š&lt;/p>
&lt;blockquote>
&lt;p>OTPå®‰è£…çš„Pleromaé»˜è®¤ç›‘å¬çš„æ˜¯æœ¬æœºçš„127.0.0.1:4000
ä¹Ÿå°±æ˜¯è¯´ï¼Œåœ¨VPSä¸Šä½ å¯ä»¥ç›´æ¥é€šè¿‡ &lt;a class="link" href="http://127.0.0.1:4000/" target="_blank" rel="noopener"
>http://127.0.0.1:4000&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
è®¿é—® Pleromaï¼Œæ¯”å¦‚
curl -v http://127.0.0.1:4000/api/v1/instance&lt;/p>
&lt;p>NginXè´Ÿè´£æŠŠå¤–éƒ¨çš„è¿æ¥è¯·æ±‚è½¬å‘åˆ° 127.0.0.1:4000ï¼Œå¾—åˆ°å“åº”åè½¬å‘å›å» &lt;!-- raw HTML omitted -->&lt;/p>
&lt;p>å¦‚æœä½ ç”¨ netstat æ²¡å‘ç° 4000 ç«¯å£çš„ç¨‹åºï¼Œè¯´æ˜ Pleroma æŒ‚äº†ï¼Œè¯¥å»æ£€æŸ¥ Pleroma çš„é”™è¯¯æ—¥å¿— &lt;img src="https://bucket.alive.bar/cache/custom_emojis/images/000/047/971/original/c7b0bea715cd48c1.png"
loading="lazy"
alt=":ablobsweats:"
>&lt;/p>
&lt;p>ï¼ˆä¸è¿‡ç¡®å®å¾ˆå¥‡æ€ªï¼ŒOTPç‰ˆæœ¬åº”è¯¥ä¼šè‡ªåŠ¨é‡å¯çš„â€¦â€¦ï¼‰&lt;/p>
&lt;/blockquote>
&lt;p>pleromaä½ç½® /opt/pleroma&lt;/p>
&lt;p>æŸ¥çœ‹pleromaæ—¥å¿—&lt;code>journalctl -u pleroma&lt;/code>,ä¸ºç©º&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">-- Logs begin at Wed 2023-03-08 16:18:56 HKT, end at Wed 2023-03-08 19:38:34 HKT. --
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">-- No entries --
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>äºæ˜¯å» &lt;code>/var/log/syslog&lt;/code> çœ‹æ—¥å¿—ï¼Œéƒ½æ˜¯infoï¼Œå¥½åƒä¹Ÿæ²¡ä»€ä¹ˆé—®é¢˜&lt;/p>
&lt;p>é‡å¯ä¹‹åè«åå…¶å¦™å¥½äº†&lt;/p>
&lt;p>è¿‡äº†4å¤©ï¼Œåˆ502äº†â€¦â€¦&lt;/p>
&lt;p>Update: 20230528å†æ¬¡ 502&lt;/p>
&lt;p>æ£€æŸ¥è¿›ç¨‹æ˜¯å¦å­˜åœ¨ï¼Œå­˜åœ¨&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">ps aux &lt;span class="p">|&lt;/span> grep pleroma
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>æŸ¥çœ‹ pleroma æ—¥å¿—&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">journalctl -u pleroma
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">pleroma: cat: write error: No space left on device
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">pleroma: ERROR: Cannot start release because it could not write /opt/pleroma/tmp/pleroma-2.4.5-2-gd8e32646-2
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>æ²¡æœ‰è¶³å¤Ÿç©ºé—´å†™å…¥è¿è¡Œæ—¶é…ç½®æ–‡ä»¶&lt;/p>
&lt;p>æŸ¥çœ‹å†…å­˜ä½¿ç”¨æƒ…å†µ&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">free -m
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> total used free shared buff/cache available
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Mem: 987 144 117 30 724 634
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Swap: 2399 3 2396
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>æŸ¥çœ‹ç£ç›˜ä½¿ç”¨æƒ…å†µï¼ˆæ»¡äº†è€¶&amp;hellip;&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">df -h
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Filesystem Size Used Avail Use% Mounted on
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">/dev/vda1 24G 24G 0 100% /
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>æŸ¥çœ‹å„ä¸ªæ–‡ä»¶å ç”¨å¤§å°&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="nb">cd&lt;/span> /
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">du -sh *
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">2.4G swapfile
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">2.7G usr
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">19G var
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># æ¸…ç©ºæ—¥å¿—ï¼Œç¨å¾®è…¾å‡ºä¸€ç‚¹ç©ºé—´äº†&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">cat /dev/null &amp;gt; filename
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>/usr/lib/postgresql/11/bin/pg_ctl&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">/etc/postgresql/11/main#
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">.
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”œâ”€â”€ conf.d
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”œâ”€â”€ environment
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”œâ”€â”€ pg_ctl.conf
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”œâ”€â”€ pg_hba.conf
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”œâ”€â”€ pg_ident.conf
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”œâ”€â”€ postgresql.conf
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â””â”€â”€ start.conf
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>æ•°æ®åº“å¸¸ç”¨å‘½ä»¤&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># ç™»å½• PG æ•°æ®åº“&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">psql -U postgres
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># æŸ¥çœ‹æ‰€æœ‰æ•°æ®åº“&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">\l&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># è¿›å…¥æŸæ•°æ®åº“&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">\c&lt;/span> pg-name
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># æŸ¥çœ‹æŸæ•°æ®åº“ä¸­çš„æ‰€æœ‰è¡¨å&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">select&lt;/span> tablename from pg_tables&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># é€€å‡ºæ•°æ®åº“&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">ctrl + z
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>æŸ¥çœ‹æ•°æ®åº“å¤§å°ï¼Œæ˜¯å°æœåŠ¡å™¨ä¸èƒ½æ‰¿å—ä¹‹é‡&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">postgres=# SELECT pg_size_pretty( pg_database_size(&amp;#39;pleroma&amp;#39;) );
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> pg_size_pretty
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">----------------
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> 14 GB
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">(1 row)
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>å‡çº§æœåŠ¡å™¨ï¼Œç„¶åæŸ¥çœ‹ç£ç›˜å ç”¨æƒ…å†µ&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">df -h
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Filesystem Size Used Avail Use% Mounted on
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">/dev/vda1 52G 23G 27G 46% /
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>æŸ¥çœ‹ postgresql æ—¥å¿—&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">vim /var/log/postgresql/postgresql.log
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>åˆ›å»ºæ•°æ®åº“æ–‡ä»¶çš„å¤‡ä»½ç›®å½•å¹¶èµ‹æƒ&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">mkdir -p /pleromabackup
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">chmod 777 /pleromabackup
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>å…è®¸ pleroma ç”¨æˆ·å…å¯†ç™»å½•æ•°æ®åº“&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">vim /etc/postgresql/11/main/pg_hba.conf
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">host replication repl 127.0.0.1/32 md5
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>å¤‡ä»½æ•°æ®åº“&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># åˆ‡æ¢ç”¨æˆ·ä¸º postgres&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">su - postgres
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># ç™»å½•æ•°æ®åº“&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">psql -U postgres
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># å¤‡ä»½&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nv">postgres&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="c1"># \! pg_dump pleroma -f /pleromabackup/pleroma.pgdump&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>åˆ é™¤ 15 å¤©å‰çš„å¤–ç«™ç¼“å­˜ï¼ˆè¿™ä¸ª n å¤©æ˜¯åœ¨ Admin FE - settings - instance - Remote post retention days é‡Œä¿®æ”¹çš„ï¼‰&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">su pleroma -s &lt;span class="nv">$SHELL&lt;/span> -lc &lt;span class="s2">&amp;#34;./bin/pleroma_ctl database prune_objects&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">11:32:27.912 &lt;span class="o">[&lt;/span>info&lt;span class="o">]&lt;/span> Pruning objects older than &lt;span class="m">15&lt;/span> days
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>å¦‚æœæŠ¥é”™ï¼š&lt;code>â€“rpc-eval : RPC failed with reason :nodedown&lt;/code>ï¼Œå¯èƒ½æ˜¯å› ä¸ºæ²¡å¯åŠ¨ Pleromaã€‚æ„Ÿè°¢ &lt;a class="link" href="https://seviche.cc/" target="_blank" rel="noopener"
>Seviche&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
!!&lt;/p>
&lt;p>æ•´ç†æ•°æ®åº“&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">su pleroma -s &lt;span class="nv">$SHELL&lt;/span> -lc &lt;span class="s2">&amp;#34;./bin/pleroma_ctl database vacuum full&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>0530æ‰§è¡Œè®°å½•&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl"># é‡æ–°ç”Ÿæˆæ•°æ®åº“é…ç½®æ–‡ä»¶
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">su pleroma -s $SHELL -lc &amp;#34;./bin/pleroma_ctl instance gen --output /tmp/config.exs --output-psql /tmp/setup_db.psql&amp;#34;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"># æ¸…ç©ºæ•°æ®åº“
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sudo -Hu postgres psql -c &amp;#39;DROP DATABASE pleroma;&amp;#39;;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">DROP DATABASE
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sudo -Hu postgres psql -c &amp;#39;DROP USER pleroma;&amp;#39;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">DROP ROLE
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"># æ¥ä¸‹æ¥è¯¥é‡å»ºæ•°æ®åº“äº†
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sudo -Hu postgres psql -f /tmp/setup_db.psql
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"># é‡å»ºåçš„æ•°æ®åº“size
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">postgres=# SELECT pg_size_pretty( pg_database_size(&amp;#39;pleroma&amp;#39;) );
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> pg_size_pretty
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">----------------
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> 8045 kB
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">(1 row)
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"># æ¢å¤æ•°æ®16:17-
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sudo -u postgres psql pleroma &amp;lt; /pleromabackup/pleroma.pgdump
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="å‚è€ƒ--è‡´è°¢">å‚è€ƒ &amp;amp; è‡´è°¢&lt;/h2>
&lt;p>&lt;a class="link" href="https://im.happytoo.cyou/posts/2302%E7%BB%99%E6%88%91%E7%9A%84pleroma%E6%B7%BB%E5%8A%A0%E8%A1%A8%E6%83%85%E5%8C%85/" target="_blank" rel="noopener"
>pleromaä¸­æ·»åŠ è‡ªå®šä¹‰è¡¨æƒ…åŒ…&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
&lt;/p>
&lt;p>&lt;a class="link" href="https://dasgelobteland.github.io/posts/23pleroma/" target="_blank" rel="noopener"
>æˆ‘çš„pleromaæ£€ä¿®ç¬”è®°1&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
&lt;/p>
&lt;p>&lt;a class="link" href="https://blog.debula.ml/index.php/archives/5/#1.%E7%A4%BE%E4%BA%A4%E7%BD%91%E7%BB%9C%EF%BC%9APleroma" target="_blank" rel="noopener"
>ç¤¾äº¤ç½‘ç»œï¼šPleroma&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
&lt;/p>
&lt;p>&lt;a class="link" href="https://bigshans.github.io/post/troubleshoot-pleroma/" target="_blank" rel="noopener"
>https://bigshans.github.io/post/troubleshoot-pleroma/&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
&lt;/p>
&lt;p>&lt;a class="link" href="https://wiki.iroiro.party/doku.php?id=start&amp;amp;do=index" target="_blank" rel="noopener"
>https://wiki.iroiro.party/doku.php?id=start&amp;do=index&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
&lt;/p>
&lt;p>Psql å æ»¡ç£ç›˜æ€ä¹ˆåŠï¼š&lt;/p>
&lt;p>&lt;a class="link" href="https://dba.stackexchange.com/questions/17057/i-need-to-run-vacuum-full-with-no-available-disk-space" target="_blank" rel="noopener"
>https://dba.stackexchange.com/questions/17057/i-need-to-run-vacuum-full-with-no-available-disk-space&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
&lt;/p></description></item><item><title>Hugoï½œè‡ªå®šä¹‰ hugo-theme-Stack</title><link>https://falasool.github.io/2023/custom-hugo-theme-stack/</link><pubDate>Thu, 11 May 2023 21:28:27 +0800</pubDate><guid>https://falasool.github.io/2023/custom-hugo-theme-stack/</guid><description>&lt;p>æ”¯æŒ mermaidï¼Œæ–°å¢å¯¼èˆªæ ï¼Œæ·»åŠ ä¸€äº›å°åŠŸèƒ½ï¼Œå¾®è°ƒæ ·å¼&lt;/p>
&lt;h2 id="ä¿®æ”¹æ ‡é¢˜æ ·å¼">ä¿®æ”¹æ ‡é¢˜æ ·å¼&lt;/h2>
&lt;p>H2 å’Œ H3 åŒºåˆ†åº¦ä¸å¤§&lt;/p>
&lt;p>&lt;img src="https://cdn.jsdelivr.net/gh/Falasool/blog-pic-bed@main//blog202306221803644.webp"
loading="lazy"
alt="image"
>&lt;/p>
&lt;p>é‚æ”¹&lt;/p>
&lt;p>&lt;img src="https://cdn.jsdelivr.net/gh/Falasool/blog-pic-bed@main//blog202306221824638.webp"
loading="lazy"
alt="image (1)"
>&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-scss" data-lang="scss">&lt;span class="line">&lt;span class="cl">&lt;span class="nn">#&lt;/span> &lt;span class="o">/&lt;/span>&lt;span class="nt">assets&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="nt">scss&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="nt">partials&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="nt">layout&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="nt">article&lt;/span>&lt;span class="nc">.scss&lt;/span> &lt;span class="nc">.article-content&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">h1&lt;/span>&lt;span class="o">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">h2&lt;/span>&lt;span class="o">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">h3&lt;/span>&lt;span class="o">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">h4&lt;/span>&lt;span class="o">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">h5&lt;/span>&lt;span class="o">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">h6&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">margin-inline-start&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nf">calc&lt;/span>&lt;span class="p">((&lt;/span>&lt;span class="nf">var&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="o">--&lt;/span>&lt;span class="n">card-padding&lt;/span>&lt;span class="p">))&lt;/span> &lt;span class="o">*&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">padding-inline-start&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nf">calc&lt;/span>&lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nf">var&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="o">--&lt;/span>&lt;span class="n">card-padding&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">-&lt;/span> &lt;span class="nf">var&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="o">--&lt;/span>&lt;span class="n">heading-border-size&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">h1&lt;/span>&lt;span class="o">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">h2&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">border-inline-start&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nf">var&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="o">--&lt;/span>&lt;span class="n">heading-border-size&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="ni">solid&lt;/span> &lt;span class="nf">var&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="o">--&lt;/span>&lt;span class="n">accent-color&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">h3&lt;/span>&lt;span class="o">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">h4&lt;/span>&lt;span class="o">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">h5&lt;/span>&lt;span class="o">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">h6&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">border-inline-start&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nf">var&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="o">--&lt;/span>&lt;span class="n">heading-border-size&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="ni">solid&lt;/span> &lt;span class="mh">#f5f5fa&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="è°ƒæ•´å‹æƒ…é“¾æ¥é¡µé¢å¸ƒå±€">è°ƒæ•´å‹æƒ…é“¾æ¥é¡µé¢å¸ƒå±€&lt;/h2>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-diff" data-lang="diff">&lt;span class="line">&lt;span class="cl">///assets/scss/custom.scss
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">//å‹æƒ…é“¾æ¥åŒæ 
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="gi">+ @media (min-width: 1024px) {
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="gi">+ .article-list--compact.links {
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="gi">+ display: grid;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="gi">+ grid-template-columns: 1fr 1fr;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="gi">+ background: none;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="gi">+ box-shadow: none;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="gi">+
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="gi">+ article {
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="gi">+ background: var(--card-background);
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="gi">+ border: none;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="gi">+ box-shadow: var(--shadow-l2);
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="gi">+ margin-bottom: 8px;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="gi">+ border-radius: 10px;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="gi">+ &amp;amp;:nth-child(odd) {
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="gi">+ margin-right: 8px;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="gi">+ }
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="gi">+ }
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="gi">+ }
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="gi">+}
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>ä»£ç æ¥è‡ª &lt;a class="link" href="https://mantyke.icu/posts/2022/stack-theme-furnish03/" target="_blank" rel="noopener"
>Hugo | ç¬¬ä¸‰ç¯‡ Stack ä¸»é¢˜è£…ä¿®è®°å½•ï¼Œå ‚å ‚å†ä¸´ï¼&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
&lt;/p>
&lt;h2 id="å¤–éƒ¨é“¾æ¥çš„æ ·å¼">å¤–éƒ¨é“¾æ¥çš„æ ·å¼&lt;/h2>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-html" data-lang="html">&lt;span class="line">&lt;span class="cl"># layouts/_default/_markup/render-link.html
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">{{ if strings.HasPrefix .Destination &amp;#34;http&amp;#34; }}
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">span&lt;/span> &lt;span class="na">style&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;white-space: nowrap;&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;&lt;/span>&lt;span class="nt">svg&lt;/span> &lt;span class="na">width&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;.7em&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">height&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;.7em&amp;#34;&lt;/span> &lt;span class="na">viewBox&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;0 0 21 21&amp;#34;&lt;/span> &lt;span class="na">xmlns&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;http://www.w3.org/2000/svg&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">path&lt;/span> &lt;span class="na">d&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z&amp;#34;&lt;/span> &lt;span class="na">fill&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;currentColor&amp;#34;&lt;/span> &lt;span class="p">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">path&lt;/span> &lt;span class="na">d&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">fill&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;currentColor&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">svg&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;/&lt;/span>&lt;span class="nt">span&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">{{ end }}
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="åœ¨ç§»åŠ¨ç«¯æ˜¾ç¤º-toc">åœ¨ç§»åŠ¨ç«¯æ˜¾ç¤º TOC&lt;/h2>
&lt;p>æŠ„äº†ä»£ç  &lt;a class="link" href="https://github.com/CaiJimmy/hugo-theme-stack/pull/615/files" target="_blank" rel="noopener"
>Feature/add inline toc #615&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
&lt;/p>
&lt;h2 id="å¯¼èˆªæ ">å¯¼èˆªæ &lt;/h2>
&lt;h3 id="éšè—æŸä¸ªé€‰é¡¹">éšè—æŸä¸ªé€‰é¡¹&lt;/h3>
&lt;p>éšè—äº† Homeï¼Œå’Œç‚¹å‡» avatar çš„æ•ˆæœé‡å¤äº†&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-scss" data-lang="scss">&lt;span class="line">&lt;span class="cl">&lt;span class="nc">.menu&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">li&lt;/span>&lt;span class="nd">:first-child&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">display&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="ni">none&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="æ–°å¢-menu-é€‰é¡¹">æ–°å¢ menu é€‰é¡¹&lt;/h3>
&lt;p>åœ¨ &lt;code>/content/page&lt;/code> ç›®å½•ä¸‹æ–°å»º dairy æ–‡ä»¶å¤¹ï¼ŒæŠŠ .md æ”¾è¿›æ¥ï¼ˆè¿™äº›æ–‡ç« ä¸ä¼šåœ¨ homepage æ˜¾ç¤ºï¼‰åˆ›å»º &lt;code>index.md&lt;/code>ï¼Œåœ¨ &lt;a class="link" href="https://tablericons.com/" target="_blank" rel="noopener"
>Tabler Icons&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
ä¸‹è½½ icon å¹¶æ›¿æ¢ï¼Œä¿®æ”¹å¯¹åº”çš„ layout&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-diff" data-lang="diff">&lt;span class="line">&lt;span class="cl"># layouts/_defualt/list.html
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="gd">- &amp;lt;div class=&amp;#34;section-card&amp;#34;&amp;gt;...&amp;lt;/div&amp;gt;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="gd">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="gi">+ &amp;lt;section class=&amp;#34;article-list&amp;#34;&amp;gt;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="gi">&lt;/span> {{ range $paginator.Pages }}
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="gi">+ {{ partial &amp;#34;article-list/default&amp;#34; . }}
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="gi">&lt;/span> {{ end }}
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;lt;/section&amp;gt;
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>æ•ˆæœï¼š&lt;/p>
&lt;p>&lt;img src="https://cdn.jsdelivr.net/gh/Falasool/blog-pic-bed@main//blog202306142247243.png"
loading="lazy"
alt="image-20230614224734155"
>&lt;/p>
&lt;h2 id="ä¿®æ”¹èƒŒæ™¯è‰²">ä¿®æ”¹èƒŒæ™¯è‰²&lt;/h2>
&lt;p>åœ¨ &lt;a class="link" href="https://byeun.github.io/open-color/" target="_blank" rel="noopener"
>Open Color&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
é€‰ä¸ªå–œæ¬¢çš„é¢œè‰²&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-scss" data-lang="scss">&lt;span class="line">&lt;span class="cl">&lt;span class="nn">#&lt;/span> &lt;span class="nt">assets&lt;/span>&lt;span class="err">\&lt;/span>&lt;span class="nt">scss&lt;/span>&lt;span class="err">\&lt;/span>&lt;span class="nt">variables&lt;/span>&lt;span class="nc">.scss&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">--&lt;/span>&lt;span class="nt">body-background&lt;/span>&lt;span class="nd">:&lt;/span> &lt;span class="nn">#f5f5f5&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="ç¦æ­¢éƒ¨åˆ†é¡µé¢æ˜¾ç¤º-readingtime">ç¦æ­¢éƒ¨åˆ†é¡µé¢æ˜¾ç¤º ReadingTime&lt;/h2>
&lt;p>æ¯”å¦‚ &lt;code>/friends&lt;/code> ï¼Œä¸æ˜¯æ–‡ç« ï¼Œä¸éœ€è¦æ˜¾ç¤ºé˜…è¯»æ—¶é—´&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-diff" data-lang="diff">&lt;span class="line">&lt;span class="cl"># /blog/layouts/partials/article/components/details.html
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="gi">+ {{ if and (not .Date.IsZero) (.Site.Params.article.readingTime) }}
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="æš‚æ—¶ç¦ç”¨ç¿»è¯‘æŒ‰é’®">æš‚æ—¶ç¦ç”¨ç¿»è¯‘æŒ‰é’®&lt;/h2>
&lt;p>å¦‚æœæœ‰å¯¹åº”çš„é¡µé¢ï¼Œæ¯”å¦‚ &lt;code>/page/about&lt;/code> ä¸‹æœ‰ï¼š&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">.
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”œâ”€â”€ index.md
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â””â”€â”€ index.zh-cn.md
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>å°±ä¼šæ˜¾ç¤ºç¿»è¯‘æŒ‰é’®ï¼Œæš‚æ—¶ç”¨ä¸åˆ°çš„è¯åœ¨ md æ–‡ä»¶é‡Œå†™&lt;code> draft: true&lt;/code>å³å¯&lt;/p>
&lt;h2 id="æ·»åŠ -mermaid-æ”¯æŒ">æ·»åŠ  mermaid æ”¯æŒ&lt;/h2>
&lt;p>æŒ‰ç…§ &lt;a class="link" href="https://gohugo.io/content-management/diagrams/" target="_blank" rel="noopener"
>å®˜æ–¹æ–‡æ¡£&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
æ–°å»ºæ–‡ä»¶ &lt;code>layouts/_default/_markup/render-codeblock-mermaid.html&lt;/code>&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-html" data-lang="html">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;mermaid&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>{{- .Inner | safeHTML }}&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">{{ .Page.Store.Set &amp;#34;hasMermaid&amp;#34; true }}
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>åœ¨ &lt;code>layouts/partials/article/components/content.html&lt;/code> æ·»åŠ ï¼š&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-diff" data-lang="diff">&lt;span class="line">&lt;span class="cl">{{ .Content | replaceRE &amp;#34;(&amp;lt;table&amp;gt;(?:.|\n)+?&amp;lt;/table&amp;gt;)&amp;#34; $wrappedTable | safeHTML }}
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">{{ if .Page.Store.Get &amp;#34;hasMermaid&amp;#34; }}
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;lt;script type=&amp;#34;module&amp;#34;&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> import mermaid from &amp;#39;https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.esm.min.mjs&amp;#39;;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> mermaid.initialize({ startOnLoad: true });
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;lt;/script&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">{{ end }}
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>æ¼”ç¤ºæ•ˆæœï¼šæ—¶åºå›¾/é¥¼å›¾/ç”˜ç‰¹å›¾/Git å›¾ï¼Œæ›´å¤šè¯·çœ‹ &lt;a class="link" href="https://mermaid.js.org/syntax/gantt.html" target="_blank" rel="noopener"
>å®˜æ–¹æ–‡æ¡£&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
&lt;/p>
&lt;div class="mermaid">sequenceDiagram
participant Alice
participant Bob
Alice->>John: Hello John, how are you?
loop Healthcheck
John->>John: Fight against hypochondria
end
Note right of John: Rational thoughts &lt;br/>prevail!
John-->>Alice: Great!
John->>Bob: How about you?
Bob-->>John: Jolly good!
&lt;/div>
&lt;div class="mermaid">pie
title Pets adopted by volunteers
"Dogs" : 386
"Cats" : 85
"Rats" : 15
&lt;/div>
&lt;div class="mermaid">gantt
title A Gantt Diagram
dateFormat YYYY-MM-DD
section Section
A task :a1, 2014-01-01, 30d
Another task :after a1 , 20d
section Another
Task in sec :2014-01-12 , 12d
another task : 24d
&lt;/div>
&lt;div class="mermaid">gitGraph
commit
commit
branch develop
checkout develop
commit
commit
checkout main
merge develop
commit
commit
&lt;/div>
&lt;h2 id="markdown-å—">MarkDown å—&lt;/h2>
&lt;h3 id="å›ºå®šå—çš„é«˜åº¦">å›ºå®šå—çš„é«˜åº¦&lt;/h3>
&lt;p>è¿‡é•¿çš„å†…å®¹å½±å“è§‚æ„Ÿï¼Œæ‰€ä»¥æŠŠ block çš„é«˜åº¦é™åˆ¶åœ¨ 20emï¼Œå¹¶éšè—æ»šåŠ¨æ¡&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-diff" data-lang="diff">&lt;span class="line">&lt;span class="cl"># partials/layout/article.scss
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">.article-content {
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> .highlight {
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="gd">- padding: var(--card-padding);
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="gd">&lt;/span> pre {
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> margin: initial;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="gi">+ padding: var(--card-padding);
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="gi">&lt;/span> margin: 0;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> width: auto;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="gi">+ max-height: 20em;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="gi">+ scrollbar-width: none; /* Firefox */
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="gi">+ &amp;amp;::-webkit-scrollbar {
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="gi">+ display: none; /* Chrome Safari */
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="gi">+ }
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="gi">&lt;/span> }
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> }
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">}
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="ä»£ç å—-macos-æ ·å¼">ä»£ç å— macOS æ ·å¼&lt;/h3>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-css" data-lang="css">&lt;span class="line">&lt;span class="cl">&lt;span class="err">#&lt;/span> &lt;span class="nt">custom&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nc">scss&lt;/span> &lt;span class="p">.&lt;/span>&lt;span class="nc">highlight&lt;/span>&lt;span class="p">::&lt;/span>&lt;span class="nd">before&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">content&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s1">&amp;#39;&amp;#39;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">display&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">block&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">background&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="nb">url&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="sx">/code-header.svg&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">height&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">30&lt;/span>&lt;span class="kt">px&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">width&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">100&lt;/span>&lt;span class="kt">%&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">background-size&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">45&lt;/span>&lt;span class="kt">px&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">background-repeat&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">no-repeat&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">margin-bottom&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">-7&lt;/span>&lt;span class="kt">px&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">border-radius&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">5&lt;/span>&lt;span class="kt">px&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">background-position&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">10&lt;/span>&lt;span class="kt">px&lt;/span> &lt;span class="mi">10&lt;/span>&lt;span class="kt">px&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">position&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">absolute&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">top&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">left&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="ä¿®æ”¹å­—ä½“">ä¿®æ”¹å­—ä½“&lt;/h2>
&lt;p>å¯¹æ ·å¼ä¸æ»¡æ„ã€å°±ä»æ§åˆ¶å°æ‰¾åˆ°å¯¹åº”çš„ç±»åï¼Œåœ¨ custom.scss é‡Œä¿®æ”¹å°±å¥½äº†&lt;/p>
&lt;h3 id="ä¿®æ”¹æ­£æ–‡å­—ä½“">ä¿®æ”¹æ­£æ–‡å­—ä½“&lt;/h3>
&lt;p>å‚ç…§ï¼š&lt;a class="link" href="https://stack.jimmycai.com/config/header-footer#example-custom-font-family-for-article-content" target="_blank" rel="noopener"
>Example: Custom font family for article content&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-html" data-lang="html">&lt;span class="line">&lt;span class="cl"># layouts/partials/head/custom.html
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">style&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c">/* Overwrite CSS variable */&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">:&lt;/span>&lt;span class="nd">root&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nv">--article-font-family&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s1">&amp;#39;Noto Serif HK&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nf">var&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="o">--&lt;/span>&lt;span class="n">base&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">font&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">family&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">style&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">;(&lt;/span>&lt;span class="kd">function&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">customFont&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nb">document&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">createElement&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;link&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">customFont&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">href&lt;/span> &lt;span class="o">=&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s1">&amp;#39;https://fonts.googleapis.com/css2?family=Noto+Serif+HK:wght@300;400;500;600;700&amp;amp;display=swap&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">customFont&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">type&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s1">&amp;#39;text/css&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">customFont&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">rel&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s1">&amp;#39;stylesheet&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">document&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">head&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">appendChild&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">customFont&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="ä¿®æ”¹å…¨ç«™å­—ä½“">ä¿®æ”¹å…¨ç«™å­—ä½“&lt;/h3>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-scss" data-lang="scss">&lt;span class="line">&lt;span class="cl">&lt;span class="nd">:root&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">--sys-font-family&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;Noto Serif HK&amp;#39;&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="n">apple-system&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="n">BlinkMacSystemFont&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="s1">&amp;#39;Segoe UI&amp;#39;&lt;/span>&lt;span class="o">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s1">&amp;#39;Droid Sans&amp;#39;&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="s1">&amp;#39;Helvetica Neue&amp;#39;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">--zh-font-family&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;Noto Serif HK&amp;#39;&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="s1">&amp;#39;Hiragino Sans GB&amp;#39;&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="s1">&amp;#39;Droid Sans Fallback&amp;#39;&lt;/span>&lt;span class="o">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s1">&amp;#39;Microsoft YaHei&amp;#39;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">--base-font-family&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;Noto Serif HK&amp;#39;&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="nf">var&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="o">--&lt;/span>&lt;span class="n">sys-font-family&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="è¿”å›é¡¶éƒ¨æŒ‰é’®">è¿”å›é¡¶éƒ¨æŒ‰é’®&lt;/h2>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-html" data-lang="html">&lt;span class="line">&lt;span class="cl"># /layouts/partials/footer/custom.html
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c">&amp;lt;!--è¿”å›é¡¶éƒ¨æŒ‰é’® --&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">a&lt;/span> &lt;span class="na">href&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;#&amp;#34;&lt;/span> &lt;span class="na">id&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;back-to-top&amp;#34;&lt;/span> &lt;span class="na">title&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;è¿”å›é¡¶éƒ¨&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;/&lt;/span>&lt;span class="nt">a&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c">&amp;lt;!--è¿”å›é¡¶éƒ¨CSS --&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">style&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">#&lt;/span>&lt;span class="nn">back-to-top&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">display&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">none&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">position&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">fixed&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">bottom&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">20&lt;/span>&lt;span class="kt">px&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">right&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">55&lt;/span>&lt;span class="kt">px&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">width&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">55&lt;/span>&lt;span class="kt">px&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">height&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">55&lt;/span>&lt;span class="kt">px&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">border-radius&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">7&lt;/span>&lt;span class="kt">px&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">background-color&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="nb">rgba&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">64&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">158&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">255&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mf">0.5&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">box-shadow&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="nf">var&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="o">--&lt;/span>&lt;span class="n">shadow&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">l2&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">font-size&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">30&lt;/span>&lt;span class="kt">px&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">text-align&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">center&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">line-height&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">50&lt;/span>&lt;span class="kt">px&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">cursor&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">pointer&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">#&lt;/span>&lt;span class="nn">back-to-top&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="nd">before&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">content&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s1">&amp;#39; &amp;#39;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">display&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">inline-block&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">position&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">relative&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">top&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">transform&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="nb">rotate&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">135&lt;/span>&lt;span class="kt">deg&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">height&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">10&lt;/span>&lt;span class="kt">px&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">width&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">10&lt;/span>&lt;span class="kt">px&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">border-width&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">0&lt;/span> &lt;span class="mi">0&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="kt">px&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="kt">px&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">border-color&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="nf">var&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="o">--&lt;/span>&lt;span class="n">back&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="kc">to&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="kc">top&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="kc">color&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">border-style&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">solid&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">#&lt;/span>&lt;span class="nn">back-to-top&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="nd">hover&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="nd">before&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">border-color&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mh">#2674e0&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c">/* åœ¨å±å¹•å®½åº¦å°äº 768 åƒç´ æ—¶ï¼Œé’®ä½ç½®è°ƒæ•´ */&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">@&lt;/span>&lt;span class="k">media&lt;/span> &lt;span class="nt">screen&lt;/span> &lt;span class="nt">and&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="nt">max-width&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nt">768px&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">#&lt;/span>&lt;span class="nn">back-to-top&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">bottom&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">20&lt;/span>&lt;span class="kt">px&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">right&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">20&lt;/span>&lt;span class="kt">px&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">width&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">40&lt;/span>&lt;span class="kt">px&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">height&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">40&lt;/span>&lt;span class="kt">px&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">font-size&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">10&lt;/span>&lt;span class="kt">px&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c">/* åœ¨å±å¹•å®½åº¦å¤§äºç­‰äº 1024 åƒç´ æ—¶ï¼ŒæŒ‰é’®ä½ç½®è°ƒæ•´ */&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">@&lt;/span>&lt;span class="k">media&lt;/span> &lt;span class="nt">screen&lt;/span> &lt;span class="nt">and&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="nt">min-width&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nt">1024px&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">#&lt;/span>&lt;span class="nn">back-to-top&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">bottom&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">20&lt;/span>&lt;span class="kt">px&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">right&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">40&lt;/span>&lt;span class="kt">px&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c">/* åœ¨å±å¹•å®½åº¦å¤§äºç­‰äº 1280 åƒç´ æ—¶ï¼ŒæŒ‰é’®ä½ç½®è°ƒæ•´ */&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">@&lt;/span>&lt;span class="k">media&lt;/span> &lt;span class="nt">screen&lt;/span> &lt;span class="nt">and&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="nt">min-width&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nt">1280px&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">#&lt;/span>&lt;span class="nn">back-to-top&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">bottom&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">20&lt;/span>&lt;span class="kt">px&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">right&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">55&lt;/span>&lt;span class="kt">px&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c">/* ç›®å½•æ˜¾ç¤ºæ—¶ï¼Œéšè—æŒ‰é’® */&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">@&lt;/span>&lt;span class="k">media&lt;/span> &lt;span class="nt">screen&lt;/span> &lt;span class="nt">and&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="nt">min-width&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nt">1536px&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">#&lt;/span>&lt;span class="nn">back-to-top&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">visibility&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">hidden&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">style&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c">&amp;lt;!--è¿”å›é¡¶éƒ¨JS --&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">function&lt;/span> &lt;span class="nx">backToTop&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">document&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">documentElement&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">scrollIntoView&lt;/span>&lt;span class="p">({&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">behavior&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;smooth&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">window&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">onload&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kd">function&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">let&lt;/span> &lt;span class="nx">scrollTop&lt;/span> &lt;span class="o">=&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nb">document&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">documentElement&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">scrollTop&lt;/span> &lt;span class="o">||&lt;/span> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nb">document&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">body&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">scrollTop&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">let&lt;/span> &lt;span class="nx">totopBtn&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nb">document&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">getElementById&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;back-to-top&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">scrollTop&lt;/span> &lt;span class="o">&amp;gt;&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">totopBtn&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">style&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">display&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s1">&amp;#39;inline&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span> &lt;span class="k">else&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">totopBtn&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">style&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">display&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s1">&amp;#39;none&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">window&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">onscroll&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kd">function&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">let&lt;/span> &lt;span class="nx">scrollTop&lt;/span> &lt;span class="o">=&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nb">document&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">documentElement&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">scrollTop&lt;/span> &lt;span class="o">||&lt;/span> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nb">document&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">body&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">scrollTop&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">let&lt;/span> &lt;span class="nx">totopBtn&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nb">document&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">getElementById&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;back-to-top&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">scrollTop&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="mi">200&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">totopBtn&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">style&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">display&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s1">&amp;#39;none&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span> &lt;span class="k">else&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">totopBtn&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">style&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">display&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s1">&amp;#39;inline&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">totopBtn&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">addEventListener&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;click&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">backToTop&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kc">false&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="shortcodes">ShortCodes&lt;/h2>
&lt;p>å†…å®¹å¤ªé•¿ï¼Œå†…å®¹åˆ†å¼€å­˜æ”¾&lt;/p>
&lt;ul>
&lt;li>&lt;a class="link" href="https://falasool.github.io/2023/hugo-shortcuts/" >Hugo Shortcuts&lt;/a>
æ•ˆæœå’Œä½¿ç”¨æ–¹æ³•&lt;/li>
&lt;li>&lt;a class="link" href="https://github.com/0livia99/hugo-stack-shortcuts/tree/main" target="_blank" rel="noopener"
>ä»£ç ä»“åº“&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
&lt;/li>
&lt;/ul>
&lt;h2 id="æ·»åŠ -apple-touch-icon">æ·»åŠ  apple-touch-icon&lt;/h2>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-html" data-lang="html">&lt;span class="line">&lt;span class="cl"># /layouts/_default/baseof.html
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">head&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">link&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">rel&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;apple-touch-icon&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">sizes&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;180x180&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">href&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;https://cdn.jsdelivr.net/xxxxxxxx&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">head&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="æ·»åŠ èƒŒæ™¯çš„è››ç½‘ç‰¹æ•ˆ">æ·»åŠ èƒŒæ™¯çš„è››ç½‘ç‰¹æ•ˆ&lt;/h2>
&lt;p>åœ¨ &lt;code>/layouts/_default/baseof.html&lt;/code> å¼•å…¥ &lt;code>&amp;lt;script type=&amp;quot;text/javascript&amp;quot; src=&amp;quot;https://demo.hellozwh.com/source/canvas-nest.min.js&amp;quot;&amp;gt;&amp;lt;/script&amp;gt;&lt;/code> æˆ–&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="o">!&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kd">function&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">function&lt;/span> &lt;span class="nx">o&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">w&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">v&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">i&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nx">w&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">getAttribute&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">v&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">||&lt;/span> &lt;span class="nx">i&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">function&lt;/span> &lt;span class="nx">j&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">i&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nb">document&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">getElementsByTagName&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">i&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">function&lt;/span> &lt;span class="nx">l&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">var&lt;/span> &lt;span class="nx">i&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">j&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;script&amp;#39;&lt;/span>&lt;span class="p">),&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">w&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">i&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">length&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">v&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">i&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="nx">w&lt;/span> &lt;span class="o">-&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">l&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">w&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">z&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">o&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">v&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;zIndex&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">),&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">o&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">o&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">v&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;opacity&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mf">0.5&lt;/span>&lt;span class="p">),&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">c&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">o&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">v&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;color&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;0,0,0&amp;#39;&lt;/span>&lt;span class="p">),&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">n&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">o&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">v&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;count&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">99&lt;/span>&lt;span class="p">),&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">function&lt;/span> &lt;span class="nx">k&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">;(&lt;/span>&lt;span class="nx">r&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">u&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">width&lt;/span> &lt;span class="o">=&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">window&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">innerWidth&lt;/span> &lt;span class="o">||&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">document&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">documentElement&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">clientWidth&lt;/span> &lt;span class="o">||&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">document&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">body&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">clientWidth&lt;/span>&lt;span class="p">),&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">(&lt;/span>&lt;span class="nx">n&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">u&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">height&lt;/span> &lt;span class="o">=&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">window&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">innerHeight&lt;/span> &lt;span class="o">||&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">document&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">documentElement&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">clientHeight&lt;/span> &lt;span class="o">||&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">document&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">body&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">clientHeight&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">function&lt;/span> &lt;span class="nx">b&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">e&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">clearRect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">r&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">n&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">var&lt;/span> &lt;span class="nx">w&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="nx">f&lt;/span>&lt;span class="p">].&lt;/span>&lt;span class="nx">concat&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">t&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">var&lt;/span> &lt;span class="nx">x&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">v&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">A&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">B&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">z&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">y&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">t&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">forEach&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kd">function&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">i&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">;(&lt;/span>&lt;span class="nx">i&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">x&lt;/span> &lt;span class="o">+=&lt;/span> &lt;span class="nx">i&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">xa&lt;/span>&lt;span class="p">),&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">(&lt;/span>&lt;span class="nx">i&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">y&lt;/span> &lt;span class="o">+=&lt;/span> &lt;span class="nx">i&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">ya&lt;/span>&lt;span class="p">),&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">(&lt;/span>&lt;span class="nx">i&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">xa&lt;/span> &lt;span class="o">*=&lt;/span> &lt;span class="nx">i&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">x&lt;/span> &lt;span class="o">&amp;gt;&lt;/span> &lt;span class="nx">r&lt;/span> &lt;span class="o">||&lt;/span> &lt;span class="nx">i&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">x&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="mi">0&lt;/span> &lt;span class="o">?&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="mi">1&lt;/span> &lt;span class="o">:&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">),&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">(&lt;/span>&lt;span class="nx">i&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">ya&lt;/span> &lt;span class="o">*=&lt;/span> &lt;span class="nx">i&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">y&lt;/span> &lt;span class="o">&amp;gt;&lt;/span> &lt;span class="nx">n&lt;/span> &lt;span class="o">||&lt;/span> &lt;span class="nx">i&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">y&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="mi">0&lt;/span> &lt;span class="o">?&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="mi">1&lt;/span> &lt;span class="o">:&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">),&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">e&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">fillRect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">i&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">x&lt;/span> &lt;span class="o">-&lt;/span> &lt;span class="mf">0.5&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">i&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">y&lt;/span> &lt;span class="o">-&lt;/span> &lt;span class="mf">0.5&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">for&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">v&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="nx">v&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="nx">w&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">length&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="nx">v&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">x&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">w&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="nx">v&lt;/span>&lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">i&lt;/span> &lt;span class="o">!==&lt;/span> &lt;span class="nx">x&lt;/span> &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> &lt;span class="kc">null&lt;/span> &lt;span class="o">!==&lt;/span> &lt;span class="nx">x&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">x&lt;/span> &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> &lt;span class="kc">null&lt;/span> &lt;span class="o">!==&lt;/span> &lt;span class="nx">x&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">y&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">;(&lt;/span>&lt;span class="nx">B&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">i&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">x&lt;/span> &lt;span class="o">-&lt;/span> &lt;span class="nx">x&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">x&lt;/span>&lt;span class="p">),&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">z&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">i&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">y&lt;/span> &lt;span class="o">-&lt;/span> &lt;span class="nx">x&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">y&lt;/span>&lt;span class="p">),&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">y&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">B&lt;/span> &lt;span class="o">*&lt;/span> &lt;span class="nx">B&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="nx">z&lt;/span> &lt;span class="o">*&lt;/span> &lt;span class="nx">z&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">y&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="nx">x&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">max&lt;/span> &lt;span class="o">&amp;amp;&amp;amp;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">(&lt;/span>&lt;span class="nx">x&lt;/span> &lt;span class="o">===&lt;/span> &lt;span class="nx">f&lt;/span> &lt;span class="o">&amp;amp;&amp;amp;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">y&lt;/span> &lt;span class="o">&amp;gt;=&lt;/span> &lt;span class="nx">x&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">max&lt;/span> &lt;span class="o">/&lt;/span> &lt;span class="mi">2&lt;/span> &lt;span class="o">&amp;amp;&amp;amp;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">((&lt;/span>&lt;span class="nx">i&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">x&lt;/span> &lt;span class="o">-=&lt;/span> &lt;span class="mf">0.03&lt;/span> &lt;span class="o">*&lt;/span> &lt;span class="nx">B&lt;/span>&lt;span class="p">),&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">i&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">y&lt;/span> &lt;span class="o">-=&lt;/span> &lt;span class="mf">0.03&lt;/span> &lt;span class="o">*&lt;/span> &lt;span class="nx">z&lt;/span>&lt;span class="p">)),&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">(&lt;/span>&lt;span class="nx">A&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">x&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">max&lt;/span> &lt;span class="o">-&lt;/span> &lt;span class="nx">y&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">/&lt;/span> &lt;span class="nx">x&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">max&lt;/span>&lt;span class="p">),&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">e&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">beginPath&lt;/span>&lt;span class="p">(),&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">(&lt;/span>&lt;span class="nx">e&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">lineWidth&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">A&lt;/span> &lt;span class="o">/&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="p">),&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">(&lt;/span>&lt;span class="nx">e&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">strokeStyle&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s1">&amp;#39;rgba(&amp;#39;&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="nx">s&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">c&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="s1">&amp;#39;,&amp;#39;&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">A&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="mf">0.2&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="s1">&amp;#39;)&amp;#39;&lt;/span>&lt;span class="p">),&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">e&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">moveTo&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">i&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">x&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">i&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">y&lt;/span>&lt;span class="p">),&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">e&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">lineTo&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">x&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">x&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">x&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">y&lt;/span>&lt;span class="p">),&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">e&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">stroke&lt;/span>&lt;span class="p">())&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">w&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">splice&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">w&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">indexOf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">i&lt;/span>&lt;span class="p">),&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}),&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">m&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">b&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">var&lt;/span> &lt;span class="nx">u&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nb">document&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">createElement&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;canvas&amp;#39;&lt;/span>&lt;span class="p">),&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">s&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">l&lt;/span>&lt;span class="p">(),&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">c&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s1">&amp;#39;c_n&amp;#39;&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="nx">s&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">l&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">e&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">u&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">getContext&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;2d&amp;#39;&lt;/span>&lt;span class="p">),&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">r&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">n&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">m&lt;/span> &lt;span class="o">=&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">window&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">requestAnimationFrame&lt;/span> &lt;span class="o">||&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">window&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">webkitRequestAnimationFrame&lt;/span> &lt;span class="o">||&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">window&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">mozRequestAnimationFrame&lt;/span> &lt;span class="o">||&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">window&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">oRequestAnimationFrame&lt;/span> &lt;span class="o">||&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">window&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">msRequestAnimationFrame&lt;/span> &lt;span class="o">||&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">function&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">i&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">window&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">setTimeout&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">i&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">1000&lt;/span> &lt;span class="o">/&lt;/span> &lt;span class="mi">45&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">a&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nb">Math&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">random&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">f&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">x&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="kc">null&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">y&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="kc">null&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">max&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="mi">20000&lt;/span> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">u&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">id&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">c&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">u&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">style&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">cssText&lt;/span> &lt;span class="o">=&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s1">&amp;#39;position:fixed;top:0;left:0;z-index:&amp;#39;&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="nx">s&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">z&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="s1">&amp;#39;;opacity:&amp;#39;&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="nx">s&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">o&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">j&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;body&amp;#39;&lt;/span>&lt;span class="p">)[&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">].&lt;/span>&lt;span class="nx">appendChild&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">u&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">k&lt;/span>&lt;span class="p">(),&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nb">window&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">onresize&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">k&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">;(&lt;/span>&lt;span class="nb">window&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">onmousemove&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kd">function&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">i&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">;(&lt;/span>&lt;span class="nx">i&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">i&lt;/span> &lt;span class="o">||&lt;/span> &lt;span class="nb">window&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">event&lt;/span>&lt;span class="p">),&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">f&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">x&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">i&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">clientX&lt;/span>&lt;span class="p">),&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">f&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">y&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">i&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">clientY&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}),&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">(&lt;/span>&lt;span class="nb">window&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">onmouseout&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kd">function&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">;(&lt;/span>&lt;span class="nx">f&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">x&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kc">null&lt;/span>&lt;span class="p">),&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">f&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">y&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kc">null&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">for&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="kd">var&lt;/span> &lt;span class="nx">t&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">[],&lt;/span> &lt;span class="nx">p&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="nx">s&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">n&lt;/span> &lt;span class="o">&amp;gt;&lt;/span> &lt;span class="nx">p&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="nx">p&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">var&lt;/span> &lt;span class="nx">h&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">a&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="o">*&lt;/span> &lt;span class="nx">r&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">g&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">a&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="o">*&lt;/span> &lt;span class="nx">n&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">q&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">2&lt;/span> &lt;span class="o">*&lt;/span> &lt;span class="nx">a&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="o">-&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">d&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">2&lt;/span> &lt;span class="o">*&lt;/span> &lt;span class="nx">a&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="o">-&lt;/span> &lt;span class="mi">1&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">t&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">push&lt;/span>&lt;span class="p">({&lt;/span> &lt;span class="nx">x&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">h&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">y&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">g&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">xa&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">q&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">ya&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">d&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">max&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="mi">6000&lt;/span> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">setTimeout&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kd">function&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">b&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span> &lt;span class="mi">100&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})()&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="æœ‰å…´è¶£äº†åšåš">æœ‰å…´è¶£äº†åšåš&lt;/h2>
&lt;p>âœ… åšå®¢æ—¶é—´è½´&lt;/p>
&lt;ul>
&lt;li>å¯¼èˆªé¡µ&lt;/li>
&lt;/ul>
&lt;h2 id="å‚è€ƒ--è‡´è°¢">å‚è€ƒ &amp;amp; è‡´è°¢&lt;/h2>
&lt;p>&lt;a class="link" href="https://mantyke.icu/posts/2021/f9f0ec87/" target="_blank" rel="noopener"
>Hugo | çœ‹ä¸­ Stack ä¸»é¢˜çš„å½’æ¡£åŠŸèƒ½ï¼Œæ¬å®¶å¹¶åšä¿®æ”¹&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
&lt;/p>
&lt;p>&lt;a class="link" href="https://siae.me/p/stack/" target="_blank" rel="noopener"
>Hugo Stack ä¸»é¢˜æŠ˜è…¾ç¬”è®°&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
&lt;/p>
&lt;p>&lt;a class="link" href="https://blog.linsnow.cn/p/join-hugo-and-stack/" target="_blank" rel="noopener"
>æ‹¥æŠ±æœ€å¥½ç”¨çš„ hugo ä¹‹ stack&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
&lt;/p>
&lt;p>&lt;a class="link" href="https://blog.echosec.top/p/custom-hugo-theme-styles/" target="_blank" rel="noopener"
>ã€Hugoã€Hugo Styles&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
&lt;/p>
&lt;p>&lt;a class="link" href="https://irithys.com/p/hugo-shortcode-list/" target="_blank" rel="noopener"
>æ¥å†™ä¸€äº›å¥½ç©çš„ Hugo çŸ­ä»£ç å§&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
&lt;/p>
&lt;p>&lt;a class="link" href="https://thirdshire.com/post/hugo-stack-renovation/" target="_blank" rel="noopener"
>Hugo Stack ä¸»é¢˜è£…ä¿®ç¬”è®°&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
&lt;a class="link" href="https://shishuochen.gitee.io/2020/uffick8u1/" target="_blank" rel="noopener"
>Hugo åšå®¢è‡ªå®šä¹‰ä¼˜åŒ–&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
&lt;/p></description></item><item><title>Nginx</title><link>https://falasool.github.io/2023/nginx-memos/</link><pubDate>Tue, 11 Apr 2023 21:28:27 +0800</pubDate><guid>https://falasool.github.io/2023/nginx-memos/</guid><description>&lt;h2 id="nginx">Nginx&lt;/h2>
&lt;h3 id="å‡ ä¸ªé‡è¦çš„nginxæ–‡ä»¶å’Œç›®å½•">å‡ ä¸ªé‡è¦çš„Nginxæ–‡ä»¶å’Œç›®å½•&lt;/h3>
&lt;h4 id="ç½‘ç«™å†…å®¹">ç½‘ç«™å†…å®¹&lt;/h4>
&lt;ul>
&lt;li>&lt;code>/var/www/html&lt;/code>ï¼šé»˜è®¤çš„ç½‘ç«™å†…å®¹å­˜æ”¾ç›®å½•ï¼ŒNginx é»˜è®¤çš„æ¬¢è¿ç•Œé¢å°±å­˜æ”¾åœ¨è¿™ã€‚å¯ä»¥é€šè¿‡ä¿®æ”¹Nginxé…ç½®æ–‡ä»¶æ›´æ”¹ã€‚&lt;/li>
&lt;/ul>
&lt;h4 id="æœåŠ¡å™¨é…ç½®">æœåŠ¡å™¨é…ç½®&lt;/h4>
&lt;ul>
&lt;li>&lt;code>/etc/nginx/nginx.conf&lt;/code>ï¼šNginxé…ç½®æ–‡ä»¶ï¼Œä¿®æ”¹å®ƒé…ç½®Nginxå…¨å±€è®¾ç½®ã€‚&lt;/li>
&lt;li>&lt;code>/etc/nginx/sites-available/&lt;/code>ï¼šå¯ç”¨ç«™ç‚¹é…ç½®æ–‡ä»¶æ”¾ç½®ç›®å½•ï¼Œå¯åœ¨æ­¤åˆ›å»ºå¤šä¸ªè™šæ‹Ÿä¸»æœºï¼Œæ¯ä¸€ä¸ªç«™ç‚¹ä¸€ä¸ªé…ç½®æ–‡ä»¶&lt;/li>
&lt;li>&lt;code>/etc/nginx/sites-enabled/&lt;/code>ï¼šå·²å¯ç”¨ç«™ç‚¹çš„è½¯é“¾æ¥ç›®å½•ï¼ŒNginxé»˜è®¤ç«™ç‚¹ç›®å½•ï¼Œnginc.conf é»˜è®¤åŒ…å«çš„æ–‡ä»¶å¤¹ã€‚åœ¨æ­¤æ–‡ä»¶å¤¹å»ºç«‹çš„ç«™ç‚¹ï¼Œéœ€è¦å»ºç«‹è½¯è¿æ¥åˆ°ç›®å½•/etc/nginx/sites-available/é‡Œ&lt;/li>
&lt;li>&lt;code>/etc/nginx/conf.d&lt;/code>ï¼šç”¨äºå­˜æ”¾å¼•å…¥çš„å…¶ä»–é…ç½®æ–‡ä»¶çš„ç›®å½•ï¼ˆå­˜æ”¾å…¬å…±é…ç½®ç‰‡æ®µï¼‰&lt;/li>
&lt;li>&lt;code>/etc/nginx/mime.types&lt;/code>: è®¾ç½®åª’ä½“ç±»å‹æ˜ å°„å…³ç³»&lt;/li>
&lt;li>&lt;code>/etc/nginx/fastcgi_params&lt;/code>: ä¸€äº›é»˜è®¤çš„å‚æ•°æ–‡ä»¶&lt;/li>
&lt;li>&lt;code>/etc/nginx/modules-available/enabled&lt;/code>: Nginx æ¨¡å—ç›®å½•&lt;/li>
&lt;li>&lt;code>/etc/nginx/snippets&lt;/code>: ä»£ç ç‰‡æ®µç›®å½•&lt;/li>
&lt;li>&lt;code>/etc/nginx/ko-utfã€/etc/nginx/win-utf&lt;/code> ç­‰:ä¸€äº›ç¼–ç è½¬æ¢æ˜ å°„æ–‡ä»¶&lt;/li>
&lt;/ul>
&lt;h4 id="æœåŠ¡æ—¥å¿—">æœåŠ¡æ—¥å¿—&lt;/h4>
&lt;ul>
&lt;li>&lt;code>/var/log/nginx/access.log&lt;/code>ï¼šå¦‚æ— å…¶ä»–è®¾ç½®ï¼Œæ­¤æ–‡ä»¶è®°å½•äº†æ¯ä¸€æ¬¡çš„ç½‘é¡µæœåŠ¡è¯·æ±‚ã€‚&lt;/li>
&lt;li>&lt;code>/var/log/nginx/error.log&lt;/code>ï¼šNginxé”™è¯¯è¯·æ±‚è®°å½•æ–‡ä»¶ã€‚&lt;/li>
&lt;/ul></description></item><item><title>Misskey å®ä¾‹æ­å»ºæ•™ç¨‹</title><link>https://falasool.github.io/2022/misskey/</link><pubDate>Sat, 19 Nov 2022 20:19:15 +0800</pubDate><guid>https://falasool.github.io/2022/misskey/</guid><description>&lt;p>æœ¬æ¬¡æ­å»ºä½¿ç”¨ Ubuntu 22.10 ç³»ç»Ÿ&lt;/p>
&lt;h2 id="è´­ä¹°-vps">è´­ä¹° VPS&lt;/h2>
&lt;p>âš ï¸ ä¸è¦ä¹°æœºæˆ¿åœ¨å¤§é™†çš„æœåŠ¡å•† VPS âš ï¸&lt;/p>
&lt;p>åœ¨å¤‡æ¡ˆé€šè¿‡ä¹‹å‰ 80 å’Œ 443 ç«¯å£æ˜¯å°ç¦çš„ -&amp;gt; æ— æ³•ç”³è¯· SSL è¯ä¹¦ -&amp;gt; Misskey éœ€è¦ SSL æ‰èƒ½è®¿é—®ï¼ŒGG&lt;/p>
&lt;p>ï¼ˆå³ä½¿æ²¡æœ‰è¿™ä¸ªé—®é¢˜ï¼Œä¹°å¤§é™†èŠ‚ç‚¹çš„æœåŠ¡å»ºç«™ä¹Ÿæ˜¯ä¸€ç§è‡ªæ€è¡Œä¸ºï¼‰&lt;/p>
&lt;h3 id="æ³¨å†Œ">æ³¨å†Œ&lt;/h3>
&lt;p>æ³¨å†Œ Vultr è´¦å·ï¼Œå……å€¼&lt;/p>
&lt;p>&lt;img src="https://cdn.jsdelivr.net/gh/Falasool/blog-pic-bed/blog/misskey1.png"
loading="lazy"
alt="image-20221120012614543"
>&lt;/p>
&lt;h3 id="åˆ›å»º-vps">åˆ›å»º VPS&lt;/h3>
&lt;p>&lt;img src="https://cdn.jsdelivr.net/gh/Falasool/blog-pic-bed/blog/image-20221120012203832.png"
loading="lazy"
alt="image-20221120012203832"
>&lt;/p>
&lt;ul>
&lt;li>
&lt;p>é€‰ Cloud Compute&lt;/p>
&lt;/li>
&lt;li>
&lt;p>CPU é€‰ AMD å’Œ Intel éƒ½è¡Œ&lt;/p>
&lt;/li>
&lt;li>
&lt;p>æœºæˆ¿ä½ç½®é€‰æ‹©æ—¥æœ¬ã€æ–°åŠ å¡ã€ç¾è¥¿éƒ½è¡Œï¼Œä¸€èˆ¬ä¸æ¨èæ¬§æ´²ï¼ˆå¯¹äºä¸­å›½å›½å†…ï¼‰&lt;/p>
&lt;/li>
&lt;li>
&lt;p>é€‰æ‹©æ“ä½œç³»ç»Ÿï¼šUbuntu 22.10 x64&lt;/p>
&lt;/li>
&lt;li>
&lt;p>é€‰æ‹© Sizeï¼š$5 çš„ 1C1G1TB å¥—é¤ï¼ˆè®°å¾—å‹¾é€‰ No Thanksï¼‰&lt;/p>
&lt;/li>
&lt;li>
&lt;p>å…³é—­è‡ªåŠ¨å¤‡ä»½ï¼Œçœ $1&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Additional Featuresï¼šå‹¾é€‰ Enable IPv6&lt;/p>
&lt;/li>
&lt;li>
&lt;p>æ·»åŠ  SSH Keys&lt;/p>
&lt;/li>
&lt;/ul>
&lt;!-- raw HTML omitted -->
&lt;p>æ‰“å¼€å‘½ä»¤è¡Œï¼Œè¾“å…¥&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">ssh-keygen -t rsa -b &lt;span class="m">4096&lt;/span> -C &lt;span class="s2">&amp;#34;Example comment&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>åœ¨è¿™è¡Œæç¤ºåé¢è¾“å…¥ä½ æƒ³è¦ä¿å­˜å¯†é’¥çš„è·¯å¾„&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-text" data-lang="text">&lt;span class="line">&lt;span class="cl">Generating public/private rsa key pair.
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Enter file in which to save the key (/home/example_user/.ssh/id_rsa):
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>æˆ‘è¾“å…¥ï¼ˆuu æ˜¯æˆ‘çš„ç”µè„‘ç”¨æˆ·åï¼‰&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">/home/uu/.ssh/id_rsa_vultr
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>æ‰€ä»¥åœ¨ &lt;code>/.ssh&lt;/code> ç›®å½•ä¸‹å¯ä»¥æ‰¾åˆ° &lt;code>id_rsa_vultr&lt;/code> å’Œ &lt;code>id_rsa_vultr.pub&lt;/code> æ–‡ä»¶ï¼Œå®ƒä»¬åˆ†åˆ«æ˜¯ç§é’¥å’Œå…¬é’¥&lt;/p>
&lt;p>æ¥ä¸‹æ¥è¦æŠŠå…¬é’¥å†…å®¹æ·»åŠ åˆ° vultr å»&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># è¿›å…¥.ssh ç›®å½•&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">cd&lt;/span> .ssh
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># æ‰“å°æ–‡ä»¶å†…å®¹&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">cat id_rsa_vultr.pub
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;!-- raw HTML omitted -->
&lt;ul>
&lt;li>è¿™æ—¶åº•éƒ¨ä»˜æ¬¾æ åº”è¯¥æ˜¾ç¤º &lt;code>$5.00/month&lt;/code> ï¼Œç‚¹å‡» &lt;code>Deploy Now&lt;/code> ç¡®è®¤åˆ›å»ºæœåŠ¡å™¨ï¼Œç­‰å¾…ä¸€ä¼šï¼Œç­‰ Status å˜æˆ Running å°±å¥½äº†&lt;/li>
&lt;/ul>
&lt;p>&lt;img src="https://cdn.jsdelivr.net/gh/Falasool/blog-pic-bed/blog/misskey2-1.png"
loading="lazy"
alt="image-20221120012909994"
>&lt;/p>
&lt;p>ç‚¹å‡»åˆšåˆšåˆ›å»ºçš„ VPSï¼Œçœ‹åˆ°å¦‚ä¸‹ç•Œé¢ã€‚&lt;/p>
&lt;p>å·¦ä¸‹è§’çš„ IP Addressã€Usernameã€Password æ˜¯å¾…ä¼šè¿æ¥æœåŠ¡å™¨çš„æ—¶å€™ï¼Œè¦ç”¨åˆ°çš„ SSH è¿æ¥ä¿¡æ¯&lt;/p>
&lt;p>&lt;img src="https://cdn.jsdelivr.net/gh/Falasool/blog-pic-bed/blog/misskey3.png"
loading="lazy"
alt="image-20221120013010174"
>&lt;/p>
&lt;ol>
&lt;li>ç™»å½• VNCï¼šæŸ¥çœ‹æ§åˆ¶å°&lt;/li>
&lt;li>å…³æœºï¼šå°±å’Œå…³ç”µè„‘ä¸€æ ·ï¼ˆå…³æœºçš„æ—¶å€™ä»ç„¶åœ¨è®¡è´¹å“¦ï¼ï¼‰&lt;/li>
&lt;li>é‡å¯ï¼šå°±å’Œé‡å¯ç”µè„‘ä¸€æ ·&lt;/li>
&lt;li>é‡è£…ç³»ç»Ÿï¼šæŠŠæœåŠ¡å™¨é‡ç½®æˆåˆšåˆ›å»ºæ—¶çš„çŠ¶æ€&lt;/li>
&lt;li>é”€æ¯/åˆ é™¤ï¼šé”€æ¯äº†æœåŠ¡å™¨å°±ä¸è®¡è´¹äº†ï¼Œæ•°æ®ä¸¢å¤±ï¼Œæ— æ³•æ‰¾å›&lt;/li>
&lt;/ol>
&lt;p>Snapshotsï¼šå¿«ç…§ï¼ŒæŒ‡å°†å½“å‰ VPS çš„çŠ¶æ€ä¿å­˜ä¸‹æ¥ï¼Œå¯¹ VPS è¿›è¡Œå®Œæ•´å¤‡ä»½&lt;/p>
&lt;p>æœåŠ¡å™¨åˆ›å»ºå®Œæˆ&lt;/p>
&lt;h3 id="æ£€æŸ¥-ip">æ£€æŸ¥ IP&lt;/h3>
&lt;p>Ping ä¸€ä¸‹ IP&lt;/p>
&lt;p>&lt;img src="https://cdn.jsdelivr.net/gh/Falasool/blog-pic-bed/blog/misskey4.png"
loading="lazy"
alt="image-20221120013147886"
>&lt;/p>
&lt;p>ç”¨æ£€æŸ¥å·¥å…·æ¯”å¦‚ &lt;a class="link" href="https://ip112.cn/" target="_blank" rel="noopener"
>https://ip112.cn/&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
æ£€æŸ¥ IPï¼Œæ­¤ IP å¯ç”¨&lt;/p>
&lt;p>&lt;img src="https://cdn.jsdelivr.net/gh/Falasool/blog-pic-bed/blog/misskey5.png"
loading="lazy"
alt="image-20221120013305544"
>&lt;/p>
&lt;p>å…¶å®ƒæµ‹è¯•å·¥å…·&lt;/p>
&lt;ul>
&lt;li>&lt;a class="link" href="http://ping.pe/" target="_blank" rel="noopener"
>http://ping.pe/&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
â€” å…¨çƒèŠ‚ç‚¹ Pingï¼ŒåŒ…æ‹¬ä¸­å›½çš„ä¸‰å¤§è¿è¥å•†&lt;/li>
&lt;li>&lt;a class="link" href="http://ping.chinaz.com/" target="_blank" rel="noopener"
>http://ping.chinaz.com/&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
â€” Ping æ£€æµ‹ä¸­å›½å¤§é™†çš„è®¿é—®æƒ…å†µ&lt;/li>
&lt;/ul>
&lt;h2 id="åŸŸå">åŸŸå&lt;/h2>
&lt;p>åœ¨åŸŸåå•† &lt;a class="link" href="https://www.dynadot.com/zh/" target="_blank" rel="noopener"
>Dynadot&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
æ³¨å†Œè´¦å·ï¼Œä¹°ä¸€ä¸ªåŸŸå&lt;/p>
&lt;h3 id="è§£æåŸŸå">è§£æåŸŸå&lt;/h3>
&lt;p>ä¾æ¬¡ç‚¹å‡»&lt;/p>
&lt;p>&lt;img src="https://raw.githubusercontent.com/Falasool/blog-pic-bed/main/blog/misskey6.png"
loading="lazy"
alt="image-20221120013439245"
>&lt;/p>
&lt;p>æš‚åœ â¸ï¸&lt;/p>
&lt;p>å» &lt;a class="link" href="https://dash.cloudflare.com/" target="_blank" rel="noopener"
>CloudFlare&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
æ³¨å†Œç™»å½•è´¦å·ï¼Œä¾æ¬¡æ“ä½œï¼š&lt;/p>
&lt;p>æ·»åŠ æ–°ç«™ç‚¹&lt;/p>
&lt;p>&lt;img src="https://raw.githubusercontent.com/Falasool/blog-pic-bed/main/blog/misskey7.png"
loading="lazy"
alt="image-20221120013614146"
>&lt;/p>
&lt;p>è¾“å…¥ä½ çš„åŸŸå&lt;/p>
&lt;p>&lt;img src="https://raw.githubusercontent.com/Falasool/blog-pic-bed/main/blog/misskey8.png"
loading="lazy"
alt="image-20221120013635155"
>&lt;/p>
&lt;p>é€‰æ‹©å…è´¹æ–¹æ¡ˆ&lt;/p>
&lt;p>æ·»åŠ  DNS è§£æè®°å½•&lt;/p>
&lt;!-- raw HTML omitted -->
&lt;ul>
&lt;li>
&lt;p>&lt;code>*&lt;/code> æ˜¯é€šé…ç¬¦ï¼Œæ„æ€æ˜¯æˆ‘çš„äºŒçº§åŸŸåï¼Œxxx.ponderduck.cc çš„ DNS è§£æä¹Ÿä¸€èµ·è¢«æ¥ç®¡äº†ã€‚ä¸ç”¨æˆ‘ä¸€ä¸ªä¸€ä¸ªè®¾ç½®&lt;/p>
&lt;/li>
&lt;li>
&lt;p>ç¬¬äºŒè¡Œæ˜¯åŸŸåæœ¬ä½“&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;code>www&lt;/code> è®©è¾“å…¥ &lt;a class="link" href="https://www.ponderduck.cc" target="_blank" rel="noopener"
>www.ponderduck.cc&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
ä¹Ÿèƒ½è®¿é—®&lt;/p>
&lt;/li>
&lt;/ul>
&lt;p>å¤åˆ¶ CloudFlare æä¾›çš„ä¸¤ä¸ªåç§°æœåŠ¡å™¨ï¼Œå¡«è¿› Dynadot çš„ DNS è®¾ç½®ï¼Œä¿å­˜&lt;/p>
&lt;!-- raw HTML omitted -->
&lt;p>å›åˆ° CloudFlare ç‚¹å‡» &lt;code>Done, check nameservers&lt;/code>ï¼Œç­‰ä¸€ä¼š&lt;/p>
&lt;!-- raw HTML omitted -->
&lt;p>&lt;del>æµ‹è¯•ï¼Œping ä½ çš„åŸŸåï¼Œè¿”å›æœåŠ¡å™¨ IP è¯´æ˜è§£æç”Ÿæ•ˆ&lt;/del>&lt;/p>
&lt;!-- raw HTML omitted -->
&lt;p>å¼€å¯å®Œå…¨ SSLï¼Œå¦åˆ™è®¿é—®ç«™ç‚¹ä¼šæŠ¥ã€Œé‡å®šå‘æ¬¡æ•°è¿‡å¤šã€çš„é”™è¯¯&lt;/p>
&lt;p>&lt;img src="https://falasool.github.io/Library/Application%20Support/typora-user-images/image-20221121185003309.png"
loading="lazy"
alt="image-20221121185003309"
>&lt;/p>
&lt;p>âœ… åŸŸåè§£æå®Œæˆ&lt;/p>
&lt;h2 id="æœåŠ¡å™¨åŸºç¡€é…ç½®">æœåŠ¡å™¨åŸºç¡€é…ç½®&lt;/h2>
&lt;p>&lt;strong>å¯¹å“ªä¸€æ­¥ä¸è‡ªä¿¡ï¼Œå¯ä»¥åœ¨å¼€å§‹åšä¹‹å‰å…ˆå»æœåŠ¡å™¨ç®¡ç†é¢æ¿åˆ›å»ºä¸€ä¸ªå¿«ç…§ï¼ˆsnapshotsï¼‰ï¼Œå¿«ç…§å°±æ˜¯å­˜æ¡£ç‚¹&lt;/strong>&lt;/p>
&lt;h3 id="è¿œç¨‹è¿æ¥">è¿œç¨‹è¿æ¥&lt;/h3>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">ssh root@101.113.22.42 &lt;span class="c1"># æ¢æˆä½ çš„ipåœ°å€ï¼Œå›è½¦&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>ç„¶åæŠŠå¯†ç ä» vultr å¤åˆ¶è¿‡æ¥å›è½¦ï¼Œä¼šçœ‹åˆ°ç±»ä¼¼è¿™æ ·çš„æç¤ºå°±è¡¨ç¤ºè¿æ¥æœåŠ¡å™¨æˆåŠŸ&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">Welcome to Ubuntu 22.10 &lt;span class="o">(&lt;/span>GNU/Linux 5.19.0-23-generic x86_64&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> * Documentation: https://help.ubuntu.com
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> * Management: https://landscape.canonical.com
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> * Support: https://ubuntu.com/advantage
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> ...çœç•¥ä¸€éƒ¨åˆ†å†…å®¹...
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">root@vultr:~#
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="å®‰å…¨è®¾ç½®">å®‰å…¨è®¾ç½®&lt;/h3>
&lt;p>å› ä¸º root æƒé™å¤ªå¤ªå¤ªå¼ºå¤§ï¼Œä¸ºäº†é¿å…å©´å„¿ï¼ˆæˆ‘ï¼‰æ‹¿æ ¸æ­¦å™¨å‘å°„æŒ‰é’®çš„æƒ…å†µå‡ºç°ï¼Œåˆ›å»ºä¸€ä¸ªæ™®é€šç”¨æˆ·æ—¥å¸¸ä½¿ç”¨&lt;/p>
&lt;h4 id="æ–°å»ºæ™®é€šç”¨æˆ·å¹¶è®¾å®šå¯†ç ">æ–°å»ºæ™®é€šç”¨æˆ·å¹¶è®¾å®šå¯†ç &lt;/h4>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">adduser vpsadmin &lt;span class="c1"># vpsadminæ˜¯ç”¨æˆ·å&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>ç„¶åè¾“å…¥å¯†ç  - ç¡®è®¤å¯†ç ï¼ˆå¤ªç®€å•ä¼šè¢«æ‹’ç»==ï¼‰&lt;/p>
&lt;!-- raw HTML omitted -->
&lt;h4 id="èµ‹äºˆ-vpsadmin-ä½¿ç”¨-sudo-æŒ‡ä»¤çš„æƒé™">èµ‹äºˆ ã€Œvpsadminã€ ä½¿ç”¨ sudo æŒ‡ä»¤çš„æƒé™&lt;/h4>
&lt;p>ä»€ä¹ˆæ˜¯ su å’Œ sudo è¯·çœ‹ï¼š&lt;a class="link" href="https://blog.gtwang.org/linux/sudo-su-command-tutorial-examples/" target="_blank" rel="noopener"
>Linux çš„ su èˆ‡ sudo æŒ‡ä»¤æ•™å­¸èˆ‡ç¯„ä¾‹&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">sudo adduser vpsadmin sudo
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>å¦å¤–å¼€ä¸€ä¸ªç»ˆç«¯çª—å£ï¼Œç™»å½• vpsadmin è´¦å·&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">ssh vpsadmin@185.202.62.49 &lt;span class="c1"># æ¢æˆä½ çš„IPï¼Œå›è½¦ï¼Œç„¶åè¾“å…¥å¯†ç &lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>éªŒè¯æ˜¯å¦è·å¾— sudo æƒé™&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">sudo ls -al /root
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>è¿”å›ç±»ä¼¼å†…å®¹ï¼ˆå±•ç¤º &lt;code>/root&lt;/code> ç›®å½•ä¸‹çš„èµ„æ–™ï¼‰å°±è¡¨ç¤ºæˆåŠŸäº†&lt;/p>
&lt;!-- raw HTML omitted -->
&lt;h4 id="å¯é€‰ssh-å…å¯†ç™»å½•">[å¯é€‰]SSH å…å¯†ç™»å½•&lt;/h4>
&lt;p>æ¯æ¬¡ç™»å½• vpsadmin éƒ½è¦æ‰‹åŠ¨è¾“å¯†ç å¾ˆéº»çƒ¦ï¼Œè®¾ç½®ä¸€ä¸‹å…å¯†ç™»å½•&lt;/p>
&lt;p>åœ¨ Tabby è®¾ç½® - Profiles &amp;amp; connections - &lt;code>+ New profile&lt;/code> - SSH connection&lt;/p>
&lt;!-- raw HTML omitted -->
&lt;h4 id="ç¦æ­¢-root-ç™»å½•">ç¦æ­¢ root ç™»å½•&lt;/h4>
&lt;p>ï¼ˆç¦ç”¨æ ¸æŒ‰é’®ï¼‰&lt;/p>
&lt;p>ç™»å½• root è´¦æˆ·ï¼Œè¾“å…¥&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">nano /etc/ssh/sshd_config
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>ä½¿ç”¨ &lt;code>control + W&lt;/code> è¿›å…¥æœç´¢æ¨¡å¼ï¼Œè¾“å…¥ &lt;code>PerimitRootLogin&lt;/code> å¹¶å›è½¦ï¼Œæ‰¾åˆ°æ‰€åœ¨è¡Œï¼Œæ”¹æˆï¼ˆè®°å¾—è¦å–æ‰æ³¨é‡Š &lt;code>#&lt;/code>ï¼ï¼ï¼‰&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">PermitRootLogin: no
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>*prohibit-password/without-password æ„ä¸ºç¦æ­¢å¯†ç ç™»å½•&lt;/p>
&lt;p>ä½¿ç”¨ &lt;code>control + O&lt;/code>ï¼Œä¿å­˜æ›´æ”¹ï¼Œ&lt;code>control + X&lt;/code> é€€å‡º&lt;/p>
&lt;p>é‡æ–°å¯åŠ¨ SSH æœåŠ¡&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">sudo /etc/init.d/ssh restart
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>&lt;strong>æ‰“å¼€ä¸€ä¸ªæ–°çª—å£&lt;/strong>ï¼Œå°è¯•ç”¨ root ç™»å½•ï¼Œè¿”å› Permission denied&amp;hellip;&lt;/p>
&lt;!-- raw HTML omitted -->
&lt;p>âœ… æˆåŠŸç¦æ­¢ root ç™»å½•&lt;/p>
&lt;p>ä»ç°åœ¨å¼€å§‹ï¼Œç”¨ã€Œvpsadminã€è¿™ä¸ªè´¦æˆ·è¿œç¨‹è¿æ¥ VPS å§&lt;/p>
&lt;h3 id="æ­å»ºç¯å¢ƒ">æ­å»ºç¯å¢ƒ&lt;/h3>
&lt;h4 id="ä¿®æ”¹æœåŠ¡å™¨æ—¶é—´">ä¿®æ”¹æœåŠ¡å™¨æ—¶é—´&lt;/h4>
&lt;p>æŸ¥çœ‹æ—¶é—´&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">timedatectl
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;!-- raw HTML omitted -->
&lt;p>åˆ—å‡ºæ‰€æœ‰æ—¶åŒº&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">timedatectl list-timezones
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;!-- raw HTML omitted -->
&lt;p>æ”¹æˆé¦™æ¸¯ ğŸ‡­ğŸ‡°&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">sudo timedatectl set-timezone Asia/Hong_Kong
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h4 id="å®‰è£…å¸¸ç”¨å‘½ä»¤">å®‰è£…å¸¸ç”¨å‘½ä»¤&lt;/h4>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">sudo apt-get install curl wget screen tree -y
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>*curl ç”¨äºè¯·æ±‚ Web æœåŠ¡å™¨&lt;/p>
&lt;p>*wget ç”¨æ¥ä¸‹è½½è½¯ä»¶åŒ…&lt;/p>
&lt;p>*screen ç”¨äºå‘½ä»¤è¡Œç»ˆç«¯çš„çª—å£åˆ‡æ¢&lt;/p>
&lt;p>*tree ç”¨äºæ˜¾ç¤ºå½“å‰æ–‡ä»¶å¤¹çš„ç›®å½•ç»“æ„&lt;/p>
&lt;p>ï¼ˆå¦‚æœä½ æœ‰å…¶å®ƒè¦ç”¨çš„ä¹Ÿä¸€èµ·åŠ è¿›æ¥ï¼Œæˆ–è€…è¦ç”¨äº†å†ç”¨è¿™ä¸ªå‘½ä»¤å•ç‹¬å®‰è£…ä¹Ÿå¯ä»¥ï¼‰&lt;/p>
&lt;h4 id="æ·»åŠ -swap">æ·»åŠ  SWAP&lt;/h4>
&lt;p>swap æ˜¯ Linux ä¸­çš„è™šæ‹Ÿå†…å­˜ï¼Œç”¨äºåœ¨ç‰©ç†å†…å­˜ä¸è¶³çš„æƒ…å†µä¸‹å‚¨å­˜ä¸´æ—¶æ•°æ®ï¼Œå¯ä»¥æå‡å°å†…å­˜ VPS çš„è¿è¡Œæ•ˆç‡&lt;/p>
&lt;p>ç¡®è®¤æ˜¯å¦å·²å­˜åœ¨ SWAP&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">free -m
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;!-- raw HTML omitted -->
&lt;p>æœ‰ Swap é¡¹è€Œä¸” total åˆ—ä¸ä¸ºé›¶ï¼Œè¯´æ˜ Swap å·²å­˜åœ¨ï¼Œå¯ä»¥è‡ªè¡Œä¿®æ”¹åˆ†åŒºå®¹é‡ï¼Œå‚è€ƒï¼šä¸º &lt;a class="link" href="https://www.vvave.net/archives/add-swap-and-repartition-swap-for-linux.html" target="_blank" rel="noopener"
>Linux æ·»åŠ  swap åˆ†åŒºæˆ–ä¿®æ”¹ swap åˆ†åŒºå®¹é‡&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
&lt;/p>
&lt;h4 id="é…ç½®é˜²ç«å¢™">é…ç½®é˜²ç«å¢™&lt;/h4>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">sudo ufw allow OpenSSH
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sudo ufw &lt;span class="nb">enable&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>æ‰“å¼€é˜²ç«å¢™&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">sudo ufw allow http
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sudo ufw allow https
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>æ‰“å¼€ 80ã€443 çš„ç«¯å£&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">sudo ufw allow 80/tcp
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sudo ufw allow 443/tcp
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>ï¼ˆå…¶å®ƒæœåŠ¡éœ€è¦çš„ç«¯å£ä¹Ÿç”¨ &lt;code>sudo ufw allow xx/tcp&lt;/code> å¼€å¯ï¼‰&lt;/p>
&lt;p>éªŒè¯é˜²ç«å¢™æ˜¯å¦æ‰“å¼€ï¼Œç«¯å£æ˜¯å¦å¼€å¯&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">sudo ufw status
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;!-- raw HTML omitted -->
&lt;p>å’Œå…¶å®ƒæœåŠ¡å•†ä¸åŒï¼ŒVultr æ²¡æœ‰é»˜è®¤é˜²ç«å¢™è®¾ç½®ï¼Œæ‰€ä»¥è¦è‡ªå·±å¼€å¯&lt;/p>
&lt;p>åœ¨ Vultr æ·»åŠ é˜²ç«å¢™è§„åˆ™&lt;/p>
&lt;!-- raw HTML omitted -->
&lt;!-- raw HTML omitted -->
&lt;!-- raw HTML omitted -->
&lt;h4 id="å®‰è£…-docker-å’Œ-docker-compose">å®‰è£… Docker å’Œ Docker Compose&lt;/h4>
&lt;p>*Compose æ˜¯ Docker çš„ä¸€ä¸ªå‘½ä»¤è¡Œå·¥å…·ï¼Œé€šè¿‡ yml æ–‡ä»¶å®šä¹‰ã€åˆ›å»ºã€ç®¡ç†å¤šå®¹å™¨çš„ Docker åº”ç”¨&lt;/p>
&lt;p>è·Ÿç€ &lt;a class="link" href="https://www.51cto.com/article/715086.html" target="_blank" rel="noopener"
>å¦‚ä½•åœ¨ Ubuntu 22.04 LTS ä¸­å®‰è£… Docker å’Œ Docker Compose&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
ä¸æ»‘å®Œæˆå®‰è£…&lt;/p>
&lt;p>æ¨èï¼š&lt;a class="link" href="https://ostechnix.com/getting-started-with-docker/" target="_blank" rel="noopener"
>Docker Commands Tutorial | Getting Started With Docker In Linux&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
&lt;/p>
&lt;h5 id="ä¿®æ”¹-docker-é…ç½®">ä¿®æ”¹ Docker é…ç½®&lt;/h5>
&lt;p>Docker çš„é…ç½®æ–‡ä»¶è·¯å¾„æ˜¯ &lt;code>/etc/docker/daemon.json&lt;/code>ï¼Œéœ€è¦æ‰‹åŠ¨åˆ›å»ºï¼š&lt;/p>
&lt;p>è¿›å…¥ &lt;code>/etc/docker&lt;/code> ç›®å½•&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="nb">cd&lt;/span> /etc/docker
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>ç”¨ vim ç¼–è¾‘ &lt;code>daemon.json&lt;/code> æ–‡ä»¶&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">sudo vim daemon.json
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>è¿›å…¥ vim åè¾“å…¥å¦‚ä¸‹å†…å®¹ï¼Œè¿™æ®µä»£ç ä¼šå¢åŠ ä¸€æ®µè‡ªå®šä¹‰å†…ç½‘ IPv6 åœ°å€ï¼Œå¼€å¯å®¹å™¨çš„ IPv6 åŠŸèƒ½ï¼Œé™åˆ¶æ—¥å¿—æ–‡ä»¶çš„å¤§å°ï¼ˆ20Mï¼‰ï¼Œé™åˆ¶æ—¥å¿—æ–‡ä»¶æ•°é‡ï¼Œé˜²æ­¢ Docker æ—¥å¿—è¿‡å¤šå ç”¨ç¡¬ç›˜&lt;/p>
&lt;p>ï¼ˆä»£ç æ¥è‡ª&lt;a class="link" href="https://u.sb/debian-install-docker/" target="_blank" rel="noopener"
>çƒ§é¥¼åšå®¢&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
ï¼‰&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-json" data-lang="json">&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;log-driver&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;json-file&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;log-opts&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;max-size&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;20m&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;max-file&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;3&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;ipv6&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">true&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;fixed-cidr-v6&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;fd00:dead:beef:c0::/80&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;experimental&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">true&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;ip6tables&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">true&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>âš ï¸ vim å’Œæ™®é€šé”®å…¥ç•¥æœ‰ä¸ç”¨&lt;/p>
&lt;ul>
&lt;li>
&lt;p>é¦–å…ˆ &lt;code>I&lt;/code> è¿›å…¥ç¼–è¾‘æ¨¡å¼ï¼Œè¾“å…¥å†…å®¹ï¼ˆæ³¨æ„æ ¼å¼ï¼šå¤§æ‹¬å· &lt;code>{}&lt;/code> é‡Œçš„å†…å®¹é™¤äº†æœ€åä¸€è¡Œï¼Œéƒ½å¿…é¡»ç”¨è‹±æ–‡é€—å· &lt;code>,&lt;/code> ç»“å°¾ï¼‰&lt;/p>
&lt;/li>
&lt;li>
&lt;p>å®Œæˆè¾“å…¥åï¼ŒæŒ‰ &lt;code>esc&lt;/code> å›åˆ°ä¸€èˆ¬æ¨¡å¼&lt;/p>
&lt;/li>
&lt;li>
&lt;p>è¾“å…¥ &lt;code>:wq&lt;/code> ï¼Œå›è½¦ï¼ˆæ„ä¸ºä¿å­˜-ç¦»å¼€ï¼‰&lt;/p>
&lt;/li>
&lt;li>
&lt;p>ä¸æ”¾å¿ƒå¯ä»¥å†æ¬¡è¿›å…¥ daemon.json æ£€æŸ¥æ˜¯å¦æˆåŠŸå†™å…¥ï¼Œæ•ˆæœç±»ä¼¼ï¼š&lt;/p>
&lt;/li>
&lt;/ul>
&lt;!-- raw HTML omitted -->
&lt;p>äº†è§£ï¼š&lt;a class="link" href="https://www.runoob.com/linux/linux-vim.html" target="_blank" rel="noopener"
>Linux vi/vim æ˜¯ä»€ä¹ˆï¼Œæ€ä¹ˆä½¿ç”¨&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
&lt;/p>
&lt;p>é‡å¯ Docker æœåŠ¡&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">sudo systemctl daemon-reload
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sudo systemctl restart docker
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h5 id="æ£€æŸ¥-docker-æ˜¯å¦æ­£åœ¨è¿è¡Œ">æ£€æŸ¥ Docker æ˜¯å¦æ­£åœ¨è¿è¡Œ&lt;/h5>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">sudo systemctl status docker
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;!-- raw HTML omitted -->
&lt;p>æ¢ä¸ªæ–¹å¼ï¼Œå†æµ‹è¯•ä¸€ä¸‹&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">sudo docker run hello-world
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;!-- raw HTML omitted -->
&lt;p>ç»ˆäºæˆåŠŸäº† ğŸ˜­&lt;/p>
&lt;h2 id="misskey">Misskey&lt;/h2>
&lt;h3 id="åˆ›å»ºå®‰è£…ç›®å½•">åˆ›å»ºå®‰è£…ç›®å½•&lt;/h3>
&lt;p>ä¹‹å‰ç»™ Docker çš„æ•°æ®å’Œé…ç½®æ–‡ä»¶æ–°å»ºä¸€ä¸ªç›®å½• &lt;code>docker_data&lt;/code>ï¼Œè¿™ä¸ªæ–‡ä»¶å¤¹å°±æ˜¯åŒ…ä½æ•´ä¸ª Misskey çš„ç›’å­&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">sudo mkdir -p data/docker_data
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>è¿›å…¥ç›®å½•&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="nb">cd&lt;/span> data/docker_data
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>åˆ›å»º misskey æ–‡ä»¶å¤¹&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">sudo mkdir misskey
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="é…ç½®å®‰è£…æ–‡ä»¶">é…ç½®å®‰è£…æ–‡ä»¶&lt;/h3>
&lt;p>è¿›å…¥ misskey æ–‡ä»¶å¤¹&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="nb">cd&lt;/span> misskey
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>åˆ›å»ºå¹¶ç¼–è¾‘ yml æ–‡ä»¶ï¼Œè®©å®ƒå»éƒ¨ç½²&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">sudo vim docker-compose.yml
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>æŒ‰ &lt;code>I&lt;/code>ï¼Œåˆ‡æ¢åˆ°ç¼–è¾‘æ¨¡å¼ï¼ŒæŠŠä»¥ä¸‹å†…å®¹ç²˜è´´è¿›å»&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-yml" data-lang="yml">&lt;span class="line">&lt;span class="cl">&lt;span class="c"># Misskey minimal deploy config&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">version&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s1">&amp;#39;3&amp;#39;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">services&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">web&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">restart&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">unless-stopped&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c"># alwaysæ„å‘³ç€è‡ªåŠ¨é‡å¯ï¼Œè¯·æ³¨æ„å¦‚æœæ‚¨å¯¹æ‚¨çš„é…ç½®æ²¡æœ‰ä¿¡å¿ƒï¼Œè¯·ä¸è¦å¼€å¯è¿™ä¸ªé€‰é¡¹ï¼Œä»¥é¿å…è¿›ç¨‹å´©æºƒåå¤é‡å¯è€—è´¹å¤§é‡èµ„æºï¼&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">image&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">misskey/misskey:latest&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c"># è¿™é‡Œä½¿ç”¨äº†å®˜æ–¹é•œåƒï¼Œä»¥é¿å…æœ¬åœ°æ„å»ºæ—¶èµ„æºä¸è¶³çš„é—®é¢˜&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">container_name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">misskey_web&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c"># å®¹å™¨åï¼Œæ–¹ä¾¿ç®¡ç†ï¼Œæ‚¨å¯ä»¥è‡ªè¡Œä¿®æ”¹ä¸ºæ‚¨è§‰å¾—åˆé€‚çš„å†…å®¹&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">links&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">db&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">redis&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">ports&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="s1">&amp;#39;3001:3001&amp;#39;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">networks&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">internal_network&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">external_network&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">volumes&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">./config:/misskey/.config:ro&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c"># ç”¨äºæ˜ å°„é…ç½®æ–‡ä»¶ï¼Œè¯·æ ¹æ®æ‚¨çš„å®é™…é…ç½®æ¥å†³å®šæ–‡ä»¶å¤¹åç§°ï¼Œè®¾å®šä¸ºåªè¯»å³å¯ï¼›&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">./files:/misskey/files&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c"># ç”¨æˆ·ä¸Šä¼ åˆ°æœ¬åœ°çš„æ–‡ä»¶ï¼Œå¦‚æœæ‚¨ä¸€å¼€å§‹å°±æ¥å…¥å¤–éƒ¨å­˜å‚¨ï¼ˆå¦‚wasabiæˆ–æ˜¯AWS S3ï¼‰æ‚¨å¯ä»¥å¿½ç•¥è¿™å—é…ç½®&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">redis&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">restart&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">unless-stopped&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">image&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">redis:latest&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">container_name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">misskey_redis&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">networks&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">internal_network&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">volumes&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">./redis:/data&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c"># redisæ•°æ®åº“çš„æ•°æ®æ–‡ä»¶å¤¹æ˜ å°„ï¼Œåˆ›å»ºåé»˜è®¤åœ¨ ./redis æ–‡ä»¶å¤¹ä¸­&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">db&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">restart&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">unless-stopped&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">image&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">postgres:12.2-alpine&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">container_name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">misskey_db&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">networks&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">internal_network&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">env_file&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">./config/docker.env&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c"># éœ€è¦ä½¿ç”¨é…ç½®æ–‡ä»¶ä¸­è®¾ç½®çš„ Docker ç¯å¢ƒå˜é‡&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">volumes&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">./db:/var/lib/postgresql/data&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c"># ä¸»æ•°æ®åº“çš„æ•°æ®æ–‡ä»¶å¤¹æ˜ å°„ï¼Œåˆ›å»ºåé»˜è®¤åœ¨ ./db æ–‡ä»¶å¤¹ä¸­&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">networks&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">internal_network&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c"># å†…éƒ¨ç½‘ç»œ&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">internal&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kc">true&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">external_network&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c"># å¤–éƒ¨ç½‘&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>æŒ‰ &lt;code>esc&lt;/code> ï¼ŒæŒ‰ &lt;code>:wq&lt;/code> ï¼Œå›è½¦ï¼ˆä¿å­˜-é€€å‡ºï¼‰&lt;/p>
&lt;p>åˆ›å»º &lt;code>config/default.yml&lt;/code> ç›®å½•å¹¶è¿›å…¥ yml æ–‡ä»¶ä¸­&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">sudo mkdir config
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">cd&lt;/span> config
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sudo vim default.yml
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>æŒ‰ &lt;code>I&lt;/code>ï¼Œåˆ‡æ¢åˆ°ç¼–è¾‘æ¨¡å¼ï¼Œå¡«å…¥ä»¥ä¸‹å†…å®¹&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-yml" data-lang="yml">&lt;span class="line">&lt;span class="cl">&lt;span class="c">#â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c"># Misskey configuration&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c">#â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c"># â”Œâ”€â”€â”€â”€â”€â”&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c">#â”€â”€â”€â”˜ URL â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c"># Final accessible URL seen by a user.&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">url&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">https://ponderduck.cc/&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c"># æ³¨æ„æ”¹æˆè‡ªå·±æœ€ååå‘ä»£ç†æƒ³è¦çš„ç½‘å€&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c"># ONCE YOU HAVE STARTED THE INSTANCE, DO NOT CHANGE THE&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c"># URL SETTINGS AFTER THAT!&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c"># â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c">#â”€â”€â”€â”˜ Port and TLS settings â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c">#&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c"># Misskey requires a reverse proxy to support HTTPS connections.&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c">#&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c"># +----- https://example.tld/ ------------+&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c"># +------+ |+-------------+ +----------------+|&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c"># | User | ---&amp;gt; || Proxy (443) | ---&amp;gt; | Misskey (3000) ||&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c"># +------+ |+-------------+ +----------------+|&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c"># +---------------------------------------+&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c">#&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c"># You need to set up a reverse proxy. (e.g. nginx)&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c"># An encrypted connection with HTTPS is highly recommended&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c"># because tokens may be transferred in GET requests.&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c"># The port that your Misskey server should listen on.&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">port&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="m">3001&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c"># â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c">#â”€â”€â”€â”˜ PostgreSQL configuration â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">db&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">host&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">db&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">port&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="m">5432&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c"># Database name&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">db&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">misskey&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c"># Auth&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">user&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">example-misskey-user&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">pass&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">example-misskey-pass&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c"># Whether disable Caching queries&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c">#disableCache: true&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c"># Extra Connection options&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c">#extra:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c"># ssl: true&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c"># â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c">#â”€â”€â”€â”˜ Redis configuration â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">redis&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">host&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">redis&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">port&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="m">6379&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c">#family: 0 # 0=Both, 4=IPv4, 6=IPv6&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c">#pass: example-pass&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c">#prefix: example-prefix&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c">#db: 1&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c"># â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c">#â”€â”€â”€â”˜ Elasticsearch configuration â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c">#elasticsearch:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c"># host: localhost&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c"># port: 9200&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c"># ssl: false&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c"># user:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c"># pass:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c"># â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c">#â”€â”€â”€â”˜ ID generation â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c"># You can select the ID generation method.&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c"># You don&amp;#39;t usually need to change this setting, but you can&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c"># change it according to your preferences.&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c"># Available methods:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c"># aid ... Short, Millisecond accuracy&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c"># meid ... Similar to ObjectID, Millisecond accuracy&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c"># ulid ... Millisecond accuracy&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c"># objectid ... This is left for backward compatibility&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c"># ONCE YOU HAVE STARTED THE INSTANCE, DO NOT CHANGE THE&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c"># ID SETTINGS AFTER THAT!&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">id&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s1">&amp;#39;aid&amp;#39;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c"># â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c">#â”€â”€â”€â”˜ Other configuration â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c"># Whether disable HSTS&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c">#disableHsts: true&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c"># Number of worker processes&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c">#clusterLimit: 1&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c"># Job concurrency per worker&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c"># deliverJobConcurrency: 128&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c"># inboxJobConcurrency: 16&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c"># Job rate limiter&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c"># deliverJobPerSec: 128&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c"># inboxJobPerSec: 16&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c"># Job attempts&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c"># deliverJobMaxAttempts: 12&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c"># inboxJobMaxAttempts: 8&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c"># IP address family used for outgoing request (ipv4, ipv6 or dual)&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c">#outgoingAddressFamily: ipv4&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c"># Syslog option&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c">#syslog:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c"># host: localhost&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c"># port: 514&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c"># Proxy for HTTP/HTTPS&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c">#proxy: http://127.0.0.1:3128&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c">#proxyBypassHosts: [&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c"># &amp;#39;example.com&amp;#39;,&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c"># &amp;#39;192.0.2.8&amp;#39;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c">#]&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c"># Proxy for SMTP/SMTPS&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c">#proxySmtp: http://127.0.0.1:3128 # use HTTP/1.1 CONNECT&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c">#proxySmtp: socks4://127.0.0.1:1080 # use SOCKS4&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c">#proxySmtp: socks5://127.0.0.1:1080 # use SOCKS5&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c"># Media Proxy&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c">#mediaProxy: https://example.com/proxy&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c"># Proxy remote files (default: false)&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c">#proxyRemoteFiles: true&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c"># Sign to ActivityPub GET request (default: false)&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c">#signToActivityPubGet: true&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c">#allowedPrivateNetworks: [&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c"># &amp;#39;127.0.0.1/32&amp;#39;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c">#]&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c"># Upload or download file size limits (bytes)&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c">#maxFileSize: 262144000&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>æŒ‰ &lt;code>esc&lt;/code> ï¼ŒæŒ‰ &lt;code>:wq&lt;/code> ï¼Œå›è½¦ï¼ˆä¿å­˜-é€€å‡ºï¼‰&lt;/p>
&lt;p>è¿›å…¥ env æ–‡ä»¶&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">sudo vim docker.env
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>æŒ‰ &lt;code>I&lt;/code>ï¼Œåˆ‡æ¢åˆ°ç¼–è¾‘æ¨¡å¼ï¼Œå¡«å†™å¦‚ä¸‹å†…å®¹&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-yaml" data-lang="yaml">&lt;span class="line">&lt;span class="cl">&lt;span class="c"># db settings&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="l">POSTGRES_PASSWORD=example-misskey-pass&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="l">POSTGRES_USER=example-misskey-user&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="l">POSTGRES_DB=misskey&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="éƒ¨ç½²">éƒ¨ç½²&lt;/h3>
&lt;p>è¿˜è®°å¾—æˆ‘è¯´ã€Œåˆ›å»ºå¹¶ç¼–è¾‘ yml æ–‡ä»¶ï¼Œè®©å®ƒå»éƒ¨ç½²ã€å—ï¼Ÿ&lt;/p>
&lt;p>ç°åœ¨æ–‡ä»¶å·²ç»é…ç½®å®Œæ¯•äº†ï¼Œæ˜¯æ—¶å€™è®©å®ƒè·‘èµ·æ¥äº†ï¼&lt;/p>
&lt;p>åŒæ‰‹åˆå ğŸ™&lt;/p>
&lt;p>åˆ‡æ¢åˆ°ä¸Šä¸€çº§ç›®å½•&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="nb">cd&lt;/span> ..
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>åˆå§‹åŒ–æ•°æ®åº“&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">sudo docker-compose run --rm web yarn run init
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>åå°å¯åŠ¨é¡¹ç›®å®¹å™¨&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">sudo docker-compose up -d
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="è®¿é—®ç«™ç‚¹">è®¿é—®ç«™ç‚¹&lt;/h3>
&lt;p>æŸ¥çœ‹ç«¯å£çŠ¶æ€&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">sudo lsof -i:&amp;lt;port&amp;gt;
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>å‡å¦‚è¿™ä¸ªç«¯å£ä¸èƒ½ç”¨ï¼Œé‚£å°±æ¢ä¸€ä¸ªã€‚&lt;/p>
&lt;p>æ–°ç«¯å£è¦åœ¨æœåŠ¡å•†é˜²ç«å¢™ã€ufw å‘½ä»¤ã€&lt;code>default.yml&lt;/code> å’Œ &lt;code>docker-compose.yml&lt;/code> é‡Œéƒ½å¼€å¯ã€æ”¹è¿‡æ¥&lt;/p>
&lt;p>ç„¶åé‡å¯ Docker&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">sudo docker-compose restart &lt;span class="o">[&lt;/span>æŒ‡å®šæœåŠ¡çš„å®¹å™¨&lt;span class="o">]&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>å®Œæˆè¿™ä¸€æ­¥ä¹‹åï¼Œå°è¯•ç”¨ IP è®¿é—®ç«™ç‚¹å§&lt;/p>
&lt;p>åœ¨æµè§ˆå™¨è¾“å…¥ &lt;code>http://&amp;lt;ip&amp;gt;:&amp;lt;port&amp;gt;&lt;/code>ï¼ˆIP å¯ä»¥ç”¨ &lt;code>curl ip.sb&lt;/code> è¿”å›ï¼‰&lt;/p>
&lt;!-- raw HTML omitted -->
&lt;p>ï¼ˆï¼›&lt;/p>
&lt;p>è¿˜æœ‰ä¸¤ä¸ªä»»åŠ¡&lt;/p>
&lt;ul>
&lt;li>SSL è¯ä¹¦&lt;/li>
&lt;li>åå‘ä»£ç†&lt;/li>
&lt;/ul>
&lt;h3 id="nginx">Nginx&lt;/h3>
&lt;h4 id="å®‰è£…-nginx">å®‰è£… Nginx&lt;/h4>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">sudo apt update
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sudo apt install nginx
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>è°ƒæ•´é˜²ç«å¢™ï¼Œå…è®¸ Nginx æœåŠ¡é€šè¿‡&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">sudo ufw allow &lt;span class="s1">&amp;#39;Nginx HTTP&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sudo ufw allow &lt;span class="s1">&amp;#39;Nginx HTTPS&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sudo ufw allow &lt;span class="s1">&amp;#39;Nginx FULL&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>æŸ¥çœ‹æ›´æ”¹ç»“æœ&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">sudo ufw status
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>æŸ¥çœ‹ Nginx çŠ¶æ€ï¼ˆæ˜¯ active å°±è¡Œï¼‰&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">systemctl status nginx
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>åœ¨æµè§ˆå™¨è¾“å…¥ http://your_vps_ipï¼Œè¿”å› Nginx é»˜è®¤é¡µé¢&lt;/p>
&lt;!-- raw HTML omitted -->
&lt;p>è®© Nginx åœ¨ç³»ç»Ÿå¯åŠ¨æ—¶è‡ªåŠ¨å¯åŠ¨&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">sudo systemctl &lt;span class="nb">enable&lt;/span> nginx
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h4 id="è®¾ç½®æœåŠ¡å™¨å—">è®¾ç½®æœåŠ¡å™¨å—&lt;/h4>
&lt;p>åˆ›å»ºç«™ç‚¹å¯¹åº”ç›®å½•&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">sudo mkdir -p /var/www/ponderduck.cc/html
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>ä½¿ç”¨&lt;code>$USER&lt;/code>ç¯å¢ƒå˜é‡åˆ†é…ç›®å½•çš„æ‰€æœ‰æƒ&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">sudo chown -R $USER:$USER /var/www/ponderduck.cc/html
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>å¦‚æœæˆ‘ä»¬æ²¡æœ‰ä¿®æ”¹è‡ªå·±çš„&lt;code>umask&lt;/code>å€¼ï¼Œé‚£ä¹ˆ Web æ ¹ç›®å½•çš„æƒé™åº”è¯¥æ­£ç¡®ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡è¾“å…¥ä»¥ä¸‹å‘½ä»¤æ¥ç¡®è®¤ï¼š&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">sudo chmod -R &lt;span class="m">755&lt;/span> /var/www/ponderduck.cc
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>ç¼–è¾‘&lt;code>index.html&lt;/code>&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">sudo vim /var/www/ponderduck.cc/html/index.html
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>æ·»åŠ ä»¥ä¸‹ç¤ºä¾‹ HTML&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-html" data-lang="html">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">html&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">head&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">title&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>Welcome to ponderduck.cc!&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">title&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">head&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">body&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">h1&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>Success! The ponderduck.cc server block is working!&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">h1&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">body&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">html&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>ä¸º Nginx åˆ›å»ºä¸€ä¸ªæœåŠ¡å™¨å—&lt;/p>
&lt;p>åˆ›å»ºä¸€ä¸ªæ–°æ–‡ä»¶&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">sudo vim /etc/nginx/sites-available/ponderduck.conf
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>æ·»åŠ ä»¥ä¸‹å†…å®¹&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">server &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> listen 80&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> listen &lt;span class="o">[&lt;/span>::&lt;span class="o">]&lt;/span>:80&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> root /var/www/ponderduck.cc/html&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> index index.html index.htm index.nginx-debian.html&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> server_name ponderduck.cc www.ponderduck.cc&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> location / &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> try_files &lt;span class="nv">$uri&lt;/span> &lt;span class="nv">$uri&lt;/span>/ &lt;span class="o">=&lt;/span>404&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>é€šè¿‡ ls å‘½ä»¤åœ¨&lt;code>sites-enabled&lt;/code>ç›®å½•æ–°å»ºä¸€ä¸ªé“¾æ¥ï¼Œå¥½è®© Nginx åœ¨å¯åŠ¨è¿‡ç¨‹ä¸­ä¼šè¯»å–è¿™ä¸ªç›®å½•ï¼š&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">sudo ln -s /etc/nginx/sites-available/ponderduck.conf /etc/nginx/sites-enabled/
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>æ‰“å¼€æ–‡ä»¶ï¼š&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">sudo vim /etc/nginx/nginx.conf
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>æ‰¾åˆ°&lt;code>server_names_hash_bucket_size&lt;/code>æŒ‡ä»¤å¹¶åˆ é™¤&lt;code>#&lt;/code>ç¬¦å·ï¼š&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">...
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">http &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> ...
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> server_names_hash_bucket_size 64&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> ...
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">...
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>æ¥ä¸‹æ¥ï¼Œæµ‹è¯•ä»¥ç¡®ä¿æˆ‘ä»¬åœ¨ Nginx æ–‡ä»¶ä¸­çš„æ”¹åŠ¨ï¼Œæ²¡æœ‰ä»»ä½•é—®é¢˜ï¼š&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">sudo nginx -t
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>å¦‚æœæ²¡æœ‰ä»»ä½•é—®é¢˜ï¼Œè¯·é‡æ–°å¯åŠ¨ Nginxï¼š&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">sudo systemctl restart nginx
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>ç°åœ¨é€šè¿‡ &lt;a class="link" href="http://ponderduck.cc" target="_blank" rel="noopener"
>http://ponderduck.cc&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
è®¿é—®æœåŠ¡å™¨çš„æ—¶å€™ï¼ŒNginx ä¼šæŒ‡å‘æˆ‘ä»¬åˆšåˆšæ·»åŠ çš„é‚£ä¸ª HTML é¡µé¢&lt;/p>
&lt;h4 id="ssl">SSL&lt;/h4>
&lt;h5 id="å®‰è£…-certbot">å®‰è£… Certbot&lt;/h5>
&lt;p>æˆ‘ä»¬éœ€è¦è·å¾—è¢«ä¿¡ä»»çš„è¯ä¹¦æˆæƒä¸­å¿ƒï¼ˆ CA ï¼‰ç­¾å‘çš„å®‰å…¨è¯ä¹¦ã€‚Letâ€™s Encrypt æ˜¯ ISRG ï¼ˆ Internet Security Research Group ï¼Œäº’è”ç½‘å®‰å…¨ç ”ç©¶å°ç»„ï¼‰çš„ç»„ç»‡æ¨å‡ºçš„å…è´¹å®‰å…¨è¯ä¹¦è®¡åˆ’ã€‚&lt;/p>
&lt;p>ISRG çš„å‘èµ·è€… EFF ï¼ˆç”µå­å‰å“¨åŸºé‡‘ä¼šï¼‰ä¸º Letâ€™s Encrypt é¡¹ç›®å‘å¸ƒäº†ä¸€ä¸ªå®˜æ–¹çš„å®¢æˆ·ç«¯ Certbot ï¼Œåˆ©ç”¨å®ƒå¯ä»¥å®Œå…¨è‡ªåŠ¨åŒ–çš„è·å–ã€éƒ¨ç½²å’Œæ›´æ–°å®‰å…¨è¯ä¹¦&lt;/p>
&lt;p>å®‰è£… Certbot&lt;/p>
&lt;p>å» &lt;a class="link" href="https://certbot.eff.org/" target="_blank" rel="noopener"
>å®˜ç½‘&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
é€‰æ‹©æˆ‘æ­£åœ¨ä½¿ç”¨çš„ Web æœåŠ¡å™¨ï¼ˆNginxï¼‰å’Œæ“ä½œç³»ç»Ÿï¼ˆUbuntu 20ï¼‰ï¼Œæ“ä½œå¯¹åº”çš„å®‰è£…æ­¥éª¤&lt;/p>
&lt;p>Ubuntu è‡ªå¸¦ Snapï¼Œç”¨ Snap å®‰è£… Certbot&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">sudo snap install --classic certbot
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>ç”¨ ln å‘½ä»¤åˆ›å»ºç¬¦å·è¿æ¥ï¼Œå°† Certbot åŠ å…¥ PATH ç¯å¢ƒå˜é‡ä¸­&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">sudo ln -s /snap/bin/certbot /usr/bin/certbot
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h5 id="ç”Ÿæˆ-ssl-è¯ä¹¦">ç”Ÿæˆ SSL è¯ä¹¦&lt;/h5>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">sudo certbot --nginx -d www.ponderduck.cc
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>è¾“å…¥é‚®ç®±åœ°å€ï¼Œç”¨äºæ¥æ”¶é‚®ä»¶&lt;/p>
&lt;p>è¾“å…¥ &lt;code>Y&lt;/code>ï¼ŒåŒæ„åè®®ï¼›è¯¢é—®æ˜¯å¦æ¥æ”¶å‰å“¨åŸºé‡‘ä¼šçš„é‚®ä»¶ï¼Œæ¥ä¸æ¥æ”¶éƒ½è¡Œ&lt;/p>
&lt;p>è¿”å›ï¼ˆæ³¨æ„è¯ä¹¦å‚¨å­˜ä½ç½®ï¼‰&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">Successfully received certificate.
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Certificate is saved at: /etc/letsencrypt/live/www.ponderduck.cc/fullchain.pem
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Key is saved at: /etc/letsencrypt/live/www.ponderduck.cc/privkey.pem
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">This certificate expires on 2023-02-18.
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">These files will be updated when the certificate renews.
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Certbot has set up a scheduled task to automatically renew this certificate in the background.
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Let&amp;rsquo;s Encrypt çš„ SSL è¯ä¹¦ä¼šåœ¨ 90 å¤©åè¿‡æœŸï¼Œä½†æ˜¯ Certbot ä¼šè‡ªåŠ¨ç»­è®¢&lt;/p>
&lt;p>æµ‹è¯•è¯ä¹¦è‡ªåŠ¨ç»­è®¢æ˜¯å¦ç”Ÿæ•ˆ&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">sudo certbot renew --dry-run
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>è¿”å› â¬‡ï¸ è¯´æ˜å·²ç”Ÿæ•ˆ&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">Simulating renewal of an existing certificate for www.ponderduck.cc
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>æ‰¾åˆ°å­˜æ”¾ç«™ç‚¹è¯ä¹¦çš„ç›®å½•&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">sudo ls /etc/letsencrypt/live
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>æˆ‘çš„æ˜¯&lt;code>www.ponderduck.cc &lt;/code>&lt;/p>
&lt;p>æŸ¥è¯¢è¯ä¹¦&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">sudo ls /etc/letsencrypt/live/www.ponderduck.cc
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>è¿”å›æ–‡ä»¶å&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">cert.pem chain.pem fullchain.pem privkey.pem
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>åä¸¤ä¸ªè¦æ·»åŠ åˆ° Nginx é…ç½®æ–‡ä»¶ &lt;code>.conf&lt;/code> é‡Œ&lt;/p>
&lt;h4 id="åå‘ä»£ç†">åå‘ä»£ç†&lt;/h4>
&lt;p>ä¿®æ”¹ç½‘ç«™é…ç½®æ–‡ä»¶&lt;/p>
&lt;p>å‚è€ƒ &lt;a class="link" href="https://misskey-hub.net/en/docs/admin/nginx.html" target="_blank" rel="noopener"
>å®˜ç½‘æ–‡æ¡£&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
ï¼Œä»¥ä¸‹æ˜¯æˆ‘çš„å®Œæ•´æ–‡ä»¶å†…å®¹&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl"># For WebSocket
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">map $http_upgrade $connection_upgrade {
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> default upgrade;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;#39;&amp;#39; close;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">}
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">proxy_cache_path /tmp/nginx_cache levels=1:2 keys_zone=cache1:16m max_size=1g inactive=720m use_temp_path=off;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">server {
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> listen 80;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> listen [::]:80;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> server_name www.ponderduck.cc ponderduck.cc;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> # For SSL domain validation
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> root /var/www/html;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> location /.well-known/acme-challenge/ { allow all; }
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> location /.well-known/pki-validation/ { allow all; }
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> location / { return 301 https://$server_name$request_uri; }
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">}
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">server {
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> listen [::]:443 ssl http2;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> listen 443 ssl http2;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> server_name ponderduck.cc www.ponderduck.cc;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> ssl_session_cache shared:ssl_session_cache:10m;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> # ssl
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> ssl_certificate /etc/letsencrypt/live/www.ponderduck.cc/fullchain.pem;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> ssl_certificate_key /etc/letsencrypt/live/www.ponderduck.cc/privkey.pem;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> include /etc/letsencrypt/options-ssl-nginx.conf;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> ssl_dhparam /etc/letsencrypt/ssl-dhparams.pem;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> ssl_stapling on;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> ssl_stapling_verify on;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> # Change to your upload limit
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> client_max_body_size 80m;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> # å¯¹&amp;#34;/&amp;#34;å¯ç”¨åå‘ä»£ç†
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> location / {
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> # æŒ‡å®šè½¬å‘åœ°å€
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> proxy_pass http://127.0.0.1:3001;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> proxy_set_header Host $host;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> proxy_http_version 1.1;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> proxy_redirect off;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> proxy_set_header Upgrade $http_upgrade;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> proxy_set_header Connection $connection_upgrade;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> proxy_cache cache1;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> proxy_cache_lock on;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> proxy_cache_use_stale updating;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> add_header X-Cache $upstream_cache_status;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> }
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">}
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>æ¥ä¸‹æ¥ï¼Œæµ‹è¯•ä»¥ç¡®ä¿æˆ‘ä»¬åœ¨ Nginx æ–‡ä»¶ä¸­çš„æ”¹åŠ¨ï¼Œæ²¡æœ‰ä»»ä½•é—®é¢˜ï¼š&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">sudo nginx -t
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>æœ‰é—®é¢˜çš„è¯æŒ‰ç…§æç¤ºä¿®æ”¹ï¼Œåšå®Œä¹‹åï¼Œé‡æ–°å¯åŠ¨ Nginxï¼š&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">sudo systemctl restart nginx
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>ç°åœ¨ SSL è¯ä¹¦å’Œåå‘ä»£ç†éƒ½ç”Ÿæ•ˆäº†ï¼Œå°è¯•ç”¨åŸŸåè®¿é—®ç«™ç‚¹&lt;/p>
&lt;!-- raw HTML omitted -->
&lt;p>å®Œæˆ ğŸ‰&lt;/p>
&lt;p>æ³¨å†Œä¸€ä¸ªè´¦å·ï¼Œå›åˆ°å‘½ä»¤è¡Œå·¥å…·æŠŠå®ƒè®¾ç½®ä¸ºç®¡ç†å‘˜&lt;/p>
&lt;h2 id="æ—¥å¸¸ç»´æŠ¤">æ—¥å¸¸ç»´æŠ¤&lt;/h2>
&lt;h3 id="æ›´æ–°">æ›´æ–°&lt;/h3>
&lt;p>Docker-compose éƒ¨ç½²&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="nb">cd&lt;/span> data/docker_data/misskey
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">docker-compose down
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">cp -r /root/data/docker_data/misskey /root/data/docker_data/misskey.archive &lt;span class="c1"># ä¸‡äº‹å…ˆå¤‡ä»½ï¼Œä»¥é˜²ä¸‡ä¸€ï¼Œå…¶å®è¿™è¾¹æ²¡å¿…è¦ï¼Œå› ä¸ºæˆ‘ä»¬æ²¡æœ‰æ˜ å°„åˆ°æœ¬åœ°æ–‡ä»¶å¤¹&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">docker-compose pull
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">docker-compose up -d &lt;span class="c1"># è¯·ä¸è¦ä½¿ç”¨docker-compose stopæ¥åœæ­¢å®¹å™¨ï¼Œå› ä¸ºè¿™ä¹ˆåšéœ€è¦é¢å¤–çš„æ—¶é—´ç­‰å¾…å®¹å™¨åœæ­¢ï¼›docker-compose up -dç›´æ¥å‡çº§å®¹å™¨æ—¶ä¼šè‡ªåŠ¨åœæ­¢å¹¶ç«‹åˆ»é‡å»ºæ–°çš„å®¹å™¨ï¼Œå®Œå…¨æ²¡æœ‰å¿…è¦æµªè´¹é‚£äº›æ—¶é—´ã€‚&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">docker image prune &lt;span class="c1"># prune å‘½ä»¤ç”¨æ¥åˆ é™¤ä¸å†ä½¿ç”¨çš„ docker å¯¹è±¡ã€‚åˆ é™¤æ‰€æœ‰æœªè¢« tag æ ‡è®°å’Œæœªè¢«å®¹å™¨ä½¿ç”¨çš„é•œåƒ&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>æç¤ºï¼š&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">WARNING! This will remove all dangling images.
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Are you sure you want to continue? [y/N]
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>è¾“å…¥ &lt;code>y&lt;/code>&lt;/p>
&lt;h3 id="å¸è½½">å¸è½½&lt;/h3>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">cd /root/data/docker_data/misskey
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">docker-compose down
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">rm -rf /root/data/docker_data/misskey # å®Œå…¨åˆ é™¤æ˜ å°„åˆ°æœ¬åœ°çš„æ•°æ®
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="åˆ é™¤æ—§æ•°æ®">åˆ é™¤æ—§æ•°æ®&lt;/h3>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">docker system prune
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="ç£ç›˜ç©ºé—´åˆ†æåŠæ¸…ç†">ç£ç›˜ç©ºé—´åˆ†æåŠæ¸…ç†&lt;/h3>
&lt;p>å†…å®¹ä¸»è¦æ¥æºï¼šhttps://www.cnblogs.com/jing99/p/10487174.html&lt;/p>
&lt;p>æœ‰æ—¶å€™è¦ç”¨ &lt;code>sudo&lt;/code>&lt;/p>
&lt;h4 id="df-å‘½ä»¤">df å‘½ä»¤&lt;/h4>
&lt;p>å¯ä»¥æŸ¥çœ‹ä¸€çº§æ–‡ä»¶å¤¹å¤§å°ã€ä½¿ç”¨æ¯”ä¾‹ã€æ¡£æ¡ˆç³»ç»Ÿå’ŒæŒ‚å…¥ dian&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">[root@oms ~]# df -Th
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Filesystem Type Size Used Avail Use% Mounted on
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">/dev/vda1 ext4 40G 35G 3.1G 92% /
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">devtmpfs devtmpfs 1.9G 0 1.9G 0% /dev
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">tmpfs tmpfs 1.9G 0 1.9G 0% /dev/shm
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">tmpfs tmpfs 1.9G 191M 1.7G 11% /run
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">tmpfs tmpfs 1.9G 0 1.9G 0% /sys/fs/cgroup
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">tmpfs tmpfs 379M 0 379M 0% /run/user/0
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>ä¸ƒä¸ªå­—æ®µåˆ†åˆ«ä¸ºæ¡£æ¡ˆç³»ç»Ÿã€ç±»å‹ã€è¯¥åˆ†å‰²åŒºçš„å®¹é‡ã€å·²ä½¿ç”¨çš„å¤§å°ã€å‰©ä¸‹çš„å¤§å°ã€ä½¿ç”¨çš„ç™¾åˆ†æ¯”å’ŒæŒ‚å…¥ç‚¹&lt;/p>
&lt;h4 id="du-å‘½ä»¤">du å‘½ä»¤&lt;/h4>
&lt;p>ç”¨æ¥æŸ¥çœ‹ç›®å½•æˆ–æ–‡ä»¶æ‰€å ç”¨ç£ç›˜ç©ºé—´çš„å¤§å°ã€‚å¸¸ç”¨é€‰é¡¹ç»„åˆä¸ºï¼š&lt;code>du -sh [ç›®å½•]&lt;/code>&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">du -s ç›®å½• | sort -rn #è¿™æ˜¯æŒ‰å­—èŠ‚æ’åº
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">du -sh ç›®å½• | sort -rn #è¿™æ˜¯æŒ‰å…†ï¼ˆMï¼‰æ¥æ’åº
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">#ç”±äº-shå¤§å°æ˜¾ç¤ºçœ‹èµ·æ¥æ˜¯ä¹±çš„ï¼Œå› æ­¤å»ºè®®ä½¿ç”¨du -s|sort -nr
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">du -s ç›®å½• | sort -rn | head #é€‰å‡ºæ’åœ¨å‰é¢çš„10ä¸ª
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">du -s ç›®å½• | sort -rn | tail #é€‰å‡ºæ’åœ¨åé¢çš„10ä¸ª
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>å¸¸ç”¨é€‰é¡¹&lt;/p>
&lt;blockquote>
&lt;p>-hï¼šä»¥äººç±»å¯è¯»çš„æ–¹å¼æ˜¾ç¤º&lt;/p>
&lt;p>-aï¼šæ˜¾ç¤ºç›®å½•å ç”¨çš„ç£ç›˜ç©ºé—´å¤§å°ï¼Œè¿˜è¦æ˜¾ç¤ºå…¶ä¸‹ç›®å½•å’Œæ–‡ä»¶å ç”¨ç£ç›˜ç©ºé—´çš„å¤§å°&lt;/p>
&lt;p>-sï¼šåªæ˜¾ç¤º&lt;strong>ç›®å½•å ç”¨çš„ç£ç›˜ç©ºé—´&lt;/strong>å¤§å°ï¼Œä¸æ˜¾ç¤ºå…¶å­ç›®å½•å’Œæ–‡ä»¶å ç”¨çš„ç£ç›˜ç©ºé—´å¤§å°&lt;/p>
&lt;p>-cï¼šæ˜¾ç¤ºå‡ ä¸ª&lt;strong>ç›®å½•æˆ–æ–‡ä»¶å ç”¨çš„ç£ç›˜&lt;/strong>ç©ºé—´å¤§å°ï¼Œè¿˜è¦ç»Ÿè®¡å®ƒä»¬çš„æ€»å’Œ&lt;/p>
&lt;p>&amp;ndash;apparent-sizeï¼šæ˜¾ç¤ºç›®å½•æˆ–æ–‡ä»¶è‡ªèº«çš„å¤§å°(æ–‡ä»¶æˆ–ç›®å½•å ç”¨ç£ç›˜ç©ºé—´çš„å¤§å°ä¸å®ƒä»¬è‡ªèº«å¤§å°æœ‰æ—¶å€™å¹¶éå®Œå…¨ä¸€è‡´)&lt;/p>
&lt;p>-l ï¼šç»Ÿè®¡ç¡¬é“¾æ¥å ç”¨ç£ç›˜ç©ºé—´çš„å¤§å°&lt;/p>
&lt;p>-Lï¼šç»Ÿè®¡ç¬¦å·é“¾æ¥æ‰€æŒ‡å‘çš„æ–‡ä»¶å ç”¨çš„ç£ç›˜ç©ºé—´å¤§å°ã€‚&lt;/p>
&lt;/blockquote>
&lt;h4 id="rm-å‘½ä»¤">rm å‘½ä»¤&lt;/h4>
&lt;p>æ…ç”¨&lt;/p>
&lt;p>ä»¥ä¸‹å¾…åšï¼š&lt;/p>
&lt;p>&lt;a class="link" href="https://fediverse.eu.org/discussion/15/%E7%BB%99%E6%96%B0%E7%AB%99%E9%95%BF-%E5%BB%BA%E7%AB%99%E5%90%8E%E5%8F%AF%E5%8F%82%E8%80%83%E7%9A%84%E8%BF%90%E7%BB%B4%E5%8F%8A%E8%A3%85%E4%BF%AE%E7%9B%B8%E5%85%B3%E6%93%8D%E4%BD%9C#latest" target="_blank" rel="noopener"
>https://fediverse.eu.org/discussion/15/%E7%BB%99%E6%96%B0%E7%AB%99%E9%95%BF-%E5%BB%BA%E7%AB%99%E5%90%8E%E5%8F%AF%E5%8F%82%E8%80%83%E7%9A%84%E8%BF%90%E7%BB%B4%E5%8F%8A%E8%A3%85%E4%BF%AE%E7%9B%B8%E5%85%B3%E6%93%8D%E4%BD%9C#latest&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
&lt;/p>
&lt;p>&lt;a class="link" href="https://pullopen.github.io/tags/#Mastodon" target="_blank" rel="noopener"
>https://pullopen.github.io/tags/#Mastodon&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
&lt;/p>
&lt;ul>
&lt;li>æ‰«æå‡ºä¸å±äºä»»ä½•åª’ä½“é™„ä»¶çš„æ–‡ä»¶å¹¶ç§»é™¤ä»–ä»¬&lt;/li>
&lt;li>æ¸…é™¤ç¼“å­˜å­˜å‚¨&lt;/li>
&lt;li>ä»æ•°æ®åº“ä¸­åˆ é™¤æœªè¢«å¼•ç”¨çš„å˜Ÿæ–‡ï¼Œä¾‹å¦‚æ¥è‡ªä¸­ç»§çš„æˆ–æ¥è‡ªæœ¬åœ°ç”¨æˆ·ä¸å†å…³æ³¨çš„ç”¨æˆ·çš„å˜Ÿæ–‡ï¼ŒåŒæ—¶æ²¡æœ‰è¢«å›å¤çš„æˆ–ä»¥å…¶ä»–æ–¹å¼ä¸ä¹‹äº’åŠ¨çš„&lt;/li>
&lt;/ul>
&lt;h3 id="å¸¸ç”¨å‘½ä»¤">å¸¸ç”¨å‘½ä»¤&lt;/h3>
&lt;p>æŸ¥çœ‹ docker å®¹å™¨çŠ¶æ€&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">sudo docker container stats
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="å…¶å®ƒå‚è€ƒ">å…¶å®ƒå‚è€ƒ&lt;/h2>
&lt;p>&lt;a class="link" href="https://blog.laoda.de/archives/getting-started-with-linux" target="_blank" rel="noopener"
>mjj ç‰ˆçš„ linux å…¥é—¨æ•™ç¨‹&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
&lt;/p>
&lt;p>&lt;a class="link" href="https://weirenxue.github.io/2021/06/17/user_linux_sudo/" target="_blank" rel="noopener"
>[User] Linux æ–°å¢ä½¿ç”¨è€…ä¸¦è³¦äºˆå…¶ä½¿ç”¨ sudo çš„æ¬Šé™&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
&lt;/p>
&lt;p>&lt;a class="link" href="https://blog.laoda.de/archives/how-to-secure-a-linux-server" target="_blank" rel="noopener"
>ä¿æŠ¤å¥½ä½ çš„å°é¸¡ï¼ä¿å§†çº§æœåŠ¡å™¨å®‰å…¨æ•™ç¨‹ï¼&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
&lt;/p>
&lt;p>&lt;a class="link" href="https://blog.laoda.de/archives/docker-compose-install-misskey#5.3-%E5%AE%89%E8%A3%85nginxproxymanager" target="_blank" rel="noopener"
>ã€å¥½ç©å„¿çš„ Docker é¡¹ç›®ã€‘10 åˆ†é’Ÿæ­å»ºä¸€ä¸ªå»ä¸­å¿ƒåŒ–å¾®åšå¹³å°â€”â€”Misskey ï½œäºŒæ¬¡å…ƒé£æ ¼ã€è”é‚¦å®‡å®™&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
&lt;/p>
&lt;p>&lt;a class="link" href="https://candinya.com/posts/minimal-misskey-docker-deploy/" target="_blank" rel="noopener"
>ä½¿ç”¨ Docker æœ€å°åŒ–éƒ¨ç½² Misskey&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
&lt;/p>
&lt;p>&lt;a class="link" href="https://eri.cx/build-your-own-decentralized-social-platform-misskey/" target="_blank" rel="noopener"
>æ­å»ºå±äºè‡ªå·±çš„å»ä¸­å¿ƒåŒ–ç¤¾äº¤å¹³å° Misskey&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
&lt;/p>
&lt;p>&lt;a class="link" href="https://kalacloud.com/blog/how-to-install-nginx-on-ubuntu-20-04/#%E7%AC%AC5%E6%AD%A5%E8%AE%BE%E7%BD%AE%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%9D%97server-block" target="_blank" rel="noopener"
>å¦‚ä½•åœ¨ Ubuntu 20.04 ä¸­å®‰è£…å’Œé…ç½® Nginx&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
&lt;/p>
&lt;p>&lt;a class="link" href="https://zxuqian.cn/install-nginx-on-ubuntu-20-04/" target="_blank" rel="noopener"
>Nginx æ•™ç¨‹ï¼šå¦‚ä½•åœ¨ Ubuntu 20.04 ä¸‹å®‰è£…å¹¶é…ç½® Nginx&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
&lt;/p>
&lt;p>&lt;a class="link" href="https://www.myfreax.com/secure-nginx-with-let-s-encrypt-on-ubuntu-20-04/" target="_blank" rel="noopener"
>å¦‚ä½•åœ¨ Ubuntu 20.04 Nginx é…ç½® Let&amp;rsquo;s Encrypt SSL è¯ä¹¦&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
&lt;/p></description></item><item><title>åšå®¢åŸŸåè®¾ç½®</title><link>https://falasool.github.io/2022/domain/</link><pubDate>Sat, 22 Oct 2022 22:27:40 +0800</pubDate><guid>https://falasool.github.io/2022/domain/</guid><description>&lt;!-- raw HTML omitted -->
&lt;h2 id="è®¾ç½®æ­¥éª¤">è®¾ç½®æ­¥éª¤&lt;/h2>
&lt;ul>
&lt;li>
&lt;p>åœ¨ &lt;a class="link" href="https://www.dynadot.com/" target="_blank" rel="noopener"
>Dynadot&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
ä¹°ä¸ªåŸŸåï¼ˆNameSlio å’Œ namecheap ä¹Ÿå¾ˆå¥½ï¼‰&lt;/p>
&lt;/li>
&lt;li>
&lt;p>è§£æåŸŸåï¼š&lt;/p>
&lt;/li>
&lt;li>
&lt;p>æ³¨å†Œ &lt;a class="link" href="https://dash.cloudflare.com/" target="_blank" rel="noopener"
>Cloudflare&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
è´¦å·ï¼Œç‚¹ Add Siteï¼Œè¾“å…¥ä½ çš„åŸŸå&lt;/p>
&lt;/li>
&lt;/ul>
&lt;!-- raw HTML omitted -->
&lt;ul>
&lt;li>é€‰æ‹©å…è´¹æ–¹æ¡ˆ&lt;/li>
&lt;/ul>
&lt;!-- raw HTML omitted -->
&lt;ul>
&lt;li>ping ä¸€ä¸‹ç›®å‰çš„ &amp;lt;username&amp;gt;.github.io ï¼Œå¾—åˆ°ç›®æ ‡ IP åœ°å€ï¼ˆGithub å®˜æ–¹ä¼šæä¾› 4 æ¡ IPv4 åœ°å€ï¼‰&lt;/li>
&lt;/ul>
&lt;!-- raw HTML omitted -->
&lt;ul>
&lt;li>æ£€æŸ¥ IP æ˜¯å¦å’Œåˆšåˆš ping å‡ºæ¥çš„ä¸€è‡´ï¼ˆä¸ä¸€è‡´çš„è¯æ”¹æ‰ï¼‰ï¼Œç„¶åç‚¹ Continue&lt;/li>
&lt;/ul>
&lt;p>&lt;img src="https://cdn.jsdelivr.net/gh/Falasool/blog-pic-bed/blog/check-ip.png"
loading="lazy"
alt="check-ip"
>&lt;/p>
&lt;ul>
&lt;li>é…ç½®é¡µé¢è§„åˆ™&lt;/li>
&lt;/ul>
&lt;!-- raw HTML omitted -->
&lt;ul>
&lt;li>æ›´æ”¹ SSL è®¾ç½®&lt;/li>
&lt;/ul>
&lt;!-- raw HTML omitted -->
&lt;ul>
&lt;li>åˆ†åˆ°äº†ä¸¤ä¸ªå§“åæœåŠ¡å™¨ï¼Œå¤åˆ¶ä¸‹æ¥&lt;/li>
&lt;/ul>
&lt;!-- raw HTML omitted -->
&lt;ul>
&lt;li>å›åˆ° &lt;a class="link" href="https://www.dynadot.com/" target="_blank" rel="noopener"
>Dynadot&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
ï¼Œ ç‚¹å‡»ï¼šæˆ‘çš„åŸŸå-ç®¡ç†åŸŸå-&amp;lt;åŸŸå&amp;gt;&lt;/li>
&lt;/ul>
&lt;!-- raw HTML omitted -->
&lt;ul>
&lt;li>ç‚¹å‡»ï¼šDNSè®¾ç½®&lt;/li>
&lt;/ul>
&lt;!-- raw HTML omitted -->
&lt;!-- raw HTML omitted -->
&lt;ul>
&lt;li>åœ¨ GitHub çš„ xxx.github.io ä»“åº“ï¼ŒSettings- Pages é‡Œå¡«ä¸Šä½ çš„åŸŸåï¼Œå‹¾é€‰ Enforce HTTPS&lt;/li>
&lt;/ul>
&lt;!-- raw HTML omitted -->
&lt;ul>
&lt;li>æŠŠæ ¹ç›®å½•ä¸‹çš„ &lt;code>.yaml&lt;/code> æ–‡ä»¶çš„ baseURL æ”¹ä¸ºä¸ªäººåŸŸå&lt;/li>
&lt;/ul>
&lt;p>ç°åœ¨å¯ä»¥ä»åŸŸåè®¿é—®åšå®¢äº†&lt;/p>
&lt;h2 id="è§£å†³æŠ¥é”™">è§£å†³æŠ¥é”™&lt;/h2>
&lt;p>ä»åŸŸåæˆ– xxx.github.io è®¿é—®åšå®¢éƒ½ä¼š404&lt;/p>
&lt;!-- raw HTML omitted -->
&lt;p>åœ¨å…¬å¼€ä»“åº“çš„ Settings-Pages é‡ŒæŸ¥çœ‹ï¼Œå‘ç°è®¾ç½®çš„ä¸ªäººåŸŸåæ¶ˆå¤±äº†ï¼Œåˆå˜å›äº† falasool.github.ioã€‚æœç´¢ç›¸å…³é—®é¢˜å‘ç°ï¼Œæœ‰äººåé¦ˆæ¯æ¬¡ push ä¹‹åéƒ½éœ€è¦é‡æ–°è®¾ç½®ä¸ªäººåŸŸåã€‚&lt;/p>
&lt;p>æˆ‘è¯•äº†ä¸€ä¸‹ä¹Ÿæ˜¯è¿™æ ·ï¼šè®¾ç½®åŸŸååä¼šè‡ªåŠ¨åˆ›å»º CNAME æ–‡ä»¶ï¼Œæ­¤æ—¶ä»åŸŸåæˆ– xxx.github.io éƒ½èƒ½è®¿é—®åšå®¢ã€‚push æ“ä½œå CNAME åˆæ²¡äº†ï¼Œä¸ªäººåŸŸåæˆ– xxx.github.io éƒ½è¿”å›404 ğŸ˜®â€ğŸ’¨&lt;/p>
&lt;p>å°è¯•ï¼šåœ¨ Cloudflare é‡ŒæŠŠ DNS ç±»å‹æ”¹æˆ A å’Œ CNAME&lt;/p>
&lt;!-- raw HTML omitted -->
&lt;p>è¿˜æ˜¯ä¸è¡Œï¼Œä¸€æ—¦ push å°±æ‰“å›åŸå½¢&lt;/p>
&lt;p>è§£å†³æ–¹æ³•ï¼šæŸ¥é˜…èµ„æ–™å‘ç°é—®é¢˜åœ¨äº æºç ä»“åº“ hugo-sources çš„Actions é…ç½®æ–‡ä»¶ï¼Œdeploy æ—¶ä¼šè‡ªåŠ¨è¦†ç›–CNAME ğŸ˜­ï¼Œæ‰€ä»¥åœ¨åŸé…ç½®æ–‡ä»¶æ·»åŠ ï¼š&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-yaml" data-lang="yaml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">cname&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">anodicseal.xyz&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>è§£å†³ï¼ğŸ‰ğŸ‰ğŸ‰&lt;/p>
&lt;h2 id="ç›¸å…³å‚è€ƒ">ç›¸å…³å‚è€ƒ&lt;/h2>
&lt;p>&lt;a class="link" href="https://oldtang.com/2420.html" target="_blank" rel="noopener"
>Dynadot ç½‘ç«™æ³¨å†Œè´¦æˆ·ã€è´­ä¹°åŸŸåã€æ”¯ä»˜å®ä»˜æ¬¾ã€è§£æåŸŸåæ•™ç¨‹&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
&lt;/p>
&lt;p>&lt;a class="link" href="https://www.bandwagonhost.net/5986.html" target="_blank" rel="noopener"
>ä½¿ç”¨ Cloudflare å…è´¹ DNS æœåŠ¡å™¨è§£æåŸŸååˆ°æ¬ç“¦å·¥ VPS ä¸»æœºå»ºç«™æ•™ç¨‹&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
&lt;/p>
&lt;p>&lt;a class="link" href="https://ruanyifeng.com/blog/2016/06/dns.html" target="_blank" rel="noopener"
>DNS åŸç†å…¥é—¨&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
&lt;/p>
&lt;p>&lt;a class="link" href="https://www.ruanyifeng.com/blog/2022/08/dns-query.html" target="_blank" rel="noopener"
>DNS æŸ¥è¯¢åŸç†è¯¦è§£&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
&lt;/p></description></item><item><title>Hugo | ç»™åšå®¢é…ç½®å›¾åºŠ</title><link>https://falasool.github.io/2022/picture-bed/</link><pubDate>Fri, 21 Oct 2022 23:29:38 +0800</pubDate><guid>https://falasool.github.io/2022/picture-bed/</guid><description>&lt;!-- raw HTML omitted -->
&lt;h2 id="å®‰è£…-picgo">å®‰è£… PicGo&lt;/h2>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">brew install picgo --cask
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="åˆ›å»º-github-å›¾åºŠä»“åº“">åˆ›å»º GitHub å›¾åºŠä»“åº“&lt;/h2>
&lt;p>åç§°æ— æ‰€è°“ï¼Œè®°å¾—å‹¾é€‰ README&lt;/p>
&lt;h2 id="ç”Ÿæˆä»¤ç‰Œtoken">ç”Ÿæˆä»¤ç‰Œï¼ˆTokenï¼‰&lt;/h2>
&lt;p>åœ¨ Account-Settings-Developer Settings-Personal Access Tokens ä¸‹ç”Ÿæˆï¼ˆå‹¾é€‰ repoï¼‰å¹¶ä¿å­˜&lt;/p>
&lt;h2 id="é…ç½®-picgo">é…ç½® PicGo&lt;/h2>
&lt;p>è‡ªå®šä¹‰åŸŸåæ˜¯ï¼š&lt;code>https://cdn.jsdelivr.net/gh/&amp;lt;githubç”¨æˆ·å&amp;gt;/&amp;lt;å›¾åºŠä»“åº“å&amp;gt;@&amp;lt;ä»“åº“ç‰ˆæœ¬å·&amp;gt;/&lt;/code>&lt;/p>
&lt;p>&lt;img src="https://cdn.jsdelivr.net/gh/Falasool/blog-pic-bed@main//blogimage-20230530234507042.png"
loading="lazy"
alt="image-20230530234507042"
>&lt;/p>
&lt;h3 id="æ’ä»¶">æ’ä»¶&lt;/h3>
&lt;p>Updateï¼šä½¿ç”¨å›¾ç‰‡å‹ç¼©æ’ä»¶ compress&lt;/p>
&lt;p>å‚è€ƒ PicGoæ’ä»¶å¼€å‘æŒ‡å—&lt;sup id="fnref:1">&lt;a href="#fn:1" class="footnote-ref" role="doc-noteref">1&lt;/a>&lt;/sup> å’Œ issue#2&lt;sup id="fnref:2">&lt;a href="#fn:2" class="footnote-ref" role="doc-noteref">2&lt;/a>&lt;/sup> å®‰è£…æ’ä»¶&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">&lt;span class="nb">cd&lt;/span> /Users/username/Library/Application&lt;span class="se">\ &lt;/span>Support/picgo/
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">brew install libtool automake autoconf nasm
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">npm cache clean --force
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># åˆ é™¤node_modulesæ–‡ä»¶å¤¹&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">npm install picgo-plugin-compress --save --ignore-scripts --registry&lt;span class="o">=&lt;/span>https://registry.npm.taobao.org
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">npm install --registry&lt;span class="o">=&lt;/span>https://registry.npm.taobao.org
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>é‡å¯ PicGoï¼Œåœ¨æ’ä»¶è®¾ç½®é‡Œç‚¹å‡»âš™ï¸ï¼Œé…ç½®plugin - picgo-plugin-compressï¼Œé€‰æ‹©å‹ç¼©æ–¹å¼&amp;ndash; imagemin&lt;/p>
&lt;p>æœ€åç‚¹å‡»âš™ï¸ï¼Œå¯ç”¨transformer-compress&lt;/p>
&lt;h2 id="æµ‹è¯•å›¾åºŠ">æµ‹è¯•å›¾åºŠ&lt;/h2>
&lt;p>&lt;img src="https://cdn.jsdelivr.net/gh/Falasool/blog-pic-bed@main//blog202305312359868.png"
loading="lazy"
alt="image-20230531235959820"
>&lt;/p>
&lt;p>è¿™å¼ å›¾ç‰‡ä½¿ç”¨compressæ’ä»¶ä¸Šä¼ ï¼š&lt;/p>
&lt;p>&lt;img src="https://cdn.jsdelivr.net/gh/Falasool/blog-pic-bed@main//blog202308021452438.png"
loading="lazy"
alt="image-20230802145252226"
>&lt;/p>
&lt;p>*****&lt;/p>
&lt;p>[å¯é€‰] æ‰‹åŠ¨ç”¨ &lt;a class="link" href="https://squoosh.app/" target="_blank" rel="noopener"
>Squoosh&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
æŠŠå›¾ç‰‡è½¬æ ¼å¼ï¼ˆwebpï¼‰å¹¶å‹ç¼©&lt;/p>
&lt;p>è®¾ç½®æˆåŠŸåç›´æ¥æŠŠå›¾ç‰‡æ”¾è¿› Typora å°±OK&lt;/p>
&lt;p>é”µé”µï½è¯·çœ‹ï¼ï¼&lt;img src="https://cdn.jsdelivr.net/gh/Falasool/blog-pic-bed@main//blogimage.webp"
loading="lazy"
alt="image"
>&lt;/p>
&lt;p>è¿›é˜¶ï¼š&lt;a class="link" href="https://zhuanlan.zhihu.com/p/626135137" target="_blank" rel="noopener"
>ä½¿ç”¨githubç§æœ‰ä»“åº“å’ŒCloudflare Workersæ­å»ºä¸ªäººå›¾åºŠ&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
ï¼Œä¼˜ç‚¹ï¼šåå‘ä»£ç†ä½œä¸ºå›¾åºŠçš„ä»“åº“ï¼Œå¼€å¯ç¼“å­˜é¿å…é‡å¤è¯·æ±‚&lt;/p>
&lt;h2 id="ç›¸å…³å‚è€ƒ">ç›¸å…³å‚è€ƒ&lt;/h2>
&lt;p>&lt;a class="link" href="https://picgo.github.io/PicGo-Doc/" target="_blank" rel="noopener"
>PicGo&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
&lt;/p>
&lt;p>&lt;a class="link" href="https://irithys.com/p/blog-write/" target="_blank" rel="noopener"
>æˆ‘å†™åšå®¢éƒ½ç”¨äº†å“ªäº›å·¥å…·ï¼Ÿ&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
&lt;/p>
&lt;div class="footnotes" role="doc-endnotes">
&lt;hr>
&lt;ol>
&lt;li id="fn:1">
&lt;p>&lt;a class="link" href="https://picgo.github.io/PicGo-Core-Doc/zh/dev-guide/deploy.html#gui%E6%8F%92%E4%BB%B6" target="_blank" rel="noopener"
>https://picgo.github.io/PicGo-Core-Doc/zh/dev-guide/deploy.html#gui%E6%8F%92%E4%BB%B6&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
&amp;#160;&lt;a href="#fnref:1" class="footnote-backref" role="doc-backlink">&amp;#x21a9;&amp;#xfe0e;&lt;/a>&lt;/p>
&lt;/li>
&lt;li id="fn:2">
&lt;p>&lt;a class="link" href="https://picgo.github.io/PicGo-Core-Doc/zh/dev-guide/deploy.html#gui%E6%8F%92%E4%BB%B6" target="_blank" rel="noopener"
>https://picgo.github.io/PicGo-Core-Doc/zh/dev-guide/deploy.html#gui%E6%8F%92%E4%BB%B6&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
&amp;#160;&lt;a href="#fnref:2" class="footnote-backref" role="doc-backlink">&amp;#x21a9;&amp;#xfe0e;&lt;/a>&lt;/p>
&lt;/li>
&lt;/ol>
&lt;/div></description></item><item><title>Pleroma | å¼€å¯é‚®ä»¶æœåŠ¡ï¼ˆZOHOï¼‰</title><link>https://falasool.github.io/2022/zoho-mail-services/</link><pubDate>Fri, 21 Oct 2022 23:29:38 +0800</pubDate><guid>https://falasool.github.io/2022/zoho-mail-services/</guid><description>&lt;!-- raw HTML omitted -->
&lt;p>æ”¹ç”¨ MailGunäº†ï¼Œå¾…æ›´æ–°&lt;/p>
&lt;p>&lt;del>åœ¨ zoho.com æ³¨å†Œè´¦å·ï¼Œé€‰æ‹© Free Planï¼ŒAdd an existing domainï¼Œæ¥ç€å»éªŒè¯åŸŸå&lt;/del>&lt;/p>
&lt;p>åœ¨åŸŸåæ‰˜ç®¡å•†ï¼ˆæ¯”å¦‚ Cloudflareï¼‰æ·»åŠ ä¸€æ¡ TXT è®°å½•ç„¶åéªŒè¯&lt;/p>
&lt;p>&lt;img src="https://cdn.jsdelivr.net/gh/Falasool/blog-pic-bed@main//blog202306020051407.png"
loading="lazy"
alt="image-20230602005133357"
>&lt;/p>
&lt;p>æ¥ç€å¡«å†™ä»»æ„åŸŸåå‰ç¼€ï¼Œæ¯”å¦‚ adminï¼Œå®Œæˆåˆ›å»ºã€‚è·³è¿‡è®¾ç½® Groupsï¼Œæ¥åˆ° DNS Mappingï¼ŒåŒæ ·å¡«å†™&lt;/p>
&lt;p>&lt;img src="https://cdn.jsdelivr.net/gh/Falasool/blog-pic-bed@main//blog202306020104815.png"
loading="lazy"
alt="image-20230602010444789"
>&lt;/p>
&lt;p>æ³¨æ„ DKIM&lt;/p>
&lt;p>&lt;img src="https://cdn.jsdelivr.net/gh/Falasool/blog-pic-bed@main//blogzmail_domain.webp"
loading="lazy"
alt="image"
>&lt;/p>
&lt;p>éªŒè¯åå®Œæˆï¼Œåˆ° mail.zoho.com æµ‹è¯•æ”¶å‘é‚®ä»¶åŠŸèƒ½&lt;/p></description></item><item><title>Hugoï½œGithub Pagesï½œStackä¸»é¢˜ï½œæ­å»ºè®°å½•</title><link>https://falasool.github.io/2022/build-hugo-site-on-macos/</link><pubDate>Fri, 21 Oct 2022 21:28:27 +0800</pubDate><guid>https://falasool.github.io/2022/build-hugo-site-on-macos/</guid><description>&lt;p>åŸºäº macOS Montereyï¼ŒHugo æ¡†æ¶å’Œ GitHub Pages ç½‘é¡µå¯„å­˜æœåŠ¡ï¼Œåšå®¢ä¸»é¢˜ä¸º &lt;a class="link" href="https://github.com/CaiJimmy/hugo-theme-stack" target="_blank" rel="noopener"
>Stack&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
ï¼Œæ­å»ºè¿‡ç¨‹å°½é‡ç®€å•ï¼ŒåŒæ—¶å‡å°‘åç»­éšæ‚£&lt;/p>
&lt;p>é¢„è­¦ï¼šéå¸¸å•°å—¦&lt;/p>
&lt;h2 id="å‰æœŸå‡†å¤‡">å‰æœŸå‡†å¤‡&lt;/h2>
&lt;h3 id="å®‰è£…-hugo">å®‰è£… Hugo&lt;/h3>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-text" data-lang="text">&lt;span class="line">&lt;span class="cl"># å®‰è£…
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">brew install hugo
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"># æ£€æŸ¥å®‰è£…æ˜¯å¦æˆåŠŸ
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">hugo version
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"># è¿”å›â¬‡ï¸
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">hugo v0.104.1+extended darwin/arm64 BuildDate=unknown
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="å®‰è£…-git">å®‰è£… Git&lt;/h3>
&lt;p>åœ¨ &lt;a class="link" href="https://git-scm.com/downloads" target="_blank" rel="noopener"
>Git&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
ä¸‹è½½ã€å®‰è£…ç¨‹åºï¼ŒæŒ‰é»˜è®¤é€‰é¡¹å®‰è£…å³å¯&lt;/p>
&lt;p>è®¾ç½®ä½ çš„ç”¨æˆ·åå’Œé‚®ä»¶åœ°å€&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl"># å¡«ä½ çš„ GitHub ID å’Œæ³¨å†Œé‚®ç®±
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">git config --global user.name &amp;#34;&amp;lt;username&amp;gt;&amp;#34;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">git config --global user.email user@example.com
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="github">GitHub&lt;/h3>
&lt;p>&lt;a class="link" href="https://raw.githubusercontent.com/%7buser%7d/%7brepo%7d/master/%7bfolderpath%7d/%7bfilename%7d" target="_blank" rel="noopener"
>https://raw.githubusercontent.com/{user}/{repo}/master/{folderpath}/{filename}&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
&lt;/p>
&lt;p>&lt;a class="link" href="https://cdn.jsdelivr.net/gh/%7buser%7d/%7brepo%7d/%7bfolderpath%7d/%7bfilename%7d" target="_blank" rel="noopener"
>https://cdn.jsdelivr.net/gh/{user}/{repo}/{folderpath}/{filename}&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
&lt;/p>
&lt;h4 id="åˆ›å»ºå…¬å¼€ä»“åº“">åˆ›å»ºå…¬å¼€ä»“åº“&lt;/h4>
&lt;p>å­˜æ”¾ç¼–è¯‘å¥½çš„é™æ€é¡µé¢&lt;/p>
&lt;!-- raw HTML omitted -->
&lt;!-- raw HTML omitted -->
&lt;h4 id="åˆ›å»ºç§å¯†ä»“åº“">åˆ›å»ºç§å¯†ä»“åº“&lt;/h4>
&lt;p>å­˜æ”¾æºç &lt;/p>
&lt;!-- raw HTML omitted -->
&lt;h4 id="ç»™ä¸¤ä¸ªä»“åº“ç»‘å®š-ssh-key">ç»™ä¸¤ä¸ªä»“åº“ç»‘å®š SSH key&lt;/h4>
&lt;ul>
&lt;li>ç”Ÿæˆ SSH key&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">ssh-keygen -t rsa -b 4096 -C &amp;#34;user@example.com&amp;#34;
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>è¿™è¡Œå‘½ä»¤ meansï¼šç”Ÿæˆ SSH å¯†é’¥æ–‡ä»¶ - å¯†é’¥ç±»å‹ï¼ˆrsaï¼‰- å¯†é’¥é•¿åº¦ï¼ˆ4096ï¼‰ - æ³¨é‡Šï¼ˆuser@example.comï¼‰&lt;/p>
&lt;!-- raw HTML omitted -->
&lt;p>åœ¨ &lt;code>.ssh&lt;/code> æ–‡ä»¶å¤¹é‡Œæ‰¾åˆ°ç”Ÿæˆçš„ SSH&lt;/p>
&lt;ul>
&lt;li>æ·»åŠ å…¬é’¥ï¼šæŠŠ public key &lt;code>id_rsa_hugo_deploy.pub&lt;/code> æ·»åŠ åˆ° uname.github.io ä»“åº“ï¼ˆrepo settings &amp;gt; deploy keys &amp;gt; add deploy keyï¼Œéœ€è¦å‹¾é€‰ &lt;code>Allow write access&lt;/code>ï¼‰:&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="nb">cd&lt;/span> .ssh
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">cat id_rsa_hugo_deploy.pub &lt;span class="c1"># æ˜¾ç¤ºæ–‡ä»¶å†…å®¹&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;!-- raw HTML omitted -->
&lt;ul>
&lt;li>æ·»åŠ ç§é’¥ï¼šPrivate Key æ·»åŠ åˆ° privateä»“åº“ï¼š
è¿™é‡Œ Secrets å˜é‡åè¦ä¸€å®šæ˜¯ï¼š ACTIONS_DEPLOY_KEY&lt;/li>
&lt;/ul>
&lt;!-- raw HTML omitted -->
&lt;h4 id="ç»‘å®š-token">ç»‘å®š Token&lt;/h4>
&lt;ul>
&lt;li>åœ¨ Account- Settings- Developer Settings- Personal access tokens-Tokens(classic) é‡Œåˆ›å»º Tokenï¼Œè®°å¾—å‹¾é€‰ repo å’Œ workflowï¼Œå¹¶å¤åˆ¶ä¿å­˜ã€‚æˆ‘çš„ Token: ï¼ˆéšè—ï¼‰&lt;/li>
&lt;/ul>
&lt;!-- raw HTML omitted -->
&lt;!-- raw HTML omitted -->
&lt;p>&lt;img src="https://cdn.jsdelivr.net/gh/Falasool/blog-pic-bed/blog/new-token-2.png"
loading="lazy"
alt="åšå®¢å‘å¸ƒ-è®¾ç½®token2"
>&lt;/p>
&lt;ul>
&lt;li>åœ¨ç§æœ‰ä»“åº“ hugo-scources-settings-secrets-Actions åˆ›å»ºåä¸ºPERSONAL_TOKENï¼Œå€¼ä¸ºåˆšæ‰çš„ Token çš„Secretï¼Œè¿™æ ·å°±å®Œæˆäº† Token çš„è®¾ç½®&lt;/li>
&lt;/ul>
&lt;h2 id="æ­å»ºæ­¥éª¤">æ­å»ºæ­¥éª¤&lt;/h2>
&lt;h3 id="å…‹éš†-private-ä»“åº“åˆ°æœ¬åœ°">å…‹éš† private ä»“åº“åˆ°æœ¬åœ°&lt;/h3>
&lt;!-- raw HTML omitted -->
&lt;!-- raw HTML omitted -->
&lt;h3 id="æ–°å»º-hugo-ç«™ç‚¹">æ–°å»º Hugo ç«™ç‚¹&lt;/h3>
&lt;p>åœ¨æœ¬åœ° hugo-sources æ–‡ä»¶å¤¹ä¸­æ‰§è¡Œ â¬‡ï¸ï¼Œåœ¨å½“å‰ç›®å½•ç”Ÿæˆ Hugo æºç &lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">hugo new site . --force
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>æ‰¾åˆ° blog æ–‡ä»¶å¤¹ï¼Œæ‰“å¼€ä¼šå‘ç°ç»“æ„å¦‚ä¸‹&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">blog
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”œâ”€â”€ archetypes # é…ç½®æ–‡ä»¶ï¼Œå†³å®šåˆ›å»ºæ–°åšæ–‡æ—¶çš„è‡ªå¸¦æ ¼å¼
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”‚ â””â”€â”€ default.md
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”œâ”€â”€ config.toml # ç½‘ç«™é…ç½®æ–‡ä»¶
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”œâ”€â”€ content # ç½‘ç«™å†…å®¹ï¼Œå…¨éƒ¨æ˜¯ markdown æ ¼å¼
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”œâ”€â”€ data
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”œâ”€â”€ layouts # ç½‘ç«™æ¨¡æ¿ï¼Œä¼˜å…ˆäº themes/&amp;lt;THEME&amp;gt;/layouts
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”œâ”€â”€ static # é™æ€èµ„æºï¼ˆcss/js/fonts/mediaç­‰ï¼‰
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â””â”€â”€ themes
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="hugo-ä¸»é¢˜">Hugo ä¸»é¢˜&lt;/h3>
&lt;p>æœ‰äº†ä¸»é¢˜ï¼Œå†…å®¹æ‰ä¼šæ¸²æŸ“å‡ºæ¥&lt;/p>
&lt;p>åœ¨ github.com æœç´¢ hugo theme ï¼Œæˆ–åœ¨ &lt;a class="link" href="https://themes.gohugo.io/" target="_blank" rel="noopener"
>Hugo Themes&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
é€‰æ‹©ä½ å–œæ¬¢çš„ä¸»é¢˜ã€‚æˆ‘é€‰æ‹© &lt;a class="link" href="https://github.com/CaiJimmy/hugo-theme-stack" target="_blank" rel="noopener"
>stack&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
ï¼ŒåŠŸèƒ½ä¸°å¯Œï¼Œæ”¯æŒå¤šç§è¯„è®ºç³»ç»Ÿï¼Œä½¿ç”¨äººæ•°å¤šbugå¥½è§£å†³&lt;/p>
&lt;ul>
&lt;li>fork ä¸»é¢˜ä»“åº“ï¼Œå¹¶ä½¿ç”¨ &lt;code>git submodule&lt;/code> æ–¹å¼æ·»åŠ åˆ° themes é‡Œï¼Œè¿™æ ·æ–¹ä¾¿åç»­å¯¹ä¸»é¢˜çš„ä¿®æ”¹è¿›è¡Œå•ç‹¬ç»´æŠ¤&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-v" data-lang="v">&lt;span class="line">&lt;span class="cl">&lt;span class="o">#&lt;/span> &lt;span class="nv">åœ¨hugo&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="nv">sourcesç›®å½•ä¸‹&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nv">git&lt;/span> &lt;span class="nv">init&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nv">git&lt;/span> &lt;span class="nv">submodule&lt;/span> &lt;span class="nv">add&lt;/span> &lt;span class="nv">https&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="c1">//github.com/&amp;lt;Uname&amp;gt;/hugo-theme-stack themes/hugo-theme-stack
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;ul>
&lt;li>æ›´æ–°ä¸»é¢˜ï¼š&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-v" data-lang="v">&lt;span class="line">&lt;span class="cl">&lt;span class="o">#&lt;/span> &lt;span class="nv">åˆå§‹åŒ–&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nv">git&lt;/span> &lt;span class="nv">submodule&lt;/span> &lt;span class="nv">update&lt;/span> &lt;span class="o">--&lt;/span>&lt;span class="nv">init&lt;/span> &lt;span class="o">--&lt;/span>&lt;span class="nv">recursive&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">#&lt;/span> &lt;span class="nv">åŒæ­¥ä¸»é¢˜ä»“åº“çš„æœ€æ–°ä¿®æ”¹&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nv">git&lt;/span> &lt;span class="nv">submodule&lt;/span> &lt;span class="nv">update&lt;/span> &lt;span class="o">--&lt;/span>&lt;span class="nv">remote&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;ul>
&lt;li>åˆ é™¤æ ¹ç›®å½•ä¸‹çš„config.toml æ–‡ä»¶ï¼ŒæŠŠ &lt;code>./themes/hugo-theme-stack/exampleSite/&lt;/code> é‡Œçš„ config.yaml å’Œ content è½¬ç§»åˆ°æ ¹ç›®å½•ä¸‹ï¼Œåœ¨ config.yaml ä¸­è¿›è¡Œç«™ç‚¹ç»†èŠ‚é…ç½®&lt;/li>
&lt;li>åˆ æ‰ &lt;code>examplesite/content/post/rich-content/index.md&lt;/code>ï¼Œå› ä¸ºTwitter ç­‰ç­‰è¢«å¢™åº”ç”¨çš„API ä¸­å›½å¤§é™†æ— æ³•è®¿é—® &lt;a class="link" href="https://github.com/CaiJimmy/hugo-theme-stack/issues/191" target="_blank" rel="noopener"
>Issus #191@CaiJimmy/hugo-theme-stack&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
&lt;/li>
&lt;li>æœ¬åœ°é¢„è§ˆ&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">hugo server -D
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"># åœ¨æµè§ˆå™¨æ‰“å¼€localhost:1313
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;ul>
&lt;li>é¢„è§ˆæ»¡æ„äº† &lt;!-- raw HTML omitted -->Control&lt;!-- raw HTML omitted -->+&lt;!-- raw HTML omitted -->C&lt;!-- raw HTML omitted --> ç»ˆæ­¢é¢„è§ˆ&lt;/li>
&lt;/ul>
&lt;h3 id="æ¨é€åˆ°-github">æ¨é€åˆ° GitHub&lt;/h3>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">git add .
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">git commit -m &amp;#34;first commit&amp;#34;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">git push -u origin main
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="github-actions-é…ç½®">GitHub Actions é…ç½®&lt;/h3>
&lt;ul>
&lt;li>åœ¨ GitHub çš„ Private ä»“åº“é¡µé¢ï¼Œåˆ‡æ¢åˆ° Actions tabï¼Œç‚¹å‡»&lt;code>set up a workflow yourself&lt;/code>ï¼Œç²˜è´´ä»¥ä¸‹æ–‡ä»¶ï¼Œå¹¶ commit&lt;/li>
&lt;/ul>
&lt;p>&lt;img src="https://cdn.jsdelivr.net/gh/Falasool/blog-pic-bed/blog/configyml.png"
loading="lazy"
alt="é…ç½®yml"
>&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-yml" data-lang="yml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Deploy Hugo Site to Github Pages on Main Branch&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">on&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">push&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">branches&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">main&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">workflow_dispatch&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">schedule&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c"># Runs everyday at 8:00 AM&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">cron&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s2">&amp;#34;0 0 * * *&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">jobs&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">build-deploy&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">runs-on&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">ubuntu-latest&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">steps&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Checkout&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">uses&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">actions/checkout@v2&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">with&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">submodules&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kc">true&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">fetch-depth&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="m">0&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Setup Hugo&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">uses&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">peaceiris/actions-hugo@v2&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">with&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">hugo-version&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s1">&amp;#39;0.104.1&amp;#39;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c"># æŸ¥çœ‹ä½ çš„ç‰ˆæœ¬æŠŠå®ƒæ›¿æ¢æ‰ï¼Œé˜²æ­¢å…¼å®¹é—®é¢˜&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">extended&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kc">true&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Build&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">run&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">hugo --minify&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Deploy&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">uses&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">peaceiris/actions-gh-pages@v3&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">with&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">PERSONAL_TOKEN&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">${{ secrets.PERSONAL_TOKEN }}&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c"># è¿™é‡Œçš„ ACTIONS_DEPLOY_KEY åˆ™æ˜¯ä¸Šé¢è®¾ç½® Private Keyçš„å˜é‡å&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">external_repository&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">0livia99/0livia99.github.io&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c"># Pages è¿œç¨‹ä»“åº“ &lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">publish_dir&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s2">&amp;#34;./public&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">keep_files&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kc">false&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c"># remove existing files&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">publish_branch&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">main &lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c"># deploying branch&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">commit_message&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">${{ github.event.head_commit.message }}&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">cname&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">anodicseal.xyz&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c"># è¿™é‡Œè¦æ”¹æˆä½ çš„ä¸ªäººåŸŸåï¼Œæ²¡æœ‰å°±æŠŠè¿™è¡Œæ³¨é‡Šæ‰&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;ul>
&lt;li>åœ¨æœ¬åœ° hugo-sources ç›®å½•ä¸‹æ‰§è¡Œ &lt;code>git pull origin main&lt;/code>ï¼ŒæŸ¥çœ‹æœ¬åœ°æ–‡ä»¶å¤¹ï¼Œå‡ºç°äº† &lt;code>.github/workflows/main.yml&lt;/code> æ–‡ä»¶&lt;/li>
&lt;li>æ£€æŸ¥æµæ°´çº¿æ˜¯å¦è¢«æ­£å¸¸è§¦å‘ï¼ˆæŸ¥çœ‹æµæ°´çº¿æ—¥å¿—ï¼‰&lt;/li>
&lt;/ul>
&lt;p>&lt;img src="https://cdn.jsdelivr.net/gh/Falasool/blog-pic-bed/blog/test-autodeploy-system.png"
loading="lazy"
alt="æµ‹è¯•è‡ªåŠ¨å‘å¸ƒç³»ç»Ÿ"
>&lt;/p>
&lt;p>åšå®¢æ­å»ºå®Œæˆ&lt;/p>
&lt;h3 id="ä¿®å¤åšå®¢æœç´¢åŠŸèƒ½">ä¿®å¤åšå®¢æœç´¢åŠŸèƒ½&lt;/h3>
&lt;p>è¾“å…¥å…³é”®è¯åé¡µé¢ç©ºç™½ï¼Œåœ¨æ§åˆ¶å° Network çœ‹åˆ°æ˜¯ search.json çš„è·¨åŸŸé—®é¢˜ã€‚&lt;/p>
&lt;p>åŸå› æ˜¯åšå®¢ä½¿ç”¨ xx.github.io åŸŸåå ç”¨ CNAME æŒ‡å‘ä¸ªäººåŸŸåã€‚æ¨¡ç‰ˆçš„ &lt;code>{{ .Permalink }}&lt;/code> æ‹¿åˆ°çš„æ˜¯é…ç½®æ–‡ä»¶é‡Œçš„ baseURLï¼Œæ‰€ä»¥å°±è·¨åŸŸäº†ã€‚æœ€ç²—æš´çš„åŠæ³•ï¼ŒæŠŠæ¨¡ç‰ˆå†™æ­»ï¼Œæœç´¢åŠŸèƒ½å°±å¥½äº†&lt;/p>
&lt;h2 id="ä½¿ç”¨æ­¥éª¤">ä½¿ç”¨æ­¥éª¤&lt;/h2>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl"># æ–°å»ºæ–‡ç« 
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">hugo new post/&amp;lt;title&amp;gt;.md
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"># æ‰“å¼€&amp;lt;title.md&amp;gt;ï¼Œç¼–è¾‘å¹¶ä¿å­˜
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"># æœ¬åœ°é¢„è§ˆ
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">hugo server -D
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"># æ²¡é—®é¢˜äº†å°±pushåˆ°è¿œç¨‹ä»“åº“ï¼ŒActionsä¼šè‡ªåŠ¨éƒ¨ç½²
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">git add .
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">git commit -m &amp;#34;test&amp;#34;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">git push origin main
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="æ‹“å±•">æ‹“å±•&lt;/h3>
&lt;p>Github Actions å®ç°çš„ä¸‰ç§æ–¹æ¡ˆï¼š&lt;/p>
&lt;ul>
&lt;li>github_token&lt;/li>
&lt;li>deploy_key&lt;/li>
&lt;li>personal_token&lt;/li>
&lt;/ul>
&lt;p>é€‚ç”¨æƒ…å†µå’Œå·®å¼‚è¯·å‚è€ƒ &lt;a class="link" href="https://github.com/peaceiris/actions-gh-pages#%ef%b8%8f-create-ssh-deploy-key" target="_blank" rel="noopener"
>å®˜æ–¹æ–‡æ¡£&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
&lt;/p>
&lt;h2 id="ç›¸å…³å‚è€ƒ">ç›¸å…³å‚è€ƒ&lt;/h2>
&lt;p>&lt;a class="link" href="https://creaink.github.io/post/Devtools/Hugo/Hugo-intro.html" target="_blank" rel="noopener"
>Hugo æ­å»ºåšå®¢å®è·µ&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
&lt;/p>
&lt;p>&lt;a class="link" href="https://zhuanlan.zhihu.com/p/156615362" target="_blank" rel="noopener"
>Git Submodule å‘½ä»¤ä¸ç†è§£&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
&lt;/p>
&lt;p>&lt;a class="link" href="https://zz2summer.github.io/github-pages-hugo-%e6%90%ad%e5%bb%ba%e4%b8%aa%e4%ba%ba%e5%8d%9a%e5%ae%a2/#%e4%b8%89%e6%96%b0%e5%bb%ba-hugo-%e7%bd%91%e7%ab%99" target="_blank" rel="noopener"
>Github Pages + Hugo æ­å»ºä¸ªäººåšå®¢&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
&lt;/p>
&lt;p>è‡ªåŠ¨å‘å¸ƒç³»ç»Ÿ&lt;/p>
&lt;p>&lt;a class="link" href="https://www.ruanyifeng.com/blog/2019/09/getting-started-with-github-actions.html" target="_blank" rel="noopener"
>GitHub Actions å…¥é—¨æ•™ç¨‹&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
&lt;/p>
&lt;p>&lt;a class="link" href="https://docs.github.com/en/actions/using-workflows/workflow-syntax-for-github-actions" target="_blank" rel="noopener"
>Workflow syntax for GitHub Actions&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
&lt;/p>
&lt;p>&lt;a class="link" href="https://www.wingwill.com.tw/zh-tw/%e9%83%a8%e8%90%bd%e6%a0%bc/%e9%9b%b2%e5%9c%b0%e6%b7%b7%e5%90%88%e6%87%89%e7%94%a8/cicd%e5%b7%a5%e5%85%b7/" target="_blank" rel="noopener"
>CI/CDæ˜¯ä»€éº¼ï¼Ÿä¸€ç¯‡èªè­˜CI/CDå·¥å…·åŠå„ªå‹¢ï¼Œå°‡æ—¥å¸¸ç‘£äº‹è‡ªå‹•åŒ–&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
&lt;/p>
&lt;p>&lt;a class="link" href="https://www.pseudoyu.com/zh/2022/05/29/deploy_your_blog_using_hugo_and_github_action/" target="_blank" rel="noopener"
>Hugo + GitHub Actionï¼Œæ­å»ºä½ çš„åšå®¢è‡ªåŠ¨å‘å¸ƒç³»ç»Ÿ&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
&lt;/p>
&lt;p>&lt;a class="link" href="https://kaiiiz.github.io/blog/hugo-with-github-actions/" target="_blank" rel="noopener"
>Hugo æ­é… Github Actions å¯¦ç¾ Github Pages çš„è‡ªå‹•éƒ¨ç½²&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
&lt;/p>
&lt;p>&lt;a class="link" href="https://lucumt.info/post/hugo/using-github-action-to-auto-build-deploy/" target="_blank" rel="noopener"
>åˆ©ç”¨GitHub Actionå®ç°Hugoåšå®¢åœ¨GitHub Pagesè‡ªåŠ¨éƒ¨ç½²&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
&lt;/p>
&lt;p>&lt;a class="link" href="https://juejin.cn/post/6872187669196046350" target="_blank" rel="noopener"
>GitHubAction + Hugo è‡ªåŠ¨æ„å»ºå‘å¸ƒä¸ªäººåšå®¢&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
&lt;/p>
&lt;p>&lt;a class="link" href="https://h1z3y3.me/posts/hugo-auto-deploy-github-with-actions/" target="_blank" rel="noopener"
>ä½¿ç”¨ Github Actions è‡ªåŠ¨å‘å¸ƒ hugo ç«™ç‚¹&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
&lt;/p>
&lt;p>***&lt;/p>
&lt;p>&lt;a class="link" href="https://www.jianshu.com/p/5394cf204fad" target="_blank" rel="noopener"
>æŠ˜è…¾Hugo | GitHub Pages | Github Actionsè‡ªåŠ¨æ„å»ºå‘å¸ƒå…è´¹ä¸ªäººç½‘ç«™&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
&lt;/p>
&lt;p>&lt;a class="link" href="https://simumis.com/posts/deploy-to-github/" target="_blank" rel="noopener"
>å°†Hugoé™æ€ç½‘ç«™éƒ¨ç½²åˆ°Github Pages&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
&lt;/p>
&lt;p>&lt;a class="link" href="https://www.criwits.top/page/20220828132827-0gnvmfs" target="_blank" rel="noopener"
>ç”¨ Hugo é…åˆ GitHub Actions å’Œ GitHub Pages æ­å»ºåšå®¢&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
&lt;/p></description></item><item><title>Hugo | ç»™åšå®¢æ·»åŠ è¯„è®ºç³»ç»Ÿ</title><link>https://falasool.github.io/2022/hugo-comment-system-disqusjs/</link><pubDate>Fri, 14 Oct 2022 19:12:42 +0800</pubDate><guid>https://falasool.github.io/2022/hugo-comment-system-disqusjs/</guid><description>&lt;!-- raw HTML omitted -->
&lt;p>Updateï¼šç”¨è¿‡ Catausã€Disqusï¼ŒCataus å’ŒåŒåä¸»é¢˜é…åˆèµ·æ¥å¾ˆå¯çˆ±ï¼Œç”¨äº†ä¸€æ®µæ—¶é—´ Disqus åå¯¹å®ƒçš„ UI ä¸å¤ªæ»¡æ„ï¼Œå†åŠ ä¸Šå¼ºåˆ¶ç™»å½•æ¯”è¾ƒæ¼äººï¼Œå°±æ¢æˆè±¡å‹æ¨èçš„ Twikoo è¯•è¯•&lt;/p>
&lt;h2 id="twikoo">Twikoo&lt;/h2>
&lt;h3 id="è®¾ç½®æ•°æ®åº“-mongodb">è®¾ç½®æ•°æ®åº“ MongoDB&lt;/h3>
&lt;p>æŒ‰ç…§ &lt;a class="link" href="https://twikoo.js.org/quick-start.html#%E5%91%BD%E4%BB%A4%E8%A1%8C%E9%83%A8%E7%BD%B2" target="_blank" rel="noopener"
>å®˜æ–¹æ–‡æ¡£&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
ï¼Œæˆ‘ç”¨çš„ Vercel éƒ¨ç½²&lt;/p>
&lt;p>åˆ›å»ºæ•°æ®åº“ï¼Œé€‰ Free æ–¹æ¡ˆï¼ŒåŒºåŸŸé€‰æ‹© &lt;code>AWS / N. Virginia (us-east-1)&lt;/code>ï¼Œè®¾ç½®å¹¶ä¿å­˜å¥½ç”¨æˆ·åå’Œå¯†ç &lt;/p>
&lt;p>åœ¨ &lt;code>Where would you like to connect from?&lt;/code> è¿™ä¸€æ­¥å¡« 0.0.0.0ï¼Œç„¶åç‚¹ &lt;code>Add Entry&lt;/code>ï¼Œæœ€åç¡®è®¤åˆ›å»ºæ•°æ®åº“&lt;/p>
&lt;p>è¿›å…¥æ•°æ®åº“ï¼Œconnect - Drivers - Node.jsï¼ŒæŠŠå®ä¾‹çš„ç”¨æˆ·åå’Œå¯†ç æ”¹æˆè‡ªå·±çš„ï¼Œä¾‹å¦‚ï¼š&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">mongodb+srv://twikoo:fhahflanclal3o2u0@cluster0.tke1htc.mongodb.net/?retryWrites=true&amp;amp;w=majority
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="vercel-éƒ¨ç½²">Vercel éƒ¨ç½²&lt;/h3>
&lt;p>æŒ‰ç…§æ–‡æ¡£çš„ä¸€é”®éƒ¨ç½²ï¼Œç­‰å¾…&amp;hellip;&lt;/p>
&lt;p>åœ¨æ§åˆ¶å° - settings - Environment Variablesï¼Œæ·»åŠ ç¯å¢ƒå˜é‡ &lt;code>MONGODB_URI&lt;/code>ï¼Œå€¼ä¸ºä¹‹å‰çš„æ•°æ®åº“è¿æ¥å­—ç¬¦ä¸²&lt;/p>
&lt;p>è¿›å…¥ Deployments , ç„¶ååœ¨ä»»æ„ä¸€é¡¹åé¢ç‚¹å‡»æ›´å¤šï¼ˆä¸‰ä¸ªç‚¹ï¼‰ , ç„¶åç‚¹å‡» Redeploy , æœ€åç‚¹å‡»ä¸‹é¢çš„ Redeploy&lt;/p>
&lt;p>è®¿é—® Vercel åˆ†é…çš„åŸŸåï¼Œå¦‚æœç¯å¢ƒé…ç½®æ­£ç¡®ï¼Œå¯ä»¥çœ‹åˆ° â€œTwikoo äº‘å‡½æ•°è¿è¡Œæ­£å¸¸â€ çš„æç¤º&lt;/p>
&lt;p>å› ä¸º vercel.app åŸŸåå·²ç»è¢«ä¸­å›½æ”¿åºœå±è”½ï¼Œå¤§é™†ç”¨æˆ·æ— æ³•è¯„è®ºã€‚ä¸è¿‡æ²¡å…³ç³»ï¼Œåœ¨ twikoo-api &amp;gt; settings &amp;gt; domains æ·»åŠ è‡ªå®šä¹‰åŸŸåå¯è§£å†³&lt;/p>
&lt;h3 id="é…ç½®åˆ°åšå®¢">é…ç½®åˆ°åšå®¢&lt;/h3>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-yaml" data-lang="yaml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">comments&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">enabled&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kc">true&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">provider&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">twikoo&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">twikoo&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">envId&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">&amp;lt;ä½ çš„åŸŸåæˆ–vercelåˆ†é…çš„åŸŸå&amp;gt;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>éƒ¨ç½²æˆåŠŸåç‚¹å³ä¸‹è§’ â†˜ï¸ çš„é½¿è½® âš™ï¸ å›¾æ ‡ï¼Œè®¾ç½®ç®¡ç†å¯†ç &lt;/p>
&lt;h3 id="æ›´æ–°">æ›´æ–°&lt;/h3>
&lt;p>ç®¡ç†é¡µé¢æç¤ºï¼šClient version: 1.5.11ï¼Œ Server version: 1.6.16ï¼Œ è¯·å‚è€ƒ &lt;a class="link" href="https://twikoo.js.org/quick-start.html#%e7%89%88%e6%9c%ac%e6%9b%b4%e6%96%b0" target="_blank" rel="noopener"
>ç‰ˆæœ¬æ›´æ–°&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
è¿›è¡Œå‡çº§&lt;/p>
&lt;p>åœ¨ twikoo.html é‡ŒæŠŠå¼•å…¥çš„ js æ–‡ä»¶ç‰ˆæœ¬ä¿®æ”¹åˆ° 1.6.16&lt;/p>
&lt;h3 id="è¿›é˜¶">è¿›é˜¶&lt;/h3>
&lt;ul>
&lt;li>å¤šä¸ªé¡µé¢å…±ç”¨è¯„è®ºåŒº&lt;/li>
&lt;/ul>
&lt;blockquote>
&lt;p>å‚è€ƒ &lt;a class="link" href="https://www.imaegoo.com/2021/twikoo-path/" target="_blank" rel="noopener"
>Twikoo å¤šä¸ªé¡µé¢å…±ç”¨ä¸€ä¸ªè¯„è®ºåŒº&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
å®ç° About &amp;amp;&amp;amp; Friends é¡µé¢å…±ç”¨è¯„è®ºåŒº&lt;/p>
&lt;/blockquote>
&lt;p>è®¾ç½®ä¸»é¢˜çš„ Twikoo path é…ç½®ä¸º&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-yaml" data-lang="yaml">&lt;span class="line">&lt;span class="cl">&lt;span class="c"># config.yaml&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">twikoo&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">path&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">window.TWIKOO_MAGIC_PATH||window.location.pathname&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>åœ¨ä¸¤ä¸ªé¡µé¢çš„ &lt;code>.md&lt;/code> æ­£æ–‡éƒ¨åˆ†æ·»åŠ  &lt;code>&amp;lt;script&amp;gt;window.TWIKOO_MAGIC_PATH=&amp;quot;xxx&amp;quot;&amp;lt;/script&amp;gt;&lt;/code>&lt;/p>
&lt;p>ç»æµ‹è¯•ç”Ÿæ•ˆ ğŸ‰&lt;/p>
&lt;h2 id="disqus">Disqus&lt;/h2>
&lt;p>é€‰æ‹© Disqus æ˜¯å› ä¸º Hugo å†…ç½®äº†å®ƒçš„æ¨¡æ¿ï¼ŒåŒæ—¶å®ƒå¯¹è¿ç§»çš„æ”¯æŒè¾ƒå¥½ï¼Œæœ¬èº«åŠŸèƒ½éå¸¸é½å…¨ï¼Œæ¯”è¾ƒé—æ†¾çš„æ˜¯ä» 2015 å¹´å¼€å§‹è¢«å¢™äº†&lt;/p>
&lt;p>å‚è€ƒ &lt;a class="link" href="https://gohugo.io/content-management/comments/" target="_blank" rel="noopener"
>å®˜æ–¹æ–‡æ¡£&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
&lt;/p>
&lt;h3 id="åŸºç¡€è®¾ç½®">åŸºç¡€è®¾ç½®&lt;/h3>
&lt;p>åœ¨ &lt;a class="link" href="https://disqus.com/" target="_blank" rel="noopener"
>Disqus&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
æ³¨å†Œå¹¶ç™»å½•è´¦å·ï¼Œæ·»åŠ ç«™ç‚¹ï¼ˆé€‰æ‹© I want to install Disqus on my siteï¼‰&lt;/p>
&lt;p>è¾“å…¥ä½ æƒ³è¦çš„ Website Nameï¼Œç”¨ä½œæ’å…¥ config æ–‡ä»¶çš„åå­—ï¼ŒåæœŸå¯ä»¥åœ¨ Disqus -&amp;gt; Setting -&amp;gt; General ä¸‹æŸ¥çœ‹å’Œä¿®æ”¹&lt;/p>
&lt;p>åœ¨ Configure Disqus for Your Site é¡µé¢è¾“å…¥ Website URLï¼Œè¦è¾“å…¥å®Œæ•´çš„åœ°å€ï¼Œæ¯”å¦‚å¦‚æœåƒæˆ‘ä¸€æ ·ä½¿ç”¨çš„æ˜¯ GitHub Pages ï¼Œå°±è¦åŠ ä¸Š &lt;code>https://&lt;/code> çš„åè®®åï¼›&lt;/p>
&lt;p>é€‰æ‹© Categoryï¼Œç‚¹å‡» Create Site å®Œæˆæ³¨å†Œ&lt;/p>
&lt;p>é€‰æ‹©æ–¹æ¡ˆï¼Œæˆ‘é€‰ free&lt;/p>
&lt;p>ç¼–è¾‘åšå®¢çš„é…ç½®æ–‡ä»¶ config.yamlï¼Œæ·»åŠ  disqusShortname è®¾ç½®&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl"># åœ¨ç¬¬ 23 è¡Œå·¦å³
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">disqusShortname: YOURSITENAME
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="å¯é€‰é¡¹">å¯é€‰é¡¹&lt;/h3>
&lt;h4 id="æ·»åŠ å¯ä¿¡åŸŸ">æ·»åŠ å¯ä¿¡åŸŸ&lt;/h4>
&lt;p>Disqus çš„ç«™ç‚¹åç§°æ˜¯å…¬å¼€çš„ï¼Œå¦‚æœè¦é˜²æ­¢è¢«åˆ«äººæ»¥ç”¨ï¼Œå¯ä»¥è¿›è¡ŒåŸŸåç»‘å®šï¼Œåªå…è®¸ä¿¡ä»»çš„åŸŸåä½¿ç”¨ä½ çš„è¯„è®º&lt;/p>
&lt;p>åœ¨ Disqus -&amp;gt; Site -&amp;gt; Advanced æ·»åŠ  Trusted Domains&lt;/p>
&lt;h4 id="ç‰¹å®šåšæ–‡å¼€å¯å…³é—­è¯„è®º">ç‰¹å®šåšæ–‡å¼€å¯/å…³é—­è¯„è®º&lt;/h4>
&lt;p>&lt;a class="link" href="https://lvv.me/posts/2019/12/10_hugo_disqus/" target="_blank" rel="noopener"
>https://lvv.me/posts/2019/12/10_hugo_disqus/&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
&lt;/p>
&lt;h2 id="ç›¸å…³å‚è€ƒ">ç›¸å…³å‚è€ƒ&lt;/h2>
&lt;p>&lt;!-- raw HTML omitted -->æ„Ÿè°¢å‰äººçš„è€•è€˜å’Œåˆ†äº«ï¼Œå¸Œæœ›æœ¬æ–‡ä¹Ÿèƒ½ç»™ä½ å¸¦æ¥ä¸€äº›å¸®åŠ© â¤ï¸&lt;!-- raw HTML omitted -->&lt;/p>
&lt;p>&lt;a class="link" href="https://thirdshire.com/post/twikoo-tutorial/" target="_blank" rel="noopener"
>åœ¨é™æ€åšå®¢é‡Œæ·»åŠ  Twikoo è¯„è®ºç³»ç»Ÿï¼Œå¹¶é…ç½®é‚®ç®±å’Œ TG é€šçŸ¥&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
&lt;/p>
&lt;p>&lt;a class="link" href="https://blog.fooleap.org/use-disqus-correctly.html" target="_blank" rel="noopener"
>ç§‘å­¦ä½¿ç”¨ Disqus&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
&lt;/p>
&lt;p>&lt;a class="link" href="https://juejin.cn/post/6844903905910849550" target="_blank" rel="noopener"
>Disqus è¯„è®ºæ¡†æ”¹é€ å·¥ç¨‹-å®ç° Disqus ä»£ç†çš„ Serverless æœåŠ¡&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
&lt;/p>
&lt;p>&lt;a class="link" href="https://blog.skk.moe/post/disqusjs/" target="_blank" rel="noopener"
>DisqusJS - ä¸€ä¸ªè¶…è½»é‡çº§çš„ DISQUSã€Œè¯„è®ºåŸºç¡€æ¨¡å¼ã€çš„å®ç°&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
&lt;/p>
&lt;p>&lt;a class="link" href="https://lvv.me/posts/2019/12/10_hugo_disqus/" target="_blank" rel="noopener"
>ç»™ Hugo å¼€å¯ Disqus è¯„è®ºç³»ç»Ÿ&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
&lt;/p></description></item><item><title>Hugo | Front Matter</title><link>https://falasool.github.io/2022/hugo-front-matter/</link><pubDate>Wed, 12 Oct 2022 20:08:18 +0800</pubDate><guid>https://falasool.github.io/2022/hugo-front-matter/</guid><description>&lt;h2 id="ä»€ä¹ˆæ˜¯-front-matter">ä»€ä¹ˆæ˜¯ Front Matter&lt;/h2>
&lt;p>æ˜¯æŒ‡ .md æ–‡ä»¶æœ€ä¸Šé¢çš„è¿™ä¸€éƒ¨åˆ†å†…å®¹&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">---
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">title: xxxxxx
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">date: 2022-10-10 09:39:50
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">type: tags
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">layout: tags=
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">---
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>æ¯æ¬¡æ‰§è¡Œ &lt;code>hugo new&lt;/code> å‘½ä»¤æ–°å»ºæ–‡ç« æ—¶ï¼ŒHugo ä¼šä» &lt;code>./archetypes&lt;/code> ä¸­å¯»æ‰¾å¯¹åº”çš„ Front Matter æ¨¡æ¿å¹¶è‡ªåŠ¨æ·»åŠ åˆ°æ–°å»ºæ–‡ä»¶çš„æœ€ä¸Šæ–¹&lt;/p>
&lt;p>Front Matter é‡Œçš„å‚æ•°å®šä¹‰äº†æ‰€åœ¨åšæ–‡çš„å¤–è§‚ã€åŠŸèƒ½&lt;/p>
&lt;h2 id="å¸¸ç”¨-front-matter-è®¾ç½®">å¸¸ç”¨ Front Matter è®¾ç½®&lt;/h2>
&lt;p>æ²¡æœ‰å…´è¶£å®¢åˆ¶åŒ–å¯ä»¥å¤åˆ¶ä»¥ä¸‹ä»£ç ï¼Œæ·»åŠ è¿› &lt;code>./archetypes/default.md&lt;/code> æ–‡ä»¶&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">---
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"># ä½¿ç”¨æ—¶éœ€åˆ é™¤æ³¨é‡Šå’Œç©ºè¡Œ
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"># åˆ›å»ºå’Œæ–‡ä»¶åç›¸åŒçš„æ–‡ç« æ ‡é¢˜
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">title: &amp;#34;{{ replace .Name &amp;#34;-&amp;#34; &amp;#34; &amp;#34; | title }}&amp;#34;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">description: &amp;#34;&amp;#34;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"># ä¼˜åŒ– URL
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">slug: &amp;#34;{{ replace .Name &amp;#34;-&amp;#34; &amp;#34; &amp;#34; | title }}&amp;#34;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">author: [&amp;#34;Rubberduck&amp;#34;]
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">type: post/draft/page
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">date: {{ .Date }}
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">draft: false
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"># éšæœºåŒ¹é…ä¸€å¼ å›¾ç‰‡
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">image: https://picsum.photos/seed/picsum/800/600.webp?random={{ substr (md5 (.Date)) 4 8 }}
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">categories: [&amp;#34;Tutorials&amp;#34;]
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">tags: [&amp;#34;Hugo&amp;#34;,&amp;#34;tech&amp;#34;]
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">keywords: [&amp;#34;tutorials&amp;#34;, &amp;#34;Hugo&amp;#34;, &amp;#34;mac&amp;#34;,&amp;#34;tech&amp;#34;]
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">metaAlignment: center
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">coverMeta: in/out
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">coverSize: partial
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">coverCaption: &amp;#34;æ–‡ç« coverå›¾ç‰‡æè¿°&amp;#34;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">isCJKLanguage: true
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">---
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>ä¸‹é¢å…·ä½“è¯´æ˜å„é¡¹å‚æ•°ï¼Œ&lt;/p>
&lt;h2 id="front-matter-å†…å®¹">Front Matter å†…å®¹&lt;/h2>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>å‚æ•°&lt;/th>
&lt;th>æè¿°&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>title&lt;/td>
&lt;td>æ ‡é¢˜ï¼Œé»˜è®¤ä¸æ–‡ä»¶åä¸€è‡´&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>date&lt;/td>
&lt;td>é»˜è®¤ä¸ºæ–‡ä»¶åˆ›å»ºæ—¥æœŸ&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>type&lt;/td>
&lt;td>æ–‡ç« ç±»åˆ«ï¼Œå¯é€‰post/page/draftç­‰ç­‰&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>slug&lt;/td>
&lt;td>æŒ‡å®šæ–‡ç« ç½‘å€&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>update&lt;/td>
&lt;td>æ–‡ä»¶æ›´æ–°æ—¥æœŸ&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>lastmod&lt;/td>
&lt;td>æ–‡ç« æœ€åæ›´æ–°æ—¥æœŸ&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>description&lt;/td>
&lt;td>æ–‡ç« æè¿°ï¼Œä¼šè¢«æŠ“å»åšSEOæ”¾åœ¨HTMLçš„headerä¸­&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>categories&lt;/td>
&lt;td>åˆ†ç±»ï¼ˆä¸é€‚ç”¨äºåˆ†é¡µï¼‰&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>tags&lt;/td>
&lt;td>æ ‡ç­¾ï¼ˆä¸é€‚ç”¨äºåˆ†é¡µï¼‰&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>hidden&lt;/td>
&lt;td>æ˜¯å¦éšè—æ–‡ç« ï¼Œå€¼ä¸º true æ—¶è¾“å…¥æ­£ç¡®ç½‘å€å°±å¯ä»¥æŸ¥çœ‹&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>draft&lt;/td>
&lt;td>æ˜¯å¦ä¸ºè‰ç¨¿ï¼Œå€¼ä¸º true æ—¶ Hugo ä¸ç¼–è¯‘è¿™ä¸ªæ–‡ä»¶&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>layout&lt;/td>
&lt;td>æŒ‡å®šæ–‡ç« ä½¿ç”¨çš„æ¨¡æ¿ï¼Œä¸æŒ‡å®šçš„è¯ä¼šä½¿ç”¨ æ ¹ç›®å½•/_config.toml ä¸­çš„é»˜è®¤é…ç½® default_layout:post&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>comments&lt;/td>
&lt;td>å¼€å¯æ–‡ç« è¯„è®ºåŠŸèƒ½ï¼Œé»˜è®¤ä¸º true&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>permalink&lt;/td>
&lt;td>è¦†ç›–æ–‡ç« ç½‘å€&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>coverImage&lt;/td>
&lt;td>è®¾ç½®æ–‡ç« å°é¢å›¾ç‰‡&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>metaAlignment&lt;/td>
&lt;td>è®¾ç½®æ–‡ç« titleçš„ä½ç½®&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>coverMeta&lt;/td>
&lt;td>æ–‡ç« titleæ”¾åœ¨å°é¢å›¾ç‰‡ä¸­å¤®è¿˜æ˜¯å¤–é¢&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>coverSize&lt;/td>
&lt;td>å°é¢å›¾ç‰‡å¤§å°&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;p>å¦‚æœéœ€è¦æ·»åŠ  Hugo åˆ›å»ºçš„ &lt;code>.md&lt;/code> æ–‡ä»¶çš„ Front Matter æ¨¡æ¿æ²¡æœ‰çš„å‚æ•°ï¼Œå¯ä»¥ç¼–è¾‘ archetypes æ–‡ä»¶å¤¹ä¸‹çš„ default.md æ–‡ä»¶&lt;/p>
&lt;p>æ›´å¤šè¯·å‚è€ƒå®˜æ–¹æ–‡æ¡£ &lt;a class="link" href="https://gohugo.io/content-management/front-matter/" target="_blank" rel="noopener"
>Hugoï½œFront Matter&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
&lt;/p>
&lt;h2 id="ç›¸å…³å‚è€ƒ">ç›¸å…³å‚è€ƒ&lt;/h2>
&lt;p>&lt;!-- raw HTML omitted -->æ„Ÿè°¢å‰äººçš„è€•è€˜å’Œåˆ†äº«ï¼Œå¸Œæœ›æœ¬æ–‡ä¹Ÿèƒ½ç»™ä½ å¸¦æ¥ä¸€äº›å¸®åŠ© â¤ï¸&lt;!-- raw HTML omitted -->&lt;/p>
&lt;p>&lt;a class="link" href="https://blog.genesu.me/2020/09/hugo-front-matter/" target="_blank" rel="noopener"
>è²¼èº«æ‰“é€ å€‹äººéƒ¨è½æ ¼ - 02. æ–‡ç«  Front Matter&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
&lt;/p>
&lt;p>&lt;a class="link" href="https://blog.gezi.men/p/hugo-theme-stack-configuration/" target="_blank" rel="noopener"
>Hugoä¹‹è·¯ 2 | hugo-theme-stack é…ç½®&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
â€”â€” å‚è€ƒäº†åŒ¹é…éšæœºå›¾ç‰‡çš„ä»£ç &lt;/p></description></item><item><title>Hugo | åˆæ¬¡æ­å»ºè®°å½•</title><link>https://falasool.github.io/2022/build-blog-site-use-hugo-win/</link><pubDate>Wed, 12 Oct 2022 16:06:44 +0800</pubDate><guid>https://falasool.github.io/2022/build-blog-site-use-hugo-win/</guid><description>&lt;h2 id="å‰æœŸå‡†å¤‡">å‰æœŸå‡†å¤‡&lt;/h2>
&lt;h3 id="å®‰è£…-hugo">å®‰è£… Hugo&lt;/h3>
&lt;ul>
&lt;li>æ‰“å¼€ Github ä¸­çš„ &lt;a class="link" href="https://github.com/gohugoio/hugo" target="_blank" rel="noopener"
>Hugo&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
åº“ï¼Œä¸‹è½½æœ€æ–°çš„ç‰ˆæœ¬ï¼Œæœ¬æ¬¡ä¸‹è½½ï¼š&lt;code>hugo_extended_0.99.1_Windows-64bit.zip&lt;/code>&lt;/li>
&lt;li>å› ä¸ºä¸€äº›ä¸»é¢˜éœ€è¦è¿›è¡Œ SCSS/SASS æ„å»ºï¼Œæ‰€ä»¥æ¨èä¸‹è½½ extended ç‰ˆæœ¬ï¼Œæ™®é€šç‰ˆæœ¬å¯èƒ½ä¼šæŠ¥é”™ï¼š&lt;code>you need the extended version to build SCSS/SASS&lt;/code>&lt;/li>
&lt;li>é…ç½®ç¯å¢ƒå˜é‡
&lt;ul>
&lt;li>åœ¨ æ§åˆ¶é¢æ¿ -&amp;gt; ç³»ç»Ÿ -&amp;gt; é«˜çº§ç³»ç»Ÿè®¾ç½® -&amp;gt; é«˜çº§ ä¸­æ‰¾åˆ°&lt;strong>ç¯å¢ƒå˜é‡&lt;/strong>&lt;/li>
&lt;li>åœ¨&lt;strong>ç”¨æˆ·å˜é‡&lt;/strong>ä¸­æ‰¾åˆ° Path å˜é‡ï¼Œç‚¹å‡»ç¼–è¾‘ï¼Œåœ¨å¼¹å‡ºçš„çª—å£ä¸­é€‰æ‹©æ–°å»ºï¼Œè¾“å…¥ &lt;code>Hugo.exe&lt;/code> æ–‡ä»¶çš„æ–‡ä»¶å¤¹è·¯å¾„ï¼ˆä¸è¦åŒ…æ‹¬ Hugo.exe æœ¬èº«ï¼‰&lt;/li>
&lt;li>æµ‹è¯•é…ç½®æ˜¯å¦æˆåŠŸï¼šåœ¨ &lt;code>E:\&lt;/code> ç©ºç™½å¤„å³é”®ï¼Œç‚¹å‡» &lt;code>Git Bash Here&lt;/code> ï¼Œåœ¨å‘½ä»¤è¡Œä¸­è¾“å…¥ &lt;code>hugo version&lt;/code> ï¼Œè‹¥è¿”å› Hugo ç‰ˆæœ¬å·ä¿¡æ¯ï¼Œè¯´æ˜é…ç½®æˆåŠŸ&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h3 id="å®‰è£…-git">å®‰è£… Git&lt;/h3>
&lt;p>åœ¨ &lt;a class="link" href="https://git-scm.com/downloads" target="_blank" rel="noopener"
>Git&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
ä¸‹è½½ã€å®‰è£…ç¨‹åºï¼ŒæŒ‰é»˜è®¤é€‰é¡¹å®‰è£…å³å¯&lt;/p>
&lt;h4 id="è®¾ç½®">è®¾ç½®&lt;/h4>
&lt;p>åœ¨å¼€å§‹èœå•æ‰¾åˆ° Git Bash ï¼Œæ‰“å¼€è¾“å…¥ï¼š&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">git config --global user.name &amp;#34;Your Name&amp;#34;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">git config --global user.email &amp;#34;email@example.com&amp;#34;
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h4 id="é…ç½®-ssh">é…ç½® SSH&lt;/h4>
&lt;p>SSH å¯†é’¥ç”¨æ¥é“¾æ¥æœ¬åœ°å’Œ Git æœåŠ¡å™¨ï¼Œå®ƒæˆå¯¹ç”Ÿæˆï¼Œåˆ†åˆ«æ˜¯â€ å…¬é’¥ â€œå’Œâ€ ç§é’¥ â€œï¼Œæˆ‘ä»¬å°†å…¶ä¸­çš„â€ å…¬é’¥ â€œä¿å­˜åˆ° Git ä»“åº“åï¼Œå°±å¯ä»¥åœ¨ç”µè„‘ä¸Šå‘è¿™ä¸ª Git ä»“åº“æäº¤ä»£ç ã€‚&lt;/p>
&lt;h5 id="ç”Ÿæˆ-ssh">ç”Ÿæˆ SSH&lt;/h5>
&lt;p>åœ¨ Git Bash Here é‡Œè¾“å…¥ï¼š&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">ssh-keygen -t rsa -C&amp;#34;æ³¨å†Œ github è´¦å·æ—¶ä½¿ç”¨çš„é‚®ç®±&amp;#34;
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>æŒ‰ç…§ç³»ç»Ÿæç¤ºæŒ‡å®šå¯†é’¥ä½ç½®ã€æ˜¯å¦éœ€è¦å¯†ç ï¼Œæ‡’å¾—è®¾ç½®å¯ä»¥ç›´æ¥å›è½¦ï¼Œæ˜¾ç¤ºå¦‚ä¸‹ç»“æœè¯´æ˜ SSH ç”ŸæˆæˆåŠŸï¼š&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">Your identification has veen saved in id_rsa
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Your public key has been saved in id_rsa.pub
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h5 id="è¿æ¥-ssh">è¿æ¥ SSH&lt;/h5>
&lt;p>åœ¨ &lt;code>C:/Users/ç”¨æˆ·å/.ssh/&lt;/code> è·¯å¾„æ‰¾åˆ°å…¬é’¥ id_rsa.pub ï¼Œå³é”®ç”¨è®°äº‹æœ¬æ‰“å¼€ï¼Œå¤åˆ¶å…¨éƒ¨å†…å®¹åˆ° Github è´¦å· -&amp;gt; Settings -&amp;gt; SSH and GPG keys ï¼Œæ–°å»ºä¸€ä¸ª SSH å¯†é’¥ï¼ŒæŠŠå…¬é’¥ç²˜è´´ä¿å­˜
æµ‹è¯• SSH è¿æ¥æ˜¯å¦å®Œæˆï¼Œåœ¨ Git Bash Here è¾“å…¥ï¼š&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">ssh -T git@github.com
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>å¦‚æœè¿”å›ï¼š&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">Hi username!YOu&amp;#39;ve successfully authenticated,but GitHub does not provide shell access.
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>è¯´æ˜ SSH è¿æ¥æˆåŠŸ&lt;/p>
&lt;h3 id="åˆ›å»º-github-ä»“åº“">åˆ›å»º Github ä»“åº“&lt;/h3>
&lt;p>æ³¨æ„ä»“åº“åè¦å’Œ GitHub ç”¨æˆ·åä¸€è‡´ï¼Œæ¯”å¦‚ä½ æ˜¯ xiaohongï¼Œé‚£ä¹ˆä½ è¦è¾“å…¥ xiaohong.github.io ï¼Œæœ€ç»ˆä»“åº“çš„å®Œæ•´åæ˜¯ xiaohong/xiaohong.github.io&lt;/p>
&lt;h3 id="å®‰è£…-vscode">å®‰è£… VSCode&lt;/h3>
&lt;p>Visual Studio Code (ç®€ç§° VS Code / VSC) æ˜¯ä¸€æ¬¾å…è´¹å¼€æºçš„ç°ä»£åŒ–è½»é‡çº§ä»£ç ç¼–è¾‘å™¨&lt;/p>
&lt;p>åœ¨ &lt;a class="link" href="https://code.visualstudio.com/download" target="_blank" rel="noopener"
>å®˜æ–¹ä¸‹è½½åœ°å€&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
é€‰æ‹©ç›¸åº”çš„ç‰ˆæœ¬ä¸‹è½½ï¼ŒæŒ‰ç…§é»˜è®¤é€‰é¡¹å®‰è£…ï¼Œå®‰è£…æ±‰åŒ–æ’ä»¶ Chinese (Simplified) Language Pack for Visual Studio Code&lt;/p>
&lt;h3 id="å®‰è£…-typoraå¯é€‰">å®‰è£… Typoraï¼ˆå¯é€‰ï¼‰&lt;/h3>
&lt;p>&lt;a class="link" href="https://typora.io/" target="_blank" rel="noopener"
>Typora&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
æ˜¯ä¸€æ¬¾è½»å‹ MarkDown ç¼–è¾‘å™¨ï¼Œå…¶å® VSCode å®‰è£… md æ’ä»¶åä¹Ÿèƒ½èƒœä»»å®ƒçš„å·¥ä½œï¼Œä½†æ˜¯æˆ‘ä»¬å°±è®©ä¸“ä¸šçš„ Typora åšä¸“ä¸šçš„äº‹å§&lt;/p>
&lt;p>åœ¨å®˜ç½‘ releases é¡µé¢è´­ä¹°ï¼Œæˆ–ç‚¹å‡» Dev/Beta Released -&amp;gt; ä¸‹æ‹‰åˆ°åº•ç«¯ old macOS beta/old Windows/Linux beta ä¸‹è½½ beta ç‰ˆ&lt;/p>
&lt;p>âš ï¸ å»ºè®®åœ¨åå¥½è®¾ç½®é‡Œï¼Œè®¾ç½®æ’å…¥å›¾ç‰‡æ—¶å¤åˆ¶åˆ°æŒ‡å®šè·¯å¾„ï¼ˆ./xx/ï¼‰ï¼Œè¿™æ ·å¤åˆ¶çš„å›¾ç‰‡å°±ä¼šè‡ªåŠ¨ä¿å­˜åœ¨å½“å‰æ–‡ä»¶å¤¹ä¸‹çš„xxæ–‡ä»¶å¤¹é‡Œï¼Œæ–¹ä¾¿åç»­ç®¡ç†ä¸è½¬ç§»ã€‚&lt;/p>
&lt;h2 id="å¼€å§‹å»ºç«™">å¼€å§‹å»ºç«™&lt;/h2>
&lt;h3 id="æ–°å»º-hugo-ç½‘ç«™">æ–°å»º Hugo ç½‘ç«™&lt;/h3>
&lt;ul>
&lt;li>æ–°å»ºä¸€ä¸ªæ–‡ä»¶å¤¹ç”¨æ¥å­˜æ”¾ Hugo ç½‘ç«™çš„æ–‡ä»¶ï¼Œä¾‹å¦‚ï¼šH:/HugoWebsite&lt;/li>
&lt;li>åœ¨ HugoWebsite æ–‡ä»¶å¤¹å†…ç©ºç™½å¤„ç‚¹å‡»å³é”®ï¼Œé€‰æ‹© Git Bush Here ï¼Œæ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼Œæ–°å»ºä¸€ä¸ª Hugo ç½‘ç«™&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">hugo new site blog # blogæ˜¯ç½‘ç«™æ–‡ä»¶å¤¹å
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="é€‰æ‹©-hugo-ä¸»é¢˜">é€‰æ‹© Hugo ä¸»é¢˜&lt;/h3>
&lt;p>åœ¨ github.com æœç´¢ hugo theme ï¼Œæˆ–åœ¨ &lt;a class="link" href="https://themes.gohugo.io/" target="_blank" rel="noopener"
>Hugo Themes&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
é€‰æ‹©ä½ å–œæ¬¢çš„ä¸»é¢˜ã€‚æ­¤å¤„ä»¥ &lt;a class="link" href="https://github.com/monkeyWzr/hugo-theme-cactus" target="_blank" rel="noopener"
>cactus&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
ä¸¾ä¾‹&lt;/p>
&lt;p>âš ï¸ æ¨èå°†ä¸»é¢˜ä»“åº“ fork åˆ°è‡ªå·±çš„è´¦å·ï¼Œä½¿ç”¨ &lt;code>git submodule&lt;/code> æ–¹å¼è¿›è¡Œä»“åº“è¿æ¥ï¼Œè¿™æ ·æ–¹ä¾¿åç»­å¯¹ä¸»é¢˜çš„ä¿®æ”¹è¿›è¡Œå•ç‹¬ç»´æŠ¤ï¼ˆå¦åˆ™&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-v" data-lang="v">&lt;span class="line">&lt;span class="cl">&lt;span class="nv">cd&lt;/span> &lt;span class="nv">blog&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nv">git&lt;/span> &lt;span class="nv">init&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nv">git&lt;/span> &lt;span class="nv">submodule&lt;/span> &lt;span class="nv">add&lt;/span> &lt;span class="nv">https&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="c1">//github.com/monkeyWzr/hugo-theme-cactus themes/hugo-theme-cactus
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>âš ï¸ &lt;code>git clone&lt;/code> å‘½ä»¤ä¹Ÿå¯ä»¥ï¼Œå°±æ˜¯ä¿®æ”¹å¯èƒ½ä¼šå’ŒåŸä¸»é¢˜å†²çªï¼Œä¸æ–¹ä¾¿ç‰ˆæœ¬ç®¡ç†å’Œåç»­æ›´æ–°ï¼Œåœ¨æ–‡ä»¶å¤¹ blog ç©ºç™½å¤„å³é”®ç‚¹å‡» Git Bush Here&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl"># è¿›å…¥ themes ç›®å½•ï¼Œå¦‚æœæ²¡æœ‰è¿™ä¸ªæ–‡ä»¶å¤¹ç”¨ mkdir -p themes è‡ªè¡Œåˆ›å»º
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">cd themes
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"># ä¸‹è½½ä¸»é¢˜åˆ° cactus æ–‡ä»¶å¤¹ä¸‹
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">git clone git@github.com:monkeyWzr/hugo-theme-cactus.git
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="é…ç½®ä¸»é¢˜">é…ç½®ä¸»é¢˜&lt;/h3>
&lt;p>å¤‡ä»½ blog æ–‡ä»¶å¤¹é‡Œçš„ config.toml æ–‡ä»¶ï¼Œç”¨ &lt;code>blog/themes/hugo-theme-cactus/exampleSite/&lt;/code> ä¸‹çš„ config.toml è¦†ç›– blog æ–‡ä»¶å¤¹ä¸‹çš„ config.toml
ï¼Œç„¶åæ‰“å¼€ config.toml ä¿®æ”¹é…ç½®&lt;/p>
&lt;h4 id="å¿…è¦çš„ä¿®æ”¹">å¿…è¦çš„ä¿®æ”¹&lt;/h4>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl"># ä¿®æ”¹ URL ä¸ºä½ çš„ GitHub ä»“åº“åç§°
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">baseURL = &amp;#34;https://username.github.io&amp;#34;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"># è¿™é‡Œå¿…é¡»å’Œ themes æ–‡ä»¶å¤¹é‡Œçš„ä¸»é¢˜æ–‡ä»¶å¤¹åç§°ä¸€è‡´ï¼Œæ‰€ä»¥æŠŠä¸»é¢˜æ–‡ä»¶åä» hugo-theme-cactus ä¿®æ”¹ä¸º cactus
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">theme = &amp;#34;cactus&amp;#34;
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="æœ¬åœ°é¢„è§ˆ">æœ¬åœ°é¢„è§ˆ&lt;/h3>
&lt;h4 id="æ–°å»ºæ–‡ç« ">æ–°å»ºæ–‡ç« &lt;/h4>
&lt;p>åœ¨ç½‘ç«™æ–‡ä»¶æ ¹ç›®å½•ï¼šE:\HugoWebsite\blog ä¸‹æ‰§è¡Œï¼š&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">hugo new post/first_article.md
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>åˆ° blog/content/post é‡Œæ‰“å¼€å¹¶ç¼–è¾‘æ–‡ç« å†…å®¹ï¼Œä¿å­˜&lt;/p>
&lt;h4 id="å¯åŠ¨-hugo-server">å¯åŠ¨ Hugo server&lt;/h4>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">hugo server -D
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>æ‰“å¼€ç½‘å€ http://localhost:1313/ è¿›è¡Œé¢„è§ˆï¼Œåœ¨ config.toml é‡Œè°ƒæ•´é¡µé¢æ•ˆæœ&lt;/p>
&lt;h3 id="éƒ¨ç½²åˆ°-github">éƒ¨ç½²åˆ° GitHub&lt;/h3>
&lt;p>è¿›å…¥ E:\HugoWebsite\blog\public ç›®å½•ï¼Œåˆå§‹åŒ– Git åº“&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl"># è¿›å…¥ public æ–‡ä»¶å¤¹
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">cd public
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"># åˆå§‹åŒ–
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">git init
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"># å°† git æœ¬åœ°åº“å…³è”è‡³è¿œç¨‹åº“
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">git remote add origin git@github.com:username/username.github.io.git
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"># æäº¤ä¿®æ”¹
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">git commit -m &amp;#34;firstarticle&amp;#34;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"># æŸ¥çœ‹å½“å‰ä¿®æ”¹çŠ¶æ€
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">git status
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"># æ·»åŠ æ‰€æœ‰ä¿®æ”¹è¿‡çš„æ–‡ä»¶
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">git add .
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"># æäº¤åˆ°æœ¬åœ°åº“ï¼Œ&amp;#34;add first-post&amp;#34;æ˜¯æœ¬æ¬¡æäº¤å†…å®¹çš„è¯´æ˜ä¿¡æ¯
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">git commit -m&amp;#34;add first-post&amp;#34;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"># æäº¤åˆ°è¿œç¨‹åº“
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">git push origin main
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>âœ¨ æ›¾ç» github çš„é»˜è®¤åˆ†æ”¯æ˜¯ masterï¼Œæ—¶é—´æ¯”è¾ƒä¹…çš„æ•™ç¨‹ã€Œæäº¤åˆ°è¿œç¨‹åº“ã€è¿™ä¸€æ­¥éƒ½æ˜¯&lt;code>git push origin master&lt;/code> ï¼Œè¿™é‡Œè¦æ³¨æ„&lt;/p>
&lt;h2 id="æ—¥å¸¸ä½¿ç”¨åšå®¢è¦çŸ¥é“çš„">æ—¥å¸¸ä½¿ç”¨åšå®¢è¦çŸ¥é“çš„&lt;/h2>
&lt;h3 id="front-matter">Front Matter&lt;/h3>
&lt;h4 id="ä»€ä¹ˆæ˜¯-front-matter">ä»€ä¹ˆæ˜¯ Front Matter&lt;/h4>
&lt;p>æ˜¯æŒ‡ .md æ–‡ä»¶æœ€ä¸Šé¢çš„è¿™ä¸€éƒ¨åˆ†å†…å®¹&lt;/p>
&lt;hr>
&lt;p>title: tags&lt;/p>
&lt;p>date: 2019-08-13 09:39:50&lt;/p>
&lt;p>type: tags&lt;/p>
&lt;p>layout: tag&lt;/p>
&lt;hr>
&lt;h4 id="front-matter-å†…å®¹">Front Matter å†…å®¹&lt;/h4>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>å‚æ•°&lt;/th>
&lt;th>æè¿°&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>title&lt;/td>
&lt;td>æ ‡é¢˜ï¼Œé»˜è®¤ä¸æ–‡ä»¶åä¸€è‡´&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>date&lt;/td>
&lt;td>é»˜è®¤ä¸ºæ–‡ä»¶åˆ›å»ºæ—¥æœŸ&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>slug&lt;/td>
&lt;td>æŒ‡å®šæ–‡ç« ç½‘å€&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>update&lt;/td>
&lt;td>æ–‡ä»¶æ›´æ–°æ—¥æœŸ&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>lastmod&lt;/td>
&lt;td>æ–‡ç« æœ€åæ›´æ–°æ—¥æœŸ&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>description&lt;/td>
&lt;td>æ–‡ç« æè¿°ï¼Œä¼šè¢«æŠ“å»åšSEOæ”¾åœ¨HTMLçš„headerä¸­&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>categories&lt;/td>
&lt;td>åˆ†ç±»ï¼ˆä¸é€‚ç”¨äºåˆ†é¡µï¼‰&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>tags&lt;/td>
&lt;td>æ ‡ç­¾ï¼ˆä¸é€‚ç”¨äºåˆ†é¡µï¼‰&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>hidden&lt;/td>
&lt;td>æ˜¯å¦éšè—æ–‡ç« ï¼Œå€¼ä¸º true æ—¶è¾“å…¥æ­£ç¡®ç½‘å€å°±å¯ä»¥æŸ¥çœ‹&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>draft&lt;/td>
&lt;td>æ˜¯å¦ä¸ºè‰ç¨¿ï¼Œå€¼ä¸º true æ—¶ Hugo ä¸ç¼–è¯‘è¿™ä¸ªæ–‡ä»¶&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>layout&lt;/td>
&lt;td>æŒ‡å®šæ–‡ç« ä½¿ç”¨çš„æ¨¡æ¿ï¼Œä¸æŒ‡å®šçš„è¯ä¼šä½¿ç”¨ æ ¹ç›®å½•/_config.toml ä¸­çš„é»˜è®¤é…ç½® default_layout:post&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>comments&lt;/td>
&lt;td>å¼€å¯æ–‡ç« è¯„è®ºåŠŸèƒ½ï¼Œé»˜è®¤ä¸º true&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>permalink&lt;/td>
&lt;td>è¦†ç›–æ–‡ç« ç½‘å€&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>coverImage&lt;/td>
&lt;td>è®¾ç½®æ–‡ç« å°é¢å›¾ç‰‡&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>metaAlignment&lt;/td>
&lt;td>è®¾ç½®æ–‡ç« titleçš„ä½ç½®&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>coverMeta&lt;/td>
&lt;td>æ–‡ç« titleæ”¾åœ¨å°é¢å›¾ç‰‡ä¸­å¤®è¿˜æ˜¯å¤–é¢&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>coverSize&lt;/td>
&lt;td>å°é¢å›¾ç‰‡å¤§å°&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;p>å¦‚æœéœ€è¦æ·»åŠ  Hugo åˆ›å»ºçš„ &lt;code>.md&lt;/code> æ–‡ä»¶è‡ªå¸¦çš„ Front Matter æ¨¡æ¿æ²¡æœ‰çš„å‚æ•°ï¼Œå¯ä»¥ç¼–è¾‘ archetypes æ–‡ä»¶å¤¹ä¸‹çš„ default.md æ–‡ä»¶&lt;/p>
&lt;p>æ›´å¤šè¯·å‚è€ƒ&lt;a class="link" href="https://gohugo.io/content-management/front-matter/" target="_blank" rel="noopener"
>Hugoï½œFront Matter&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
&lt;/p>
&lt;h3 id="å¦‚ä½•æ–°å»ºæˆ–ä¿®æ”¹åšæ–‡">å¦‚ä½•æ–°å»ºæˆ–ä¿®æ”¹åšæ–‡&lt;/h3>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl"># åœ¨æ ¹ç›®å½•ï¼šE:/HugoWebsite/blog ä¸‹æ–°å»ºæ–‡ç« æˆ–ç¼–è¾‘æ–‡ç« 
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">hugo new post/title.md
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"># æœ¬åœ°é¢„è§ˆï¼Œhttp://localhost:1313/
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">hugo server -D
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"># æ„å»º Hugo ç½‘ç«™
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">hugo
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"># åˆ‡æ¢åˆ°ç›®å½•ï¼šE:/HugoWebsite/blog/public
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">cd public
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"># æäº¤ä¿®æ”¹åˆ°æœ¬åœ°åº“
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">git add .
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">git commit -m&amp;#34;commit info&amp;#34;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"># æŠŠå†…å®¹æ‹‰ä¸‹æ¥ä»¥rebaseæ–¹å¼åˆå¹¶
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">git pull --rebase
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"># å°†ä¿®æ”¹æ¨åˆ°è¿œç¨‹åº“
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">git push -u origin main
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="å¦‚ä½•åˆ é™¤æ–‡ç« ">å¦‚ä½•åˆ é™¤æ–‡ç« &lt;/h3>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl"># åœ¨ç›®å½• E:/HugoWebsite/blog/content/post å’Œ E:/HugoWebsite/blog/public æ‰¾åˆ°å¯¹åº”æ–‡ç« åˆ é™¤
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"># å…¶ä¸­publicä¸‹æ–‡ä»¶ä¸åˆ é™¤ä¸ä¼šå½±å“æ˜¾ç¤ºï¼Œåªæ˜¯æ–‡ä»¶å°±ä¼šä¸€ç›´å­˜åœ¨ï¼Œé™¤.gitåˆ é”™äº†ä¹Ÿä¸è¦ç´§ï¼Œhugoå‘½ä»¤ä¼šé‡å»º
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"># æœ¬åœ°é¢„è§ˆï¼Œhttp://localhost:1313/
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">hugo server -D
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"># æ„å»º Hugo ç½‘ç«™
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">hugo
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"># åˆ‡æ¢åˆ°ç›®å½•ï¼šE:/HugoWebsite/blog/public
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"># æäº¤ä¿®æ”¹åˆ°æœ¬åœ°åº“
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">git add .
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">git commit -m&amp;#34;commit info&amp;#34;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"># æŠŠå†…å®¹æ‹‰ä¸‹æ¥ä»¥rebaseæ–¹å¼åˆå¹¶
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">git pull --rebase
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"># å°†ä¿®æ”¹æ¨åˆ°è¿œç¨‹åº“
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">git push -u origin main
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="è£…ä¿®æ²¡æœ‰æ­¢å¢ƒ">è£…ä¿®æ²¡æœ‰æ­¢å¢ƒ&lt;/h2>
&lt;p>è¯„è®ºç³»ç»Ÿç”¨ cactusï¼ŒåŸè£…ï¼å¯çˆ±ï¼&lt;/p>
&lt;p>ï¼ˆ202210:æ¢äº†ä¸»é¢˜æ‰€ä»¥ä¸å†è¡¥å……äº†ï¼‰&lt;/p>
&lt;h2 id="æŠ¥é”™å’Œè§£å†³æ–¹æ³•">æŠ¥é”™å’Œè§£å†³æ–¹æ³•&lt;/h2>
&lt;h2 id="ç›¸å…³å‚è€ƒ">ç›¸å…³å‚è€ƒ&lt;/h2>
&lt;p>&lt;!-- raw HTML omitted -->æ„Ÿè°¢å‰äººçš„è€•è€˜å’Œåˆ†äº«ï¼Œå¸Œæœ›æœ¬æ–‡ä¹Ÿèƒ½ç»™ä½ å¸¦æ¥ä¸€äº›å¸®åŠ© â¤ï¸&lt;!-- raw HTML omitted -->&lt;/p>
&lt;p>&lt;a class="link" href="https://zz2summer.github.io/github-pages-hugo-%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2/#%E4%B8%89%E6%96%B0%E5%BB%BA-hugo-%E7%BD%91%E7%AB%99" target="_blank" rel="noopener"
>Github Pages + Hugo æ­å»ºä¸ªäººåšå®¢&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
&lt;/p>
&lt;p>&lt;a class="link" href="https://mantyke.icu/posts/2021/hugo-build-blog/" target="_blank" rel="noopener"
>Hugo | ä¸€èµ·åŠ¨æ‰‹æ­å»ºä¸ªäººåšå®¢å§&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
&lt;/p>
&lt;p>&lt;a class="link" href="https://www.jianshu.com/p/76761a1c46d9" target="_blank" rel="noopener"
>è®°å½•ä¸€ä¸‹å¦‚ä½•ç”¨ Hugo å’Œ Github Page å»ºç«‹ç®€å•çš„åšå®¢ Blog&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
&lt;/p>
&lt;p>&lt;a class="link" href="https://olowolo.com/post/hugo-quick-start/" target="_blank" rel="noopener"
>Hugo ä»å…¥é—¨åˆ°ä¼šç”¨&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
&lt;/p>
&lt;p>&lt;a class="link" href="https://zhuanlan.zhihu.com/p/100715311" target="_blank" rel="noopener"
>å°ç™½å¦‚ä½•ä½æˆæœ¬å»ºç«‹ä¸ªäººç½‘ç«™æˆ–ä½œå“é›†ï¼ˆè¯¦ç»†æ•™ç¨‹ï¼‰&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
&lt;/p>
&lt;p>&lt;a class="link" href="https://zhuanlan.zhihu.com/p/150095964" target="_blank" rel="noopener"
>ä½¿ç”¨ Hugo å’Œ GitHub æ­å»ºåšå®¢&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
&lt;/p>
&lt;p>***&lt;/p>
&lt;p>&lt;a class="link" href="https://segmentfault.com/a/1190000020067490" target="_blank" rel="noopener"
>front-matter ä½¿ç”¨è¯¦è§£&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
&lt;/p>
&lt;p>&lt;a class="link" href="https://billie52707.cn/posts/2020/8/hugo-my-first-web/" target="_blank" rel="noopener"
>hugo å»ºç«™å…¨æŒ‡å— | æˆ‘çš„ç¬¬ä¸€ä¸ªåšå®¢ç½‘ç«™&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
&lt;/p>
&lt;p>&lt;a class="link" href="https://tie.pub/2021/12/comments-on-static-site/" target="_blank" rel="noopener"
>åœ¨é™æ€ç½‘ç«™ä¸ŠåŒ…å«è¯„è®ºçš„å„ç§æ–¹æ³•&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
&lt;/p>
&lt;p>***&lt;/p>
&lt;p>&lt;a class="link" href="https://gitbook.tw/chapters/github/fail-to-push" target="_blank" rel="noopener"
>ç‚ºä½ è‡ªå·±å­¸Gitï½œæ€éº¼æœ‰æ™‚å€™æ¨ä¸ä¸Šå»&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
&lt;/p>
&lt;p>&lt;a class="link" href="https://blog.csdn.net/guanmaoning/article/details/106474465" target="_blank" rel="noopener"
>Git æŠŠæœ¬åœ°ä»“åº“ä¸ GitHub è¿œç¨‹ä»“åº“å…³è”è¿›è¡ŒåŒæ­¥&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
&lt;/p>
&lt;p>&lt;a class="link" href="https://iitii.github.io/2020/12/06/1/" target="_blank" rel="noopener"
>å°† Git é»˜è®¤åˆ†æ”¯ä» master ä¿®æ”¹ä¸º main&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
&lt;/p></description></item></channel></rss>
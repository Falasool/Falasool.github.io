<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>tech on Falasool</title><link>https://falasool.github.io/tags/tech/</link><description>Recent content in tech on Falasool</description><generator>Hugo -- gohugo.io</generator><lastBuildDate>Tue, 02 Apr 2024 19:41:35 +0800</lastBuildDate><atom:link href="https://falasool.github.io/tags/tech/index.xml" rel="self" type="application/rss+xml"/><item><title>JS|åŸå‹é“¾çš„ç†è§£</title><link>https://falasool.github.io/2024/prototype-chain/</link><pubDate>Tue, 02 Apr 2024 19:41:35 +0800</pubDate><guid>https://falasool.github.io/2024/prototype-chain/</guid><description>&lt;img src="https://cdn.jsdelivr.net/gh/Falasool/blog-pic-bed@main/blog202404101944461.jpg" alt="Featured image of post JS|åŸå‹é“¾çš„ç†è§£" />&lt;p>&lt;img src="https://cdn.jsdelivr.net/gh/Falasool/blog-pic-bed@main/blog202404101944461.jpg"
loading="lazy"
alt="951712748932_.pic_hd"
>&lt;/p>
&lt;p>å…ˆä¸Šå›¾&lt;/p>
&lt;h2 id="ä¸€äº›æ¦‚å¿µ">ä¸€äº›æ¦‚å¿µ&lt;/h2>
&lt;p>JS ä¸­ä¸‡ç‰©çš†å¯¹è±¡ï¼Œåˆ†ä¸ºæ™®é€šå¯¹è±¡å’Œå‡½æ•°å¯¹è±¡ã€‚&lt;/p>
&lt;p>æ¯ä¸ªå¯¹è±¡éƒ½æœ‰ä¸€ä¸ªç§æœ‰å±æ€§ &lt;code>[[Prototype]]&lt;/code> ï¼Œç§æœ‰å±æ€§æŒ‡å‘åŸå‹ prototypeï¼Œç”±äºåŸå‹ prototype ä¹Ÿæ˜¯å¯¹è±¡ï¼Œå®ƒä¼šé‡å¤è¿™ä¸€å¾ªç¯å±‚å±‚å‘ä¸Šï¼Œç›´åˆ°ä¸€ä¸ªå¯¹è±¡çš„åŸå‹ä¸º null&lt;/p>
&lt;p>&lt;code>__proto__&lt;/code> æ˜¯ &lt;code>[[Prototype]]&lt;/code> çš„ getter/setter&lt;/p>
&lt;p>&lt;code>__proto__&lt;/code> çš„ value å¿…é¡»æ˜¯å¯¹è±¡/null&lt;/p>
&lt;p>åŸå‹é“¾ä¸èƒ½å½¢æˆé—­ç¯&lt;/p>
&lt;h2 id="æ™®é€šçš„åŸå‹é“¾">æ™®é€šçš„åŸå‹é“¾&lt;/h2>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">p&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="nx">Parent&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>æˆ‘å£°æ˜äº†ä¸€ä¸ªå¯¹è±¡ pï¼Œpä½œä¸ºParentçš„å®ä¾‹ï¼Œèƒ½æ‹¿åˆ°Parenté‡Œé¢„å…ˆå®šä¹‰çš„å±æ€§å’Œæ–¹æ³•ï¼Œè¿™å°±æ˜¯&lt;!-- raw HTML omitted -->ç»§æ‰¿&lt;!-- raw HTML omitted -->&lt;/p>
&lt;p>&lt;code>p.__proto__ === Parent.prototype&lt;/code> ï¼Œ&lt;code>__proto__&lt;/code> åƒæŒ‡é’ˆï¼ŒæŒ‡å‘å®ä¾‹ç»§æ‰¿çš„å±æ€§&amp;amp;æ–¹æ³•&lt;/p>
&lt;p>&lt;code>Parent.prototype.constructor === Parent&lt;/code>ï¼Œ&lt;code>Parent.prototype&lt;/code>æœ¬èº«æ˜¯Parent çš„ä¸€ä¸ªå®ä¾‹ï¼Œåè¿‡æ¥è¯´ï¼Œ &lt;code>Parent.prototype&lt;/code>çš„æ„é€ å™¨æ˜¯Parent&lt;/p>
&lt;p>å›¾ä¸­çš„è™šçº¿ï¼Œp =====&amp;gt; Parentï¼Œå› ä¸º&lt;code>p.constructor&lt;/code>å®é™…ä¸Šæ˜¯ä»&lt;code>Parent.prototype&lt;/code>ç»§æ‰¿æ¥çš„â¬†ï¸&lt;/p>
&lt;h2 id="jsä¸­çš„function-å’Œ-object">JSä¸­çš„Function å’Œ Object&lt;/h2>
&lt;p>è®¾è®¡æ€æƒ³ï¼šé«˜å†…èšã€ä½è€¦åˆ&lt;/p>
&lt;ul>
&lt;li>
&lt;p>Functionçš„constructoræ˜¯Functionï¼Œæ‰€ä»¥&lt;code>Function.__proto__&lt;/code> æŒ‡å‘ &lt;code>Function.prototype&lt;/code>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Objectçš„constructoræ˜¯Function&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h2 id="è”ç³»">è”ç³»&lt;/h2>
&lt;p>&lt;code>instanceof&lt;/code> çš„åŸç†ï¼šåŸå‹é“¾ï¼ˆéå†ç›®æ ‡çš„åŸå‹é“¾ï¼Œç›´åˆ°æ‰¾åˆ°å³è¾¹å˜é‡çš„ prototypeï¼‰&lt;/p>
&lt;p>ç‰¹æ®Šæƒ…å†µï¼š&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nb">Function&lt;/span> &lt;span class="k">instanceof&lt;/span> &lt;span class="nb">Object&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="c1">// true
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nb">Object&lt;/span> &lt;span class="k">instanceof&lt;/span> &lt;span class="nb">Function&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="c1">// true
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Objectçš„æ„é€ å™¨æ˜¯Functionï¼ŒåŒæ—¶JSä¸­ä¸‡ç‰©çš†å¯¹è±¡ğŸ’¦&lt;/p>
&lt;h2 id="å‚è€ƒ--è‡´è°¢">å‚è€ƒ &amp;amp; è‡´è°¢&lt;/h2>
&lt;p>&lt;a class="link" href="https://segmentfault.com/a/1190000021232132" target="_blank" rel="noopener"
>https://segmentfault.com/a/1190000021232132&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
&lt;a class="link" href="https://zhuanlan.zhihu.com/p/84876191" target="_blank" rel="noopener"
>https://zhuanlan.zhihu.com/p/84876191&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
&lt;a class="link" href="https://juejin.cn/post/7057544558057357348" target="_blank" rel="noopener"
>https://juejin.cn/post/7057544558057357348&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
&lt;/p></description></item><item><title>Html5|æ–°ç‰¹æ€§PushState</title><link>https://falasool.github.io/2024/html5-pushstate/</link><pubDate>Tue, 12 Mar 2024 19:39:03 +0800</pubDate><guid>https://falasool.github.io/2024/html5-pushstate/</guid><description>&lt;h2 id="history">History&lt;/h2>
&lt;p>&lt;code>history.pushState()&lt;/code> æ˜¯ä»€ä¹ˆï¼Ÿç®€å•æ¥è¯´ï¼Œæ˜¯ç›®å‰æµè§ˆå™¨å·²ç»æ™®éæ”¯æŒçš„ä¸€ç§æ·»åŠ æµè§ˆå†å²è®°å½•çš„æ–¹æ³•ã€‚&lt;/p>
&lt;p>é¦–å…ˆï¼Œè®©æˆ‘ä»¬æ¥çœ‹çœ‹ &lt;code>history&lt;/code> å¯¹è±¡ï¼Œå®ƒä¿å­˜äº†å½“å‰çª—å£è®¿é—®è¿‡çš„æ‰€æœ‰é¡µé¢ç½‘å€&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// Console
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="o">&amp;gt;&lt;/span> &lt;span class="nx">history&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">History&lt;/span> &lt;span class="p">{&lt;/span>&lt;span class="nx">length&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="mi">3&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">scrollRestoration&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;auto&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">state&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="kc">null&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">pushState&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">Æ’&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">replaceState&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">Æ’&lt;/span>&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>length &amp;amp; go/forward/back&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="nb">window&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">history&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">length&lt;/span> &lt;span class="c1">// 3ï¼Œå½“å‰çª—å£è®¿é—®è¿‡ä¸‰ä¸ªåœ°å€ï¼ˆåŒ…æ‹¬å½“å‰åœ°å€ï¼‰
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// æµè§ˆå™¨çš„å‰è¿›/åé€€æŒ‰é’®çš„å®é™…æ“ä½œï¼ˆä»browser cacheä¸­åŠ è½½ï¼‰ï¼Œä»¥ä¸‹ä¸¤è€…ç­‰åŒ
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">history&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">back&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="c1">// history.go(-1)
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">history&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">forward&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="c1">// history.go(1)
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">history&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">go&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="c1">// default ä¸º 0ï¼Œåˆ·æ–°å½“å‰é¡µé¢
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>scrollRestoration&lt;/p>
&lt;p>æ»šåŠ¨æ¢å¤è¡Œä¸ºï¼šauto/manual æ¢å¤åˆ°ç”¨æˆ·ä¹‹å‰æ»šåŠ¨åˆ°çš„åœ°æ–¹/ä¸ç®¡ï¼ˆ&lt;/p>
&lt;h3 id="pushstate">pushState&lt;/h3>
&lt;p>å‘å†å²ä¸­æ·»åŠ ä¸€æ¡è®°å½•ï¼ˆstateå¯¹è±¡ï¼Œæ–°é¡µé¢æ ‡é¢˜ï¼Œæ–°çš„åœ°å€ï¼‰&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="nb">window&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">history&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">pushState&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">state&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">title&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">url&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>å‚æ•°ï¼š&lt;/p>
&lt;ul>
&lt;li>stateï¼špopstateäº‹ä»¶è§¦å‘æ—¶ï¼ˆbackã€goã€forwardå‰è¿›åé€€ä¼šè§¦å‘ï¼‰ï¼Œstateå¯¹è±¡ä¼šä¼ å…¥å›è°ƒå‚æ•°ï¼Œé‚£ä¹ˆpopstateçš„å±æ€§stateå°±ä¼šåŒ…å«å½“å‰å†å²è®°å½•çš„stateå¯¹è±¡çš„ä¸€ä¸ªcopyï¼Œå‚¨å­˜åœ¨ç£ç›˜é‡Œï¼Œå½“æµè§ˆå™¨é‡å¯æ—¶å¯ä»¥æ¢å¤ï¼ˆ&amp;lt; 16MiBï¼‰ï¼Œæ›´å¤šç©ºé—´çš„è¯å»ºè®®ä½¿ç”¨ sessionStorage / localStorage&lt;/li>
&lt;li>titleï¼šæ–°ç½‘å€title&lt;/li>
&lt;li>urlï¼šæ–°ç½‘å€url&lt;/li>
&lt;/ul>
&lt;p>ğŸ™‹ é‚£æˆ‘ä¸ºä»€ä¹ˆç”¨ pushStateä¸ç”¨ &lt;code>window.location = '#foo'&lt;/code>å‘¢ï¼Ÿ&lt;/p>
&lt;p>pushStateçš„ä¼˜ç‚¹ï¼š&lt;/p>
&lt;ul>
&lt;li>
&lt;p>è·³è½¬åé¡µé¢ä¸ä¼šå‘èµ·æ–°çš„æ–‡æ¡£è¯·æ±‚&lt;/p>
&lt;/li>
&lt;li>
&lt;p>æ–°URLå¯ä»¥æ˜¯å’Œå½“å‰URLåŒæº(è·¨åŸŸæŠ¥é”™ï¼‰çš„ä»»æ„URLï¼Œæµè§ˆå™¨æ·»åŠ historyè®°å½•ä½†æ˜¯å¹¶ä¸çœŸçš„åŠ è½½ï¼Œä¹Ÿå°±æ˜¯è¯´å‡çš„ä¹Ÿæ²¡äº‹&lt;/p>
&lt;/li>
&lt;li>
&lt;p>pushçš„å†å²è®°å½•å¯ä»¥å…³è”ä»»æ„æ•°æ®ï¼ŒåŸºäºhashå€¼çš„è¯ï¼Œå¿…é¡»å°†ç›¸å…³æ•°æ®ç¼–ç åˆ°ä¸€ä¸ªçŸ­å­—ç¬¦ä¸²é‡Œ&lt;/p>
&lt;/li>
&lt;/ul>
&lt;p>ç­‰ç­‰ï¼Œ&lt;code>popstate&lt;/code> äº‹ä»¶èƒ½è®²è®²å—ï¼Ÿ&lt;/p>
&lt;h3 id="popstateäº‹ä»¶">popstateäº‹ä»¶&lt;/h3>
&lt;p>å¤„äºæ¿€æ´»çŠ¶æ€çš„å†å²è®°å½•æ¡ç›®å‘ç”Ÿå˜åŒ–æ—¶ï¼ˆè°ƒç”¨go/forward/backï¼‰ï¼Œpopstateå°±ä¼šåœ¨å¯¹åº”çš„windowå¯¹è±¡ä¸Šè§¦å‘ã€‚popstateçš„å¯¹è°ƒå‡½æ•°çš„å‚æ•°event.stateæŒ‡å‘pushStateçš„state&lt;/p>
&lt;p>if è¿™ä¸ªå†å²è®°å½•æ˜¯ç”¨ &lt;code>pushState&lt;/code> æˆ–&lt;code>replaceState&lt;/code> æ“ä½œè¿‡çš„ï¼Œä¸ä¼šè§¦å‘popstateäº‹ä»¶&lt;/p>
&lt;p>â­ï¸ åº”ç”¨ï¼šç”¨æˆ·è¦ç¦»å¼€å½“å‰é¡µé¢æ—¶popupåšäºŒæ¬¡ç¡®è®¤ï¼ˆbeforeunloadï¼‰&lt;/p>
&lt;p>ç›‘å¬ popstateäº‹ä»¶ï¼Œä¸€æ—¦è¢«è§¦å‘ï¼Œæ·»åŠ 1æ¡è®°å½•&lt;code>history.pushState(null, null, document.URL)&lt;/code> ç•™åœ¨å½“å‰é¡µé¢&lt;/p>
&lt;blockquote>
&lt;p>å½“popstateè¢«è§¦å‘æ—¶ï¼Œè®°å½•å·²ç»å›é€€äº†ã€‚åœ¨å›é€€ä¹‹å‰å†æ·»åŠ ä¸€æ¡å½“å‰urlçš„è®°å½•ï¼Œä»¥ä¿è¯å›é€€åurlä¸å˜&lt;/p>
&lt;/blockquote>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">history&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">pushState&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kc">null&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kc">null&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;/a&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">window&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">addEventListener&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;popstate&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">alert&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;æ‚¨ç¡®è®¤è¦ç¦»å¼€å—ï¼Ÿ&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">history&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">pushState&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kc">null&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kc">null&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nb">document&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">URL&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>â­ï¸ åº”ç”¨ï¼šç”¨æˆ·æƒ³ä»Aé¡µé¢è¿›å…¥ä¸€ä¸ªæ— æƒé™æŸ¥çœ‹çš„åœ°å€Bï¼Œè®©ç”¨æˆ·è·³è½¬åˆ°error.html Cï¼Œç”¨æˆ·è¿”å›æ—¶ç›´æ¥ä»C-&amp;gt;A&lt;/p>
&lt;p>åœ¨Bå‘Cè·³è½¬æ—¶ï¼Œä½¿ç”¨&lt;code>history.replace&lt;/code> æŠŠBæ›¿æ¢ä¸ºCï¼Œè¿™æ ·è®°å½•å°±ä»A-B-Cå˜æˆï¼ŒA-Cã€‚åœ¨Cé¡µé¢backç›´æ¥å›åˆ°A&lt;/p>
&lt;h3 id="windowlocation">window.location&lt;/h3>
&lt;p>&lt;a class="link" href="https://www.w3schools.com/js/js_window_location.asp" target="_blank" rel="noopener"
>https://www.w3schools.com/js/js_window_location.asp&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
&lt;/p>
&lt;h3 id="replacestate">replaceState&lt;/h3>
&lt;p>ä¿®æ”¹å½“å‰çš„å†å²è®°å½•é¡¹&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="nb">window&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">history&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">replaceState&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">state&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">title&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">url&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>ğŸ‰ é†‹æ¥äº†ï¼š&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="nx">html&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">&amp;lt;&lt;/span>&lt;span class="nx">head&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">&amp;lt;&lt;/span>&lt;span class="nx">title&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>&lt;span class="nx">wait&lt;/span> &lt;span class="mi">10&lt;/span> &lt;span class="nx">sec&lt;/span> &lt;span class="nx">and&lt;/span> &lt;span class="nx">BOOM&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="err">/title&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">&amp;lt;&lt;/span>&lt;span class="err">/head&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">&amp;lt;&lt;/span>&lt;span class="nx">body&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">&amp;lt;&lt;/span>&lt;span class="nx">h1&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>&lt;span class="err">ğŸš€&lt;/span>&lt;span class="nx">æŠ“ç´§&lt;/span>&lt;span class="err">ï¼Œ&lt;/span>&lt;span class="nx">è¦ä¸Šå¤©äº†&lt;/span>&lt;span class="err">ï¼ğŸš€&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="err">/h1&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">&amp;lt;&lt;/span>&lt;span class="nx">script&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">var&lt;/span> &lt;span class="nx">total&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">for&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="kd">var&lt;/span> &lt;span class="nx">i&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="nx">i&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="mi">1000000&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="nx">i&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">total&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">total&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="nx">i&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">toString&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">history&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">pushState&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="nx">total&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">&amp;lt;&lt;/span>&lt;span class="err">/script&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">&amp;lt;&lt;/span>&lt;span class="err">/body&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="err">/html&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>å‘ä½ çš„æµè§ˆå™¨å†å²é‡Œå¡è¿› 1000000 æ¡è®°å½•ğŸ˜‚ ï¼ˆé›¾&lt;/p>
&lt;p>è¿™æ®µä»£ç æ¥è‡ª &lt;a class="link" href="https://twitter.com/fatih_svml/status/689070600653041664" target="_blank" rel="noopener"
>Fatih Sevimli&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
&lt;/p>
&lt;p>æ¥éƒ½æ¥äº†å¤ä¹ ä¸€ä¸‹ï¼š&lt;/p>
&lt;h2 id="sessionstorage-vs-localstorage">sessionStorage vs localStorage&lt;/h2>
&lt;p>while data in localStorage doesn&amp;rsquo;t expire, data in sessionStorage is cleared when the page session ends.&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>ğŸªcookie&lt;/th>
&lt;th>session&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>å‚¨å­˜åœ¨å®¢æˆ·ç«¯&lt;/td>
&lt;td>æœåŠ¡å™¨ç«¯&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>ASCII&lt;/td>
&lt;td>ä»»æ„&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>å®æ•ˆé•¿&lt;/td>
&lt;td>çŸ­&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>4k&lt;/td>
&lt;td>é«˜&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;p>&lt;a class="link" href="https://www.cnblogs.com/ityouknow/p/10856177.html" target="_blank" rel="noopener"
>ä½ çœŸçš„äº†è§£cookieå’Œsessionå—&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
&lt;/p>
&lt;h2 id="å‚è€ƒ--è‡´è°¢">å‚è€ƒ &amp;amp; è‡´è°¢&lt;/h2>
&lt;p>&lt;a class="link" href="https://javascript.ruanyifeng.com/bom/history.html" target="_blank" rel="noopener"
>https://javascript.ruanyifeng.com/bom/history.html&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
&lt;/p>
&lt;p>&lt;a class="link" href="https://juejin.cn/post/6948746074504986655" target="_blank" rel="noopener"
>[é«˜çº§]æ·±å…¥æµ…å‡ºæµè§ˆå™¨çš„historyå¯¹è±¡&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
&lt;/p></description></item><item><title>é˜…è¯»ï½œã€Šå›¾è§£HTTPã€‹</title><link>https://falasool.github.io/2024/read-understand-http/</link><pubDate>Thu, 07 Mar 2024 19:13:22 +0800</pubDate><guid>https://falasool.github.io/2024/read-understand-http/</guid><description>
&lt;div class="db-card">
&lt;div class="db-card-subject">
&lt;div class="db-card-post">
&lt;img
loading="lazy"
decoding="async"
referrerpolicy="no-referrer"
src="https://neodb.social/m/book/2021/09/171bc10d5e-6bb7-459d-b762-b6eb2664a8f1.jpg"
/>
&lt;/div>
&lt;div class="db-card-content">
&lt;div class="db-card-title">
&lt;a href="https://neodb.social/book/3BVOzAS5pkNSWDfRT5CMkn" class="cute" target="_blank" rel="noreferrer"
>å›¾è§£HTTP&lt;/a
>
&lt;/div>
&lt;div class="db-orig_title">
&lt;a href="https://neodb.social/book/3BVOzAS5pkNSWDfRT5CMkn" class="cute" target="_blank" rel="noreferrer"
>HTTPã®æ•™ç§‘æ›¸&lt;/a
>
&lt;/div>
&lt;div class="db-card-author-translator">
[[æ—¥] ä¸Šé‡å®£]&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; è¯‘è€…ï¼š[äºå‡è‰¯]
&lt;/div>
&lt;div class="db-card-publish">
å‡ºå“æ–¹ï¼š&amp;nbsp;&amp;nbsp;äººæ°‘é‚®ç”µå‡ºç‰ˆç¤¾
&lt;/div>
&lt;div class="db-card-isbn">ISBN:&amp;nbsp;&amp;nbsp;9787115351531&lt;/div>
&lt;div class="rating">
&lt;span class="allstardark"
>&lt;span
class="allstarlight"
style="width:80%"
>&lt;/span>&lt;/span
>&lt;span class="rating_nums">8&lt;/span>
&lt;/div>
&lt;div class="db-card-abstract">æœ¬ä¹¦å¯¹äº’è”ç½‘åŸºç›˜â€”â€”HTTPåè®®è¿›è¡Œäº†å…¨é¢ç³»ç»Ÿçš„ä»‹ç»ã€‚ä½œè€…ç”±HTTPåè®®çš„å‘å±•å†å²å¨“å¨“é“æ¥ï¼Œä¸¥è°¨ç»†è‡´åœ°å‰–æäº†HTTPåè®®çš„ç»“æ„ï¼Œåˆ—ä¸¾è¯¸å¤šå¸¸è§é€šä¿¡åœºæ™¯åŠå®æˆ˜æ¡ˆä¾‹ï¼Œæœ€åå»¶ä¼¸åˆ°Webå®‰å…¨ã€æœ€æ–°æŠ€æœ¯åŠ¨å‘ç­‰æ–¹é¢ã€‚æœ¬ä¹¦çš„ç‰¹è‰²ä¸ºåœ¨è®²è§£çš„åŒæ—¶ï¼Œè¾…ä»¥å¤§é‡ç”ŸåŠ¨å½¢è±¡çš„é€šä¿¡å›¾ä¾‹ï¼Œæ›´å¥½åœ°å¸®åŠ©è¯»è€…æ·±åˆ»ç†è§£HTTPé€šä¿¡è¿‡ç¨‹ä¸­å®¢æˆ·ç«¯ä¸æœåŠ¡å™¨ä¹‹é—´çš„äº¤äº’æƒ…å†µã€‚è¯»è€…å¯é€šè¿‡æœ¬ä¹¦å¿«é€Ÿäº†è§£å¹¶æŒæ¡HTTPåè®®çš„åŸºç¡€ï¼Œå‰ç«¯å·¥ç¨‹å¸ˆåˆ†ææŠ“åŒ…æ•°æ®ï¼Œå...&lt;/div>
&lt;/div>
&lt;div class="db-card-cate">book&lt;/div>
&lt;/div>
&lt;/div>
&lt;style>
.db-card {
margin: 2.5rem 3rem;
background: var(--card-background);
border-radius: 7px;
box-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
}
.db-card-subject {
display: flex;
align-items: flex-start;
line-height: 1.6;
padding: 12px;
position: relative;
}
.dark .db-card {
background: var(--card-background);
}
.db-card-content {
flex: 1 1 auto;
}
.db-card-post {
width: 9.6rem;
margin-right: 15px;
display: flex;
flex: 0 0 auto;
}
.db-card-title {
font-size: 14px;
color: var(--card-text-color-main);
}
.db-orig_title,
.db-card-author-translator,
.db-card-publish,
.db-card-isbn {
font-size: 12px;
color: var(--card-text-color-main);
}
.db-card-isbn {
margin-bottom: 10px;
}
.db-card-title a {
text-decoration: none !important;
}
.db-card-abstract,
.db-card-comment {
font-size: 10px;
overflow: scroll;
max-height: 10rem;
color: var(--card-text-color-main);
}
.db-card-cate {
position: absolute;
top: 0;
right: 0;
background: #f99b01;
padding: 1px 8px;
font-size: small;
font-style: italic;
border-radius: 0 8px 0 8px;
text-transform: capitalize;
}
.db-card-post img {
width: 9.6rem !important;
border-radius: 4px;
-o-object-fit: cover;
object-fit: cover;
}
.rating {
margin: 0 0 5px;
font-size: 13px;
line-height: 1;
display: flex;
align-items: center;
}
.rating .allstardark {
position: relative;
color: #f99b01;
height: 16px;
width: 80px;
background-size: auto 100%;
margin-right: 8px;
background-repeat: repeat;
background-image: url(data:image/svg+xml;base64,PHN2ZyBjbGFzcz0iaWNvbiIgdmlld0JveD0iMCAwIDEwMjQgMTAyNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB3aWR0aD0iMzIiIGhlaWdodD0iMzIiPjxwYXRoIGQ9Ik05MDguMSAzNTMuMWwtMjUzLjktMzYuOUw1NDAuNyA4Ni4xYy0zLjEtNi4zLTguMi0xMS40LTE0LjUtMTQuNS0xNS44LTcuOC0zNS0xLjMtNDIuOSAxNC41TDM2OS44IDMxNi4ybC0yNTMuOSAzNi45Yy03IDEtMTMuNCA0LjMtMTguMyA5LjMtMTIuMyAxMi43LTEyLjEgMzIuOS42IDQ1LjNsMTgzLjcgMTc5LjEtNDMuNCAyNTIuOWMtMS4yIDYuOS0uMSAxNC4xIDMuMiAyMC4zIDguMiAxNS42IDI3LjYgMjEuNyA0My4yIDEzLjRMNTEyIDc1NGwyMjcuMSAxMTkuNGM2LjIgMy4zIDEzLjQgNC40IDIwLjMgMy4yIDE3LjQtMyAyOS4xLTE5LjUgMjYuMS0zNi45bC00My40LTI1Mi45IDE4My43LTE3OS4xYzUtNC45IDguMy0xMS4zIDkuMy0xOC4zIDIuNy0xNy41LTkuNS0zMy43LTI3LTM2LjN6TTY2NC44IDU2MS42bDM2LjEgMjEwLjNMNTEyIDY3Mi43IDMyMy4xIDc3MmwzNi4xLTIxMC4zLTE1Mi44LTE0OUw0MTcuNiAzODIgNTEyIDE5MC43IDYwNi40IDM4MmwyMTEuMiAzMC43LTE1Mi44IDE0OC45eiIgZmlsbD0iI2Y5OWIwMSIvPjwvc3ZnPg==);
}
.rating .allstarlight {
position: absolute;
left: 0;
color: #f99b01;
height: 16px;
overflow: hidden;
background-size: auto 100%;
background-repeat: repeat;
background-image: url(data:image/svg+xml;base64,PHN2ZyBjbGFzcz0iaWNvbiIgdmlld0JveD0iMCAwIDEwMjQgMTAyNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB3aWR0aD0iMzIiIGhlaWdodD0iMzIiPjxwYXRoIGQ9Ik05MDguMSAzNTMuMWwtMjUzLjktMzYuOUw1NDAuNyA4Ni4xYy0zLjEtNi4zLTguMi0xMS40LTE0LjUtMTQuNS0xNS44LTcuOC0zNS0xLjMtNDIuOSAxNC41TDM2OS44IDMxNi4ybC0yNTMuOSAzNi45Yy03IDEtMTMuNCA0LjMtMTguMyA5LjMtMTIuMyAxMi43LTEyLjEgMzIuOS42IDQ1LjNsMTgzLjcgMTc5LjEtNDMuNCAyNTIuOWMtMS4yIDYuOS0uMSAxNC4xIDMuMiAyMC4zIDguMiAxNS42IDI3LjYgMjEuNyA0My4yIDEzLjRMNTEyIDc1NGwyMjcuMSAxMTkuNGM2LjIgMy4zIDEzLjQgNC40IDIwLjMgMy4yIDE3LjQtMyAyOS4xLTE5LjUgMjYuMS0zNi45bC00My40LTI1Mi45IDE4My43LTE3OS4xYzUtNC45IDguMy0xMS4zIDkuMy0xOC4zIDIuNy0xNy41LTkuNS0zMy43LTI3LTM2LjN6IiBmaWxsPSIjZjk5YjAxIi8+PC9zdmc+);
}
@media (max-width: 550px) {
.db-card {
margin: 0.8rem 1rem;
}
.db-card-comment {
display: none;
}
.db-card-cate {
font-size: 10px;
}
}
&lt;/style></description></item><item><title>Vue|é€ä¼  Attrs</title><link>https://falasool.github.io/2024/vue-attrs/</link><pubDate>Fri, 01 Mar 2024 23:29:38 +0800</pubDate><guid>https://falasool.github.io/2024/vue-attrs/</guid><description>&lt;p>â­ï¸ä»€ä¹ˆæ˜¯é€ä¼  attrsï¼Ÿ&lt;/p>
&lt;ul>
&lt;li>å¤§å°å†™ä¸æ•æ„Ÿ&lt;/li>
&lt;li>ç»´æŒå“åº”å¼
&lt;ul>
&lt;li>prop&lt;/li>
&lt;li>&lt;code>onUpdated()&lt;/code>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;p>æˆåŠŸä¼ é€’ç»™å­ç»„ä»¶ï¼ˆ= ç»‘å®šåˆ°æ ¹å…ƒç´ ï¼‰ï¼Œä½†å­ç»„ä»¶æ²¡æœ‰ç”¨ props æˆ– emits å£°æ˜çš„ attrs æˆ– v-on äº‹ä»¶ç›‘å¬å™¨ï¼ˆeg. class/style/idï¼‰ï¼ˆåä¹‹ï¼Œç”¨ props/emits å£°æ˜è¿‡çš„å±æ€§å’Œäº‹ä»¶ä¼šè¢«ã€Œæ¶ˆè€—ã€ï¼Œä¸å†é€ä¼ ï¼‰&lt;/p>
&lt;ul>
&lt;li>çˆ¶ç»„ä»¶ä½¿ç”¨ç»„ä»¶: &lt;code>&amp;lt;Button class=&amp;quot;large&amp;quot;&amp;gt;&lt;/code>ï¼Œå­ç»„ä»¶ä¸ç”¨ props æ¥æ”¶å°±èƒ½è·å– classã€‚æ‰€ä»¥è¿™é‡Œçš„ class æ˜¯ä¸€ä¸ªè‡ªåŠ¨é€ä¼ åˆ°å­ç»„ä»¶ root element ä¸Šçš„ã€Œé€ä¼  attrsã€&lt;/li>
&lt;li>çˆ¶ç»„ä»¶ä½¿ç”¨ç»„ä»¶: &lt;code>&amp;lt;Button @click=&amp;quot;onClick&amp;quot;&amp;gt;&lt;/code>ï¼Œè¿™é‡Œ click ä¼šè¢«æ·»åŠ åˆ°å­ç»„ä»¶çš„ root element ä¸Š&lt;/li>
&lt;/ul>
&lt;p>â­ï¸é€ä¼ çš„ç»§æ‰¿&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-ts" data-lang="ts">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">//App.vue
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">Button&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;small&amp;#34;&lt;/span>&lt;span class="p">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">//Button.vue
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">BaseButton&lt;/span> &lt;span class="p">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">template&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Button ç»„ä»¶åœ¨æ ¹èŠ‚ç‚¹ä¸Šæ¸²æŸ“ BaseButton ç»„ä»¶ã€‚é€ä¼ å±æ€§ä¼šä¼ ç»™ BaseButton&lt;/p>
&lt;p>classï¼šapp. vue -&amp;gt; button. vue -&amp;gt; basebutton. vue&lt;/p>
&lt;p>â­ï¸ç¦æ­¢é€ä¼ ç»§æ‰¿&lt;/p>
&lt;ul>
&lt;li>ä¸æƒ³è®© attrs è¢« basebutton çš„æ ¹èŠ‚ç‚¹ç»§æ‰¿&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-ts" data-lang="ts">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span> &lt;span class="na">setup&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">defineOptions&lt;/span>&lt;span class="p">({&lt;/span> &lt;span class="nx">inheritAttrs&lt;/span>: &lt;span class="kt">false&lt;/span> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;ul>
&lt;li>å…¶å®ƒèŠ‚ç‚¹è¦ä½¿ç”¨é€ä¼  attrsï¼Œéœ€é…åˆ &lt;code>v-bind=&amp;quot;$attrs&amp;quot;&lt;/code>&lt;/li>
&lt;/ul>
&lt;p>â­ï¸API&lt;/p>
&lt;p>&lt;code>useAttrs()&lt;/code> ï¼šé…åˆ &lt;code>&amp;lt;script setup&amp;gt;&lt;/code> è®¿é—®ç»„ä»¶çš„æ‰€æœ‰é€ä¼  attrs&lt;/p></description></item><item><title>Figma</title><link>https://falasool.github.io/2023/figma/</link><pubDate>Sun, 05 Nov 2023 23:55:30 +0800</pubDate><guid>https://falasool.github.io/2023/figma/</guid><description>&lt;h2 id="cheat-sheet">cheat sheet&lt;/h2>
&lt;p>space ç§»åŠ¨ç”»å¸ƒ&lt;/p>
&lt;p>control + ä¸­é”®æ»šè½® ç¼©æ”¾ç”»å¸ƒ&lt;/p>
&lt;p>å³ä¸Šè§’æ˜¾ç¤ºå½“å‰ç”»å¸ƒç™¾åˆ†æ¯”&lt;/p>
&lt;p>ç™¾åˆ†ç™¾æ˜¾ç¤º shift + 0&lt;/p>
&lt;p>æ˜¾ç¤ºå…¨éƒ¨å†…å®¹ shift + 1&lt;/p>
&lt;p>åªæ˜¾ç¤ºç”»å¸ƒ command + \&lt;/p>
&lt;p>å³ä¸‹è§’ help and resources ã€‹keyboard shortcuts æ˜¾ç¤ºé”®ç›˜å¿«æ·é”®&lt;/p>
&lt;h2 id="å·¥å…·æ ">å·¥å…·æ &lt;/h2>
&lt;h3 id="ç§»åŠ¨å·¥å…·ç¼©æ”¾å·¥å…·">ç§»åŠ¨å·¥å…·&amp;amp;ç¼©æ”¾å·¥å…·&lt;/h3>
&lt;p>å¤åˆ¶ option æ‹–åŠ¨ï¼Œæ‹–åŠ¨æ—¶ shift ä¿æŒæ°´å¹³/å‚ç›´&lt;/p>
&lt;p>è¿ç»­å¤åˆ¶ option å¤åˆ¶ç¬¬ä¸€æ¬¡ä¹‹åæŒ‰ cmd +D&lt;/p>
&lt;p>æŒ‰ option å•ç‹¬æ§åˆ¶åœ†è§’&lt;/p>
&lt;p>æ•´ç†åŠŸèƒ½&lt;/p>
&lt;p>ç¼©æ”¾ï¼šç¼©æ”¾ä¸ä¼šå˜å½¢&lt;/p>
&lt;h2 id="frame-ä¸ç»„">Frame ä¸ç»„&lt;/h2>
&lt;p>ç¼–ç»„ control + G&lt;/p>
&lt;p>å–æ¶ˆç¼–ç»„ control + shift +G&lt;/p>
&lt;p>åŠ é€‰/å‡é€‰ shift&lt;/p>
&lt;p>å¼ºåˆ¶åµŒå¥— control&lt;/p>
&lt;p>é¿å…åµŒå¥— space&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>group&lt;/th>
&lt;th>Frame&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>è°ƒæ•´ç»„çš„å¤§å°å½±å“å­é›†çš„å¤§å°&lt;/td>
&lt;td>éœ€è¦å¼¹æ€§å¸ƒå±€ã€å­é€‚åº”&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;/td>
&lt;td>å¤šä¸ª Frame åµŒå¥—&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;p>æƒ³ç§»åŠ¨å¤šä¸ªå…ƒç´  è¶…å‡ºéƒ¨åˆ†éœ€è¦è£åˆ‡&lt;/p>
&lt;h2 id="å½¢çŠ¶å·¥å…·">å½¢çŠ¶å·¥å…·&lt;/h2>
&lt;p>å­¦ä¼šç»˜åˆ¶ã€ç¼–è¾‘å¸¸è§é€ å‹&lt;/p>
&lt;p>option ä»¥çŸ©å½¢ä¸­å¿ƒä¸ºåŸºå‡†&lt;/p>
&lt;p>shift ç”»æ­£æ–¹å½¢&lt;/p>
&lt;h2 id="è’™æ¿">è’™æ¿&lt;/h2>
&lt;p>æŠŠå›¾å±‚é‡å -é€‰ä¸­-åœ¨é¡¶éƒ¨å±…ä¸­çš„ä½ç½®ç‚¹å‡» Use as mask&lt;/p></description></item><item><title>iTerm2 é…ç½®</title><link>https://falasool.github.io/2023/iterm2/</link><pubDate>Tue, 18 Jul 2023 18:41:59 +0800</pubDate><guid>https://falasool.github.io/2023/iterm2/</guid><description>&lt;p>SSH è¿œç¨‹è¿æ¥é…ç½®&lt;/p>
&lt;p>åˆ›å»ºç™»å½•è„šæœ¬ &lt;code>/.ssh/remote-login-vps.sh&lt;/code>&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">&lt;span class="cp">#!/usr/bin/expect
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cp">&lt;/span>&lt;span class="nb">set&lt;/span> timeout &lt;span class="m">30&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">spawn ssh -p &lt;span class="o">[&lt;/span>lindex &lt;span class="nv">$argv&lt;/span> 0&lt;span class="o">]&lt;/span> &lt;span class="o">[&lt;/span>lindex &lt;span class="nv">$argv&lt;/span> 1&lt;span class="o">]&lt;/span>@&lt;span class="o">[&lt;/span>lindex &lt;span class="nv">$argv&lt;/span> 2&lt;span class="o">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">expect &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s2">&amp;#34;(yes/no)?&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">{&lt;/span>send &lt;span class="s2">&amp;#34;yes\n&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span>exp_continue&lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s2">&amp;#34;password:&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">{&lt;/span>send &lt;span class="s2">&amp;#34;[lindex &lt;/span>&lt;span class="nv">$argv&lt;/span>&lt;span class="s2"> 3]\n&amp;#34;&lt;/span>&lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">interact
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>æˆäºˆæ‰§è¡Œæƒé™ &lt;code>chmod +x remote-login-vps.sh&lt;/code>&lt;/p>
&lt;p>è¿›å…¥iTerm2 -&amp;gt; preference -&amp;gt; Profilesï¼Œåˆ›å»ºä¸€ä¸ªProfileï¼Œåœ¨ General - Command - Send text at start è¾“å…¥&lt;code>~/.ssh/remote-login-vps.sh 22 ç”¨æˆ· ip å¯†ç &lt;/code>&lt;/p>
&lt;p>&lt;img src="https://cdn.jsdelivr.net/gh/Falasool/blog-pic-bed@main//blog202307181916887.webp"
loading="lazy"
alt="image (1)"
>&lt;/p></description></item><item><title>ç½‘ç»œé€šä¿¡è¿‡ç¨‹ + Vmessæ­å»º</title><link>https://falasool.github.io/2023/about-dns-principle-and-vpn/</link><pubDate>Mon, 17 Jul 2023 21:31:10 +0800</pubDate><guid>https://falasool.github.io/2023/about-dns-principle-and-vpn/</guid><description>&lt;h2 id="ç½‘ç»œé€šä¿¡çš„åŸºæœ¬è¿‡ç¨‹">ç½‘ç»œé€šä¿¡çš„åŸºæœ¬è¿‡ç¨‹&lt;/h2>
&lt;blockquote>
&lt;p>è®¾è®¡å‡ºå±‚çº§ç»“æ„ã€‚å‡ºå»æ—¶ä¸æ–­åŠ ç ï¼ŒåŠ ä¿¡æ¯ï¼ŒåŠ æ ‡ç­¾ï¼Œåˆ°è¾¾æ—¶ï¼Œä¸æ–­è§£ç ï¼Œå‡ä¿¡æ¯ï¼Œè§£åŒ…&lt;/p>
&lt;/blockquote>
&lt;h3 id="dns-è§£æ">DNS è§£æ&lt;/h3>
&lt;p>è¾“å…¥åŸŸå/ip &amp;ndash; æ£€æŸ¥æµè§ˆå™¨/æœ¬åœ°ç¼“å­˜ï¼Œhosts æ–‡ä»¶ &amp;ndash; å‘è¯·æ±‚åˆ°ç”µè„‘çš„ DNS æœåŠ¡å™¨ï¼ˆOSI ä¸ƒå±‚/äº”å±‚æ¨¡å‹ï¼‰ &amp;ndash; DNS æ˜¯åº”ç”¨å±‚çš„åè®®ï¼Œç”¨äºè¯·æ±‚åŸŸå/ipï¼Œè¯·æ±‚ä¸€å±‚ä¸€å±‚ä¸‹ä¼ ï¼Œåˆ°ç‰©ç†å±‚ï¼ˆç½‘å¡æ¥å£ï¼‰&amp;ndash; è¯·æ±‚åˆ°çš„æ•°æ®ç»™ä¼ è¾“å±‚ &amp;ndash; ä¼ è¾“å±‚å°è£…åº”ç”¨å±‚çš„æ•°æ®ï¼ˆæºç«¯å£ã€ç›®æ ‡ç«¯å£ï¼‰ä¸ºæ•°æ®åŒ… &amp;ndash; ä¸‹ä¼  &amp;ndash; ç½‘ç»œå±‚ã€åŒæ ·å°è£…ï¼ˆæº ipã€ç›®æ ‡ ipï¼‰&amp;ndash; å½“ç”µè„‘æ‰¾ä¸åˆ°è¿™ä¸ª ipï¼ˆä¸åœ¨èŒƒå›´å†…ï¼‰ä¼šå‘è¯·æ±‚ç»™ç½‘å…³ï¼ˆè·¯ç”±å™¨ï¼‰&lt;/p>
&lt;p>æ•°æ®é¡ºç€ç‰©ç†å±‚åˆ°ç½‘å¡æ¥å£ - ç½‘çº¿å‘å‡ºåˆ°äº¤æ¢æœºï¼ˆäºŒå±‚è®¾å¤‡ï¼‰ &amp;ndash; è½¬å‘åˆ°è·¯ç”±å™¨ï¼ˆä¸‰å±‚è®¾å¤‡ï¼‰ï¼Œæ¥æ”¶æ•°æ®åŒ…ï¼Œä¼ åˆ°ç½‘ç»œå±‚ &amp;ndash; å› ä¸ºç›®æ ‡ ip ä¸åœ¨å±€åŸŸç½‘å†…ï¼Œæ‰€ä»¥ä¼šè½¬å‘å‡ºå»ï¼ˆå…¬ç½‘çš„å…¶ä»–è·¯ç”±å™¨ï¼‰&amp;ndash; æŠŠå†…ç½‘ç½‘æ®µ NAT æ˜ å°„ä¸ºèƒ½åœ¨å…¬ç½‘ä¼ è¾“çš„ ip - å‘é€æ•°æ®åŒ…åˆ° DNS æœåŠ¡å™¨ï¼ˆé»˜è®¤ç«¯å£ 53ï¼‰ï¼ŒDNS æœåŠ¡å™¨æ ¹æ® OSI å±‚å±‚è§£æç›´åˆ°åº”ç”¨å±‚ï¼Œæ‹¿åˆ°è¯·æ±‚çš„æ•°æ®ï¼ˆipï¼‰ï¼Œå¼€å§‹å›ä¼ &lt;/p>
&lt;p>ä¼ è¾“å±‚ï¼ˆ+ç«¯å£ï¼‰ &amp;ndash; ç½‘ç»œå±‚ï¼ˆ+ipï¼‰ &amp;ndash; æ•°æ®é“¾è·¯å±‚ï¼ˆ+MAC åœ°å€ï¼‰&amp;ndash; ä»ç‰©ç†ç½‘å£å‡ºå» &amp;ndash;äº’è”ç½‘ &amp;ndash; åˆ°æ­£ç¡®çš„è·¯ç”±å™¨ï¼Œè·¯ç”±å™¨è½¬æ¢ IPã€MACã€æ·»åŠ å¤´éƒ¨ &amp;ndash; åå‘é‡å¤ä¸€éå‘å‡ºè¯·æ±‚çš„æ­¥éª¤ï¼Œè®©ç”µè„‘æ”¶åˆ°ç›®æ ‡ç½‘ç«™çš„ ip&lt;/p>
&lt;p>OSI ä¸ƒå±‚æ¨¡å‹&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>å±‚&lt;/th>
&lt;th>å±‚&lt;/th>
&lt;th>detail&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>åº”ç”¨å±‚&lt;/td>
&lt;td>åº”ç”¨å±‚&lt;/td>
&lt;td>HTTPã€FTP&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;/td>
&lt;td>è¡¨ç¤ºå±‚&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;/td>
&lt;td>ä¼šè¯å±‚&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>ä¼ è¾“å±‚&lt;/td>
&lt;td>ä¼ è¾“å±‚ï¼ˆç«¯å£ï¼‰&lt;/td>
&lt;td>TCPã€UDP&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>ç½‘ç»œå±‚&lt;/td>
&lt;td>ç½‘ç»œå±‚&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>ç½‘ç»œæ¥å£å±‚&lt;/td>
&lt;td>æ•°æ®é“¾æ¥å±‚&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;/td>
&lt;td>ç‰©ç†å±‚&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h2 id="gfw-å·¥ä½œåŸç†">GFW å·¥ä½œåŸç†&lt;/h2>
&lt;p>åº•å±‚åŸå› ï¼šèƒ½çœ‹åˆ°æˆ‘ä»¬çš„æ•°æ®å†…å®¹&lt;/p>
&lt;h3 id="dns-æ±¡æŸ“åŠ«æŒ">DNS æ±¡æŸ“/åŠ«æŒ&lt;/h3>
&lt;p>è®¿é—® Googleï¼Œå…ˆæ£€æŸ¥æœ¬æœºæœ‰æ— ç¼“å­˜ Google çš„ ipï¼ŒæŸ¥çœ‹ hosts æ–‡ä»¶é‡Œæœ‰æ²¡æœ‰å¯¹ google.com æ·»åŠ  IP åŸŸåæ˜ å°„å…³ç³»ï¼Œéƒ½æ²¡æœ‰ â¡ï¸ å‘æœ¬æœºé…ç½®çš„ DNS æœåŠ¡å™¨å‘ DNS è¯·æ±‚ï¼Œè¯·æ±‚ Google çš„ ipï¼Œè¿™ä¸ªè¯·æ±‚çš„æ•°æ®åŒ…æ¥åˆ° GFWï¼ˆäº”å±‚è®¾å¤‡ï¼‰æ—¶ä¼šè¢«çœ‹åˆ°å†…å®¹ï¼ˆå‡è®¾æœªè¢«æ‹¦æˆªï¼‰ï¼Œæ¥åˆ° real internetï¼Œåˆ°è¾¾ DNS æœåŠ¡å™¨å¹¶å‘å›æ•°æ®åŒ…ï¼Œè¢« GFW è§£åŒ…ï¼Œç¯¡æ”¹æ•°æ®ï¼ˆip åœ°å€ï¼‰åå‘ç»™æœ¬æœºï¼Œæ‰¾ä¸åˆ°å‡ ip å¯¹åº”çš„æœåŠ¡å™¨æ‰€ä»¥è®¿é—®ä¸äº†&lt;/p>
&lt;p>è§£å†³ï¼š&lt;/p>
&lt;p>ä¸å‘é€ DNS è¯·æ±‚ï¼Œåœ¨ host æ–‡ä»¶æ·»åŠ åŸŸå IP æ˜ å°„å…³ç³»ã€‚å› ä¸º HTTP åè®®æ˜¯åŸºäº TCPã€è¦å…ˆç”¨ TCP å’ŒæœåŠ¡å™¨å»ºç«‹è¿æ¥æ‰èƒ½ç”¨ HTTP è®¿é—®ï¼Œæ‰€ä»¥æ¥ä¸‹æ¥å‘æœåŠ¡å™¨å‘é€ TCP è¯·æ±‚ â¬‡ï¸&lt;/p>
&lt;h3 id="tcp-é‡ç½®æ”»å‡»">TCP é‡ç½®æ”»å‡»&lt;/h3>
&lt;p>è¿™ä¸ªè¯·æ±‚æ¥åˆ° GFWï¼Œè¢«è§£åŒ…åˆ°ç½‘ç»œå±‚å‘ç°äº†ç›®æ ‡ ipï¼Œåœ¨å®ƒçš„é»‘åå•é‡Œï¼Œå®ƒä¼šæ‹’ç»æˆ–ä¼ªé€ æ•°æ®ï¼ˆå›ç¨‹é˜»æ–­ï¼Œå‡ºå»çš„æ•°æ®åŒ…ä¸æ‹¦æˆªï¼ŒæœåŠ¡å™¨è¿”å›çš„åŒ…æ‰æ‹¦æˆªï¼Œè¿™ä¼šå¯¼è‡´ç¬¬ 2 æ¬¡æ¡æ‰‹æ— æ³•å®Œæˆï¼Œè¢«é˜»æ–­çš„æœåŠ¡å™¨ä¼šä¸åœçš„é‡ä¼ ï¼Œå®¢æˆ·ç«¯ä¼šä¸€ç›´ç­‰å¾…è¶…æ—¶ï¼‰&lt;/p>
&lt;h3 id="åŸŸåè¢«-ban">åŸŸåè¢« ban&lt;/h3>
&lt;p>è°·æ­Œæœ‰å¾ˆå¤šæœåŠ¡å™¨ï¼Œå…¶ä¸­ä¸€ä¸ªæ²¡åœ¨é»‘åå•ä¸Šï¼ŒGFW æ”¾è¡Œäº†ã€‚è¿”å›çš„æ•°æ®åŒ…ä¹Ÿè¢«æ”¾è¡Œæ¥åˆ°æœ¬æœºã€‚ç°åœ¨å¼€å§‹å‘æ•°æ®ï¼Œæ¥åˆ° GFWï¼Œç½‘ç»œå±‚ ip æ²¡é—®é¢˜ï¼Œåº”ç”¨å±‚å‘ç°è¦ google.com çš„æ•°æ®ï¼Œgoogle.com åŸŸååœ¨é»‘åå•é‡Œï¼Œæ•°æ®åŒ…è¢«å¹²æ‰&lt;/p>
&lt;h3 id="é‡æ”¾æ”»å‡»">é‡æ”¾æ”»å‡»&lt;/h3>
&lt;p>é˜²ç«å¢™ç”¨æœ¬æœºå‘é€çš„æ•°æ®åŒ…æ¢æµ‹ç›®æ ‡ VPSï¼Œæœ‰æ²¡æœ‰è¿è¡Œç‰¹å®šæœåŠ¡ï¼Œæ¯”å¦‚ SS&lt;/p>
&lt;h2 id="å¯¹ç­–">å¯¹ç­–&lt;/h2>
&lt;p>åŠ å¯†æ•°æ®ï¼š&lt;/p>
&lt;p>ä¼ ç»Ÿ vpn èƒ½åŠ å¯†ï¼Œä½†æ˜¯ç‰¹å¾å¤ªæ˜æ˜¾&lt;/p>
&lt;p>shadowsocks åè®®ï¼švps ä¸Šæ­å»º ss æœåŠ¡ç«¯ï¼Œç›‘å¬ç«¯å£ 1111ï¼Œæœ¬æœºè¿è¡Œ ss å®¢æˆ·ç«¯å¹¶ç›‘å¬ç«¯å£ 1080ï¼Œæµè§ˆå™¨è®¾ç½®ä»£ç†ç«¯å£&lt;/p>
&lt;p>vmess åè®®&lt;/p>
&lt;h2 id="æ­å»º-shadowsocks-èŠ‚ç‚¹æ²¡æœ‰å®æ“">æ­å»º Shadowsocks èŠ‚ç‚¹(æ²¡æœ‰å®æ“)&lt;/h2>
&lt;p>ä¼ªè£…æˆ http&lt;/p>
&lt;p>è´­ä¹° VPSï¼ŒSSH è¿æ¥&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">apt install shadowsocks-libev &lt;span class="c1"># å®‰è£…&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">systemctl status shadowsocks-libev.service &lt;span class="c1"># æŸ¥çœ‹çŠ¶æ€&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">vim /etc/shadowsocks-libev/config.json &lt;span class="c1"># ä¿®æ”¹é…ç½®æ–‡ä»¶ï¼Œipæ”¹ä¸º0.0.0.0&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">systemctl restart shadowsocks-libev.service &lt;span class="c1"># é‡å¯&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">journalctl -u shadowsocks-libev.service -f &lt;span class="c1"># æŸ¥çœ‹æ—¥å¿—&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>é˜²ç«å¢™è®¾ç½®&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">ufw status &lt;span class="c1"># æŸ¥çœ‹çŠ¶æ€&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">ufw allow &lt;span class="m">8388&lt;/span> &lt;span class="c1"># å¼€æ”¾ç«¯å£&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">ufw deny &lt;span class="m">8388&lt;/span> &lt;span class="c1"># æ‹’ç»ç«¯å£&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">ufw delete allow &lt;span class="m">8388&lt;/span> &lt;span class="c1"># åˆ é™¤è§„åˆ™&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">ufw disable &lt;span class="c1"># å…³é—­é˜²ç«å¢™&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">ufw &lt;span class="nb">enable&lt;/span> &lt;span class="c1">#å¯åŠ¨é˜²ç«å¢™&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;blockquote>
&lt;p>æœ€è¿‘çš„å¿ƒå¾—ï¼šé˜²ç«å¢™ç™½åå•+æŠ—å°é” snap ç‰ˆ shadowsocks-libev+OutlineVPN å®¢æˆ·ç«¯ éå¸¸æŠ—æï¼ŒçœŸé¦™ï¼ï¼ˆå…³é”® SS æ¯”åŸºäº tls çš„å¦‚ trojan,v2ray é€Ÿåº¦è¦å¿«ï¼‰&lt;/p>
&lt;p>æˆ‘ä¹Ÿæ˜¯çœ‹äº†ç½‘ä¸Šå„è·¯æ–‡ç« æ‰æœ‰äº†è¿™æ€è·¯çš„ï¼Œç›®å‰ç”¨å¾—å¾ˆå¥½ã€‚1ã€é˜²ç«å¢™ 100%é˜»æ–­ä¸­é—´äººï¼Œå› ä¸ºåªæœ‰ä½ è®¾ç½®å¥½ç™½åå•çš„ IP æ‰èƒ½è¿æ¥æœåŠ¡å™¨ ã€‚2ã€æŠ—å°é” snap æœ€æ–°ç‰ˆï¼ˆedge ç‰ˆä¸æ˜¯ stable ç‰ˆï¼‰å¯èƒ½åœ¨é˜²ä¸»åŠ¨è¯†åˆ«éƒ¨åˆ†é’ˆå¯¹æ€§æ”¹åŠ¨äº†ä¸€ä¸‹ï¼Œå¬è¯´å»äº†é‡æ”¾è¿‡æ»¤å™¨ã€‚3ã€outlineVPN å®¢æˆ·ç«¯å¬è¯´å¯ä»¥åˆå¹¶éƒ¨åˆ†æµé‡ï¼Œä»¥å‡å°‘è¢«åŠ¨è¯†åˆ«æ‹‰æ¸…å•ï¼ˆç„å­¦ï¼‰&lt;/p>
&lt;/blockquote>
&lt;p>è£¸å¥”çš„ ss æœåŠ¡å®¹æ˜“è¢«é‡æ”¾æ”»å‡»æ¢æµ‹åˆ°ï¼Œç”¨ plugin ä¼ªè£…æ•°æ®æµé‡&lt;/p>
&lt;p>&lt;a class="link" href="https://github.com/shadowsocks/v2ray-plugin" target="_blank" rel="noopener"
>https://github.com/shadowsocks/v2ray-plugin&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">apt install shadowsocks-v2ray-plugin
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">dpkg -L
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">ss-v2ray-plugin
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">vim /etc/shadowsocks-libev/config.json
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">+ &lt;span class="s2">&amp;#34;plugin&amp;#34;&lt;/span>: &lt;span class="s2">&amp;#34;ss-v2ray-plugin&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">+ &lt;span class="s2">&amp;#34;plugin_opts&amp;#34;&lt;/span>: &lt;span class="s2">&amp;#34;server&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">systemctl restart shadowsocks-libev.service
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="trojan-åŸç†å’Œæ­å»º">Trojan åŸç†å’Œæ­å»º&lt;/h2>
&lt;p>ä¼ªè£…æˆ https&lt;/p>
&lt;p>http çš„é—®é¢˜ï¼šæ˜æ–‡ã€å¯è¢«ç¯¡æ”¹&lt;/p>
&lt;p>https: http + tls&lt;/p>
&lt;h3 id="tls">TLS&lt;/h3>
&lt;p>éå¯¹ç§°åŠ å¯†ï¼šå…¬é’¥ã€ç§é’¥&lt;/p>
&lt;p>æœåŠ¡å™¨å‘ CA æœºæ„è¯·æ±‚ SSL è¯ä¹¦ï¼ŒCA æœºæ„è¦æ±‚è¯æ˜åŸŸåæ‰€æœ‰æƒåé¢å‘è¯æ˜ï¼ˆåŒ…å«å…¬é’¥å’Œæœ‰æ•ˆæœŸï¼‰ï¼Œä¹‹åæ‰èƒ½è¿›è¡Œ https è®¿é—®&lt;/p>
&lt;p>http æ•°æ®äº¤ç»™ tls è¿›è¡ŒåŠ å¯†ï¼Œå…ˆè¦è·Ÿç½‘ç«™å»ºç«‹ tls è¿æ¥ï¼Œç”¨å¯¹æ–¹çš„å…¬é’¥åŠ å¯†æ•°æ®ï¼ˆå®é™…ä¸Šæ˜¯æ¡æ‰‹ååå•†å‡ºå¯¹ç§°åŠ å¯†ç®—æ³•çš„å¯†é’¥ï¼‰åå‘é€ï¼ŒæœåŠ¡å™¨ç”¨ç§é’¥è§£å¯†&lt;/p>
&lt;blockquote>
&lt;p>æ‰€ä»¥ tls åè®®æ¦‚æ‹¬ä¸€ä¸‹å°±æ˜¯ï¼Œå®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯ä½¿ç”¨éå¯¹ç§°åŠ å¯†ç®—æ³•åå•†å‡ºå¯¹ç§°åŠ å¯†ç®—æ³•çš„ä¸»å¯†é’¥ï¼ˆä½¿ç”¨éå¯¹ç§°åŠ å¯†ç®—æ³•ä¿æŠ¤ä¸»å¯†é’¥ä¸è¢«ä¸­é—´äººçªƒå–ï¼‰ï¼Œç„¶ååˆ‡æ¢åˆ°ä½¿ç”¨å¯¹ç§°åŠ å¯†ç®—æ³•ï¼ˆä½¿ç”¨å¯¹åº”çš„ä¸»å¯†é’¥ï¼‰è¿›è¡ŒåŒå‘é€šè®¯ã€‚&lt;/p>
&lt;/blockquote>
&lt;h3 id="trojan">Trojan&lt;/h3>
&lt;p>ä¸è€çƒ¦äº†ï¼Œç›´å¥”ä¸»é¢˜ï¼Œä¸‹æ¬¡å†æ¥ï¼&lt;/p>
&lt;p>&lt;a class="link" href="https://www.youtube.com/watch?v=gw2Vl1h89Wo&amp;amp;list=PL5TbbtexT8T3d_7UX2aSFhoMYk-cl4kf4&amp;amp;index=4" target="_blank" rel="noopener"
>https://www.youtube.com/watch?v=gw2Vl1h89Wo&amp;list=PL5TbbtexT8T3d_7UX2aSFhoMYk-cl4kf4&amp;index=4&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
&lt;/p>
&lt;h2 id="vmess--tcp-tls">Vmess + TCP +TLS&lt;/h2>
&lt;h3 id="æœåŠ¡å™¨ç«¯">æœåŠ¡å™¨ç«¯&lt;/h3>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">&lt;span class="cp">#!!!é‡è¦ï¼x-uiä¸è¦æŠŠxrayç‰ˆæœ¬å‡çº§åˆ°1.7.5ä»¥ä¸Šï¼Œå¦åˆ™æ— æ³•æ­å»ºvlessèŠ‚ç‚¹ï¼
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cp">&lt;/span>&lt;span class="c1">#æ›´æ–°è½¯ä»¶æº&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">apt update
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">#å¯ç”¨ BBR TCP æ‹¥å¡æ§åˆ¶ç®—æ³•&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">echo&lt;/span> &lt;span class="s2">&amp;#34;net.core.default_qdisc=fq&amp;#34;&lt;/span> &amp;gt;&amp;gt; /etc/sysctl.conf
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">echo&lt;/span> &lt;span class="s2">&amp;#34;net.ipv4.tcp_congestion_control=bbr&amp;#34;&lt;/span> &amp;gt;&amp;gt; /etc/sysctl.conf
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sysctl -p
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">#å®‰è£…x-uiï¼š&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">bash &amp;lt;&lt;span class="o">(&lt;/span>curl -Ls https://raw.githubusercontent.com/vaxilu/x-ui/master/install.sh&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>(å®‰è£… Nginxã€ç”³è¯· SSL è¯ä¹¦)&lt;/p>
&lt;blockquote>
&lt;p>http ç«™ç‚¹ä¼˜å…ˆï¼Œä¸ªäººç½‘ç›˜ç¬¦åˆå•èŠ‚ç‚¹å¤§æµé‡ç‰¹å¾&lt;/p>
&lt;/blockquote>
&lt;p>åœ¨æµè§ˆå™¨æœç´¢ &lt;code>intext:ç™»å½• Cloudreve&lt;/code>ï¼Œæ‰¾åˆ°ä¸€ä¸ªå¯è®¿é—®çš„ç½‘ç«™ä½œä¸ºä¼ªè£…ç«™&lt;/p>
&lt;p>é…ç½® Nginx&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># åˆ›å»ºé…ç½®æ–‡ä»¶&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">touch /etc/nginx/sites-available/vmess.conf
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># è¿›å…¥ä¿®æ”¹&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">vim /etc/nginx/sites-available/vmess.conf
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>é…ç½®æ–‡ä»¶å†…å®¹&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl"> server &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> listen &lt;span class="m">443&lt;/span> ssl&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> server_name joy.ponderduck.cc&lt;span class="p">;&lt;/span> &lt;span class="c1">#ä½ çš„åŸŸå&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> ssl_certificate /etc/letsencrypt/live/ponderduck.cc/fullchain.pem&lt;span class="p">;&lt;/span> &lt;span class="c1">#è¯ä¹¦ä½ç½®&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> ssl_certificate_key /etc/letsencrypt/live/ponderduck.cc/privkey.pem&lt;span class="p">;&lt;/span> &lt;span class="c1">#ç§é’¥ä½ç½®&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> ssl_session_timeout 1d&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> ssl_session_cache shared:MozSSL:10m&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> ssl_session_tickets off&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> ssl_protocols TLSv1.2 TLSv1.3&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> ssl_prefer_server_ciphers off&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> location / &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> proxy_pass http://pan.qdovo.com/&lt;span class="p">;&lt;/span> &lt;span class="c1">#ä¼ªè£…ç½‘å€&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> proxy_redirect off&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> proxy_ssl_server_name on&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> sub_filter_once off&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> sub_filter &lt;span class="s2">&amp;#34;pan.qdovo.com&amp;#34;&lt;/span> &lt;span class="nv">$server_name&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> proxy_set_header Host &lt;span class="s2">&amp;#34;pan.qdovo.com&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> proxy_set_header Referer &lt;span class="nv">$http_referer&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> proxy_set_header X-Real-IP &lt;span class="nv">$remote_addr&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> proxy_set_header User-Agent &lt;span class="nv">$http_user_agent&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> proxy_set_header X-Forwarded-For &lt;span class="nv">$proxy_add_x_forwarded_for&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> proxy_set_header X-Forwarded-Proto https&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> proxy_set_header Accept-Encoding &lt;span class="s2">&amp;#34;&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> proxy_set_header Accept-Language &lt;span class="s2">&amp;#34;zh-CN&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> location /ray &lt;span class="o">{&lt;/span> &lt;span class="c1">#åˆ†æµè·¯å¾„&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> proxy_redirect off&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> proxy_pass http://127.0.0.1:10000&lt;span class="p">;&lt;/span> &lt;span class="c1">#Xrayç«¯å£&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> proxy_http_version 1.1&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> proxy_set_header Upgrade &lt;span class="nv">$http_upgrade&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> proxy_set_header Connection &lt;span class="s2">&amp;#34;upgrade&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> proxy_set_header Host &lt;span class="nv">$host&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> proxy_set_header X-Real-IP &lt;span class="nv">$remote_addr&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> proxy_set_header X-Forwarded-For &lt;span class="nv">$proxy_add_x_forwarded_for&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> location /xui &lt;span class="o">{&lt;/span> &lt;span class="c1">#xuiè·¯å¾„&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> proxy_redirect off&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> proxy_pass http://127.0.0.1:9999&lt;span class="p">;&lt;/span> &lt;span class="c1">#xuiç›‘å¬ç«¯å£&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> proxy_http_version 1.1&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> proxy_set_header Host &lt;span class="nv">$host&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> server &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> listen 80&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> location /.well-known/ &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> root /var/www/html&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> location / &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> rewrite ^&lt;span class="o">(&lt;/span>.*&lt;span class="o">)&lt;/span>$ https://&lt;span class="nv">$host$1&lt;/span> permanent&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>æµ‹è¯•ã€å»ºç«‹è½¯é“¾æ¥ã€é‡å¯&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">nginx -t
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">ln -s /etc/nginx/sites-available/vmess.conf /etc/nginx/sites-enabled/vmess.conf
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">systemctl start nginx
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># or&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">nginx -s reload
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="trojan-go">Trojan-Go&lt;/h2>
&lt;p>ä¸€é”®éƒ¨ç½² Trojan-Go&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">bash &amp;lt;&lt;span class="o">(&lt;/span>curl -sSL &lt;span class="s2">&amp;#34;https://raw.githubusercontent.com/veip007/hj/main/trojan-go.sh&amp;#34;&lt;/span>&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="å‚è€ƒ--è‡´è°¢">å‚è€ƒ &amp;amp; è‡´è°¢&lt;/h2>
&lt;p>&lt;a class="link" href="https://v2xtls.org/clashx%E9%85%8D%E7%BD%AEv2ray%E6%95%99%E7%A8%8B/" target="_blank" rel="noopener"
>ClashX é…ç½® V2ray æ•™ç¨‹&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
&lt;/p>
&lt;p>[ç¼–è¯‘ã€é…ç½® nginx,ä½¿ V2ray,Xray,Trojan,åšå®¢ç½‘ç«™ç­‰å…±ç”¨ 443 ç«¯å£](&lt;/p></description></item><item><title>SQL å…¥é—¨</title><link>https://falasool.github.io/2023/sql/</link><pubDate>Thu, 29 Jun 2023 19:13:22 +0800</pubDate><guid>https://falasool.github.io/2023/sql/</guid><description>&lt;h2 id="å¸¸ç”¨å‘½ä»¤">å¸¸ç”¨å‘½ä»¤&lt;/h2>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-sql" data-lang="sql">&lt;span class="line">&lt;span class="cl">&lt;span class="k">CREATE&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">DATABASE&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">test&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">#&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="err">åˆ›å»ºæ•°æ®åº“&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="k">CREATE&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">TABLE&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">t1&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">id&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nb">int&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="n">body&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nb">varchar&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">100&lt;/span>&lt;span class="p">));&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">#&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="err">åˆ›å»ºè¡¨&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="err">è®°å¾—ä½¿ç”¨\&lt;/span>&lt;span class="n">cå‘½ä»¤åˆ‡æ¢æ•°æ®åº“&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="k">CREATE&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">USER&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">test&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">WITH&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">PASSWORD&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s1">&amp;#39;Test#1357&amp;#39;&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">#&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="err">åˆ›å»ºç”¨æˆ·&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="k">ALTER&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">USER&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">test&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">WITH&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">PASSWORD&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s1">&amp;#39;Test#2468&amp;#39;&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">#&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="err">ä¿®æ”¹å¯†ç &lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="k">ALTER&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">USER&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">test&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">createdb&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">#&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="err">æŒ‡å®šç”¨æˆ·æ·»åŠ æŒ‡å®šè§’è‰²&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="k">GRANT&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">ALL&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">PRIVILEGES&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">ON&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">DATABASE&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">test&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">TO&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">test&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">#&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="err">èµ‹äºˆæŒ‡å®šè´¦æˆ·æŒ‡å®šæ•°æ®åº“æ‰€æœ‰æƒé™&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="k">REVOKE&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">ALL&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">PRIVILEGES&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">ON&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">DATABASE&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">test&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">TO&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">test&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">#&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="err">ç§»é™¤æŒ‡å®šè´¦æˆ·æŒ‡å®šæ•°æ®åº“æ‰€æœ‰æƒé™&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="k">INSERT&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">INTO&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">table_name&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">[(&lt;/span>&lt;span class="n">column1&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">c2&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">...)]&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">VALUES&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">v1&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">v2&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">...);&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">#&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="err">åœ¨è¡¨ä¸­æ’å…¥æ–°æ•°æ®ï¼ˆåœ¨åˆ—&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="err">åˆ—&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="err">æ’å…¥&lt;/span>&lt;span class="n">v1&lt;/span>&lt;span class="err">ï¼Œ&lt;/span>&lt;span class="n">v2&lt;/span>&lt;span class="err">ï¼‰&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="k">SELECT&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">*/&lt;/span>&lt;span class="k">column_name&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">FROM&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">table_name&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">#&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="err">æŸ¥è¯¢æ•°æ®&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="k">SELECT&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">DISTINCT&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">column_name&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">FROM&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">table_name&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">#&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="err">æ˜¾ç¤ºç»“æœæ—¶å»é™¤é‡å¤å€¼&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="k">SELECT&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="err">åˆ—åç§°&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">FROM&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="err">æ ‡åç§°&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">WHERE&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="err">åˆ—&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="err">è¿ç®—ç¬¦&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="err">å€¼&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">#&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="err">æ¡ä»¶è¿‡æ»¤&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>æ“ä½œç¬¦&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th style="text-align:center">æ“ä½œç¬¦&lt;/th>
&lt;th style="text-align:center">æè¿°&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td style="text-align:center">=&lt;/td>
&lt;td style="text-align:center">&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:center">&amp;lt;&amp;gt;/!=&lt;/td>
&lt;td style="text-align:center">ä¸ç­‰äº&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:center">&amp;gt;&lt;/td>
&lt;td style="text-align:center">&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:center">&amp;lt;&lt;/td>
&lt;td style="text-align:center">&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:center">&amp;gt;=&lt;/td>
&lt;td style="text-align:center">&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:center">&amp;lt;=&lt;/td>
&lt;td style="text-align:center">&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:center">IN&lt;/td>
&lt;td style="text-align:center">å¤šé€‰&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:center">NOT BEWTEEN&amp;hellip; AND&lt;/td>
&lt;td style="text-align:center">( , )/[ , ]/[ , )&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:center">LIKE/NOT LIKE&lt;/td>
&lt;td style="text-align:center">æŸç§æœç´¢æ¨¡å¼&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:center">AND&lt;/td>
&lt;td style="text-align:center">&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:center">OR&lt;/td>
&lt;td style="text-align:center">&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:center">AS&lt;/td>
&lt;td style="text-align:center">æŒ‡å®šè¡¨åˆ«å&amp;rsquo;&amp;rsquo;/åˆ—åˆ«å&amp;quot;&amp;quot;&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:center">JOIN&lt;/td>
&lt;td style="text-align:center">å¤šè¡¨å…³è”ï¼ˆåŒ¹é…ï¼‰&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:center">UNION/UNION ALL&lt;/td>
&lt;td style="text-align:center">åˆå¹¶ select ç»“æœé›†&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:center">NOT NULL&lt;/td>
&lt;td style="text-align:center">éç©º&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:center">VIEW&lt;/td>
&lt;td style="text-align:center">æ˜¯ç»“æœé›†çš„å¯è§†åŒ–çš„è¡¨&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:center">&lt;/td>
&lt;td style="text-align:center">&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-sql" data-lang="sql">&lt;span class="line">&lt;span class="cl">&lt;span class="k">SELECT&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">FROM&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">table_name&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">ORDER&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">BY&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">c1&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="n">c2&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">DESC&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">LASTNAME&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">ID_P&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">#&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="err">ç»“æœæŒ‰&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="err">é™åº&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="err">å­—æ¯é¡ºåº&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="err">æ•°å­—é¡ºåº&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="err">æ’åˆ—&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="k">UPDATE&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="err">è¡¨åç§°&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">SET&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="err">åˆ—åç§°&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="err">æ–°&lt;/span>&lt;span class="n">value&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">WHERE&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="err">åˆ—åç§°&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">sth&lt;/span>&lt;span class="p">.;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">#&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="err">æ›´æ–°æ•°æ®&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="k">DELETE&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">FROM&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="err">è¡¨åç§°&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">WHERE&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="err">åˆ—åç§°&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">sth&lt;/span>&lt;span class="p">.;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">#&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="err">åˆ é™¤æŸè¡Œæ•°æ®&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="k">DELETE&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">FROM&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">table_name&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">#&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="err">åˆ é™¤æ‰€æœ‰è¡Œï¼ˆè¡¨çš„ç»“æ„å±æ€§ç´¢å¼•å®Œæ•´ï¼‰&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="k">TRUNCATE&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">TABLE&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="err">è¡¨åç§°&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">#&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="err">åˆ é™¤è¡¨å†…æ•°æ®&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="k">DROP&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">TABLE&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="err">è¡¨åç§°&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">#&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="err">åˆ é™¤è¡¨&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="å¸¸ç”¨å‡½æ•°">å¸¸ç”¨å‡½æ•°&lt;/h2>
&lt;p>è¯­æ³•ï¼š&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-sql" data-lang="sql">&lt;span class="line">&lt;span class="cl">&lt;span class="k">SELECT&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">function&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="err">åˆ—&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">FROM&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="err">è¡¨&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="avg">AVG&lt;/h3>
&lt;p>è¿”å›å­—æ®µçš„å¹³å‡å€¼ï¼Œä¸åŒ…æ‹¬ null&lt;/p>
&lt;h3 id="count">COUNT&lt;/h3>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-sql" data-lang="sql">&lt;span class="line">&lt;span class="cl">&lt;span class="k">COUNT&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">#&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="err">è¿”å›è¡¨çš„è®°å½•æ•°&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="k">COUNT&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="k">DISTINCT&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="err">åˆ—å&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">#&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="err">è¿”å›åˆ—çš„æ€»æ•°ï¼ˆé™¤å»é‡å¤çš„ï¼‰&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="k">COUNT&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="err">åˆ—å&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">#&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="err">è¿”å›åˆ—çš„å€¼çš„æ€»æ•°&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="sum">SUM&lt;/h3>
&lt;p>æ±‚å’Œ&lt;/p>
&lt;h3 id="group-by">GROUP BY&lt;/h3>
&lt;p>ç»“åˆç»Ÿè®¡å‡½æ•° COUNTï¼Œæ ¹æ®æŸäº›åˆ—å¯¹ç»“æœé›†è¿›è¡Œåˆ†ç»„&lt;/p>
&lt;h3 id="having">HAVING&lt;/h3>
&lt;p>WHERE ä¸èƒ½å’Œ COUNT ä¸€èµ·ä½¿ç”¨ï¼Œæ‰€ä»¥åœ¨ç»Ÿè®¡å‡½æ•°å‰åŠ ä¸Š HAVING&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-sql" data-lang="sql">&lt;span class="line">&lt;span class="cl">&lt;span class="k">select&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">lastname&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="k">count&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">city&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">from&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">persons&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="k">where&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">city&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s1">&amp;#39;xx&amp;#39;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="k">group&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">by&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="n">lastname&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="k">having&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="k">count&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">city&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="o">&amp;gt;&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="ucaseupper--lcaselower">UCASE/UPPER &amp;amp; LCASE/LOWER&lt;/h3>
&lt;p>æŠŠå­—æ®µçš„å€¼è½¬æ¢ä¸ºå¤§å†™/å°å†™&lt;/p>
&lt;h3 id="lenlength">LEN/LENGTH&lt;/h3>
&lt;p>è¿”å›å­—æ®µçš„å€¼çš„é•¿åº¦&lt;/p>
&lt;h3 id="roundåˆ—å-ç²¾åº¦">ROUND(åˆ—å, ç²¾åº¦)&lt;/h3>
&lt;p>å­—æ®µèˆå…¥ä¸ºæŒ‡å®šçš„å°æ ‘ä½æ•°&lt;/p>
&lt;h3 id="nowsysdate">NOW/SYSDATE&lt;/h3>
&lt;p>è·å–å½“å‰æ—¥æœŸæ—¶é—´&lt;/p></description></item><item><title>åˆé‡ PostgreSQL</title><link>https://falasool.github.io/2023/postgresql/</link><pubDate>Mon, 26 Jun 2023 11:21:32 +0800</pubDate><guid>https://falasool.github.io/2023/postgresql/</guid><description>&lt;p>ä»¥ç°æœ‰ Pleroma æ•°æ®åº“ä¸ºåŸºç¡€å­¦ä¹  postgreSQL&lt;/p>
&lt;h2 id="æœ¬åœ°å®‰è£…-pg">æœ¬åœ°å®‰è£… PG&lt;/h2>
&lt;h3 id="ç”¨-homebrew-å®‰è£…">ç”¨ Homebrew å®‰è£…&lt;/h3>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">brew install postgresql@13
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>æ·»åŠ ç¯å¢ƒå˜é‡&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-diff" data-lang="diff">&lt;span class="line">&lt;span class="cl"># ~/.zshrc
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="gi">+ # PostgreSQL
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="gi">+ export PATH=&amp;#34;/opt/homebrew/Cellar/postgresql@13/13.11_1/bin:$PATH&amp;#34;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="gi">+ export PGDATA=&amp;#34;/opt/homebrew/var/postgresql@13&amp;#34;
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>è®©ä¿®æ”¹ç”Ÿæ•ˆ &amp;amp; æµ‹è¯•&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">&lt;span class="nb">source&lt;/span> ~/.zshrc &lt;span class="c1"># å¯¹é…ç½®æ–‡ä»¶çš„ä¿®æ”¹ç”Ÿæ•ˆ&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">pg_ctl -V &lt;span class="c1"># æŸ¥çœ‹ç‰ˆæœ¬ï¼Œreturn `pg_ctl (PostgreSQL) 13.1` &lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="dmg-å®‰è£…">dmg å®‰è£…&lt;/h3>
&lt;p>&lt;a class="link" href="https://www.enterprisedb.com/downloads/postgres-postgresql-downloads" target="_blank" rel="noopener"
>ä¸‹è½½&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
&lt;/p>
&lt;p>ä¿®æ”¹ç¯å¢ƒå˜é‡&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># PostgreSQL&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">export&lt;/span> &lt;span class="nv">PATH&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;/Library/PostgreSQL/13/bin:&lt;/span>&lt;span class="nv">$PATH&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">source&lt;/span> ~/.zshrc
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="è¿œç¨‹æ“ä½œ-pg">è¿œç¨‹æ“ä½œ PG&lt;/h2>
&lt;h3 id="ç™»å½•">ç™»å½•&lt;/h3>
&lt;p>å…è®¸è¿œç¨‹ç™»å½•&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">locate postgresql.conf &lt;span class="c1"># å®šä½æ–‡ä»¶ä½ç½®&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># /etc/postgresql/13/main/postgresql.conf &lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nv">listen_addresses&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s1">&amp;#39;*&amp;#39;&lt;/span> &lt;span class="c1"># ä¿®æ”¹å†…å®¹&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>æ·»åŠ å®¢æˆ·ç«¯é‰´å®šæ¡ç›®&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># /etc/postgresql/13/main/pg_hba.conf&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># å…è®¸ç”¨æˆ·åœ¨æä¾›æœ‰æ•ˆå£ä»¤ï¼ˆmd5ï¼‰åä»æŸä¸ª IP åœ°å€ç™»å½•&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">host all all 0.0.0.0/0 md5
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">host all all ::0/0 md5
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>[å¯é€‰]ä¿®æ”¹å¯†ç &lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">&lt;span class="nv">postgres&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="c1"># alter user postgres with password &amp;#39;xxxxxxxx&amp;#39;;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">ALTER ROLE
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>æœ€åé‡å¯ pg&lt;/p>
&lt;p>ä½†æ˜¯ä¸çŸ¥é“ä¸ºå•¥ï¼ˆä¹Ÿè®¸ä»¥åå°±çŸ¥é“äº†ï¼‰æˆ‘å¼€å¯ 5432 ç«¯å£æ— æ•ˆï¼šufw å‘½ä»¤è¿”å›ç»“æœæ˜¾ç¤ºå·²å¼€å¯ï¼Œé˜²ç«å¢™è§„åˆ™æ·»åŠ äº†ï¼Œip æ£€æŸ¥å·¥å…·è¿˜æ˜¯æ˜¾ç¤ºç«¯å£æœªå¼€æ”¾ã€‚ç„¶åé»›é»›æ•™äº†æˆ‘ç«¯å£è½¬å‘&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">ssh -L 127.0.0.1:5432:127.0.0.1:5432 username@hostname
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>è¿ä¸Šä¹‹åä¿æŒæ‰“å¼€è¿™ä¸ªçª—å£ï¼Œæˆ‘ç”¨ Navicat è¿ä¸Šäº†æ•°æ®åº“ï¼Œç¬¬ä¸€æ¬¡è§åˆ°äº†æ•°æ®åº“åˆ°åº•æ˜¯å•¥ç»“æ„â€¦â€¦ï¼ˆNavicat æ˜¯ä»€ä¹ˆè¯·çœ‹ &lt;a class="link" href="https://www.navicat.com.cn/manual/online_manual/cn/navicat_16/win_manual/#/main_window" target="_blank" rel="noopener"
>ç”¨æˆ·æ‰‹å†Œ&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
ï¼‰&lt;/p>
&lt;p>&lt;img src="https://cdn.jsdelivr.net/gh/Falasool/blog-pic-bed@main//blog202307032252841.webp"
loading="lazy"
alt="image"
>&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">.
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â””â”€â”€ public &lt;span class="c1"># public æ˜¯é»˜è®¤çš„æ•°æ®åº“æ¨¡å¼ï¼ˆschemaï¼‰ã€‚ä¸€ä¸ªæ•°æ®åº“å¯ä»¥åŒ…å«å¤šä¸ªæ¨¡å¼ï¼Œè€Œæ¯ä¸ªæ¨¡å¼åˆå¯ä»¥åŒ…å«å¤šä¸ªè¡¨ã€è§†å›¾ã€å‡½æ•°ç­‰å¯¹è±¡.schema æ˜¯ä¸€ç§é€»è¾‘å®¹å™¨ï¼Œç”¨äºç»„ç»‡å’Œç®¡ç†æ•°æ®åº“å¯¹è±¡ã€‚å®ƒå¯ä»¥å¸®åŠ©åœ¨ä¸€ä¸ªæ•°æ®åº“ä¸­å¯¹ä¸åŒçš„å¯¹è±¡è¿›è¡Œåˆ†ç±»å’Œåˆ†ç»„&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> â”œâ”€â”€ Tables &lt;span class="c1"># è¡¨æ˜¯å­˜å‚¨æ•°æ®çš„åŸºæœ¬å¯¹è±¡ï¼Œç±»ä¼¼äºç”µå­è¡¨æ ¼æˆ–æ•°æ®åº“ä¸­çš„è¡¨æ ¼ã€‚å®ƒä»¬ç”±è¡Œå’Œåˆ—ç»„æˆï¼Œç”¨äºå­˜å‚¨å’Œç»„ç»‡æ•°æ®&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> â”œâ”€â”€ Views &lt;span class="c1"># è§†å›¾æ˜¯è™šæ‹Ÿè¡¨ï¼Œæ˜¯æ ¹æ®å­˜å‚¨åœ¨å…¶ä»–è¡¨ä¸­çš„æ•°æ®å®šä¹‰çš„æŸ¥è¯¢ç»“æœã€‚è§†å›¾å¯ä»¥ç®€åŒ–å¤æ‚æŸ¥è¯¢ï¼Œå¹¶æä¾›ä¸€ç§æ–¹å¼æ¥è®¿é—®å’Œä½¿ç”¨æ•°æ®&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> â”œâ”€â”€ Materialized Views &lt;span class="c1"># ææ–™åŒ–è§†å›¾æ˜¯ä¸€ç§ç‰¹æ®Šç±»å‹çš„è§†å›¾ï¼Œå®ƒåœ¨åˆ›å»ºæ—¶å°†æŸ¥è¯¢ç»“æœç¼“å­˜ä¸ºå®é™…çš„è¡¨ã€‚ä¸æ™®é€šè§†å›¾ä¸åŒï¼Œææ–™åŒ–è§†å›¾çš„å†…å®¹åœ¨æŸ¥è¯¢æ—¶ä¸ä¼šå†æ¬¡è®¡ç®—ï¼Œè€Œæ˜¯ä½¿ç”¨é¢„å…ˆè®¡ç®—çš„ç»“æœ&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> â”œâ”€â”€ Functions &lt;span class="c1"># å‡½æ•°æ˜¯ä¸€æ®µå°è£…äº†ç‰¹å®šåŠŸèƒ½çš„å¯é‡ç”¨ä»£ç å—ã€‚åœ¨æ•°æ®åº“ä¸­ï¼Œå‡½æ•°ç”¨äºæ‰§è¡Œç‰¹å®šçš„è®¡ç®—ã€å¤„ç†æ•°æ®æˆ–è¿”å›ç»“æœ&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> â”œâ”€â”€ Queries
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> Â  â””â”€â”€ Backups
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="è§£å†³æ•°æ®åº“å¢é•¿è¿‡å¿«çš„é—®é¢˜åˆ°åº•è§£å†³äº†æ²¡æœ‰å‘¢">è§£å†³æ•°æ®åº“å¢é•¿è¿‡å¿«çš„é—®é¢˜ï¼ˆåˆ°åº•è§£å†³äº†æ²¡æœ‰å‘¢ï¼Ÿï¼‰&lt;/h3>
&lt;p>å‰æï¼šå¤‡ä»½æ•°æ®åº“&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># å¤‡ä»½&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">mkdir -p /pleromabackup
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">chmod &lt;span class="m">777&lt;/span> /pleromabackup
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">su - postgres
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">psql -U postgres
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nv">postgres&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="c1"># \! pg_dump pleroma -f /pleromabackup/pleroma.pgdump&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># æ£€æŸ¥å¤‡ä»½ç›®å½•å¤§å°&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">[&lt;/span>xxx@xxx pleromabackup&lt;span class="o">]&lt;/span>&lt;span class="c1"># du -hs&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">341M .
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>ğŸŒŸ **æŸ¥è¯¢æ‰€æœ‰è¡¨çš„è¡Œæ•°ï¼š**åˆ›å»ºä¸€ä¸ª &lt;code>count_em_all&lt;/code> å‡½æ•°ï¼Œç„¶åè°ƒç”¨å®ƒè·å¾—å‡†ç¡®çš„ç»Ÿè®¡ä¿¡æ¯&lt;/p>
&lt;ol>
&lt;li>åˆ›å»ºï¼š&lt;/li>
&lt;/ol>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-postgresql" data-lang="postgresql">&lt;span class="line">&lt;span class="cl">&lt;span class="k">CREATE&lt;/span> &lt;span class="k">TYPE&lt;/span> &lt;span class="n">table_count&lt;/span> &lt;span class="k">AS&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">table_name&lt;/span> &lt;span class="nb">TEXT&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">num_rows&lt;/span> &lt;span class="nb">INTEGER&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">CREATE&lt;/span> &lt;span class="k">OR&lt;/span> &lt;span class="k">REPLACE&lt;/span> &lt;span class="k">FUNCTION&lt;/span> &lt;span class="n">count_em_all&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="k">RETURNS&lt;/span> &lt;span class="k">SETOF&lt;/span> &lt;span class="n">table_count&lt;/span> &lt;span class="k">AS&lt;/span> &lt;span class="s1">&amp;#39;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s1">DECLARE
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s1"> the_count RECORD;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s1"> t_name RECORD;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s1"> r table_count%ROWTYPE;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s1">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s1">BEGIN
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s1"> FOR t_name IN
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s1"> SELECT
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s1"> c.relname
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s1"> FROM
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s1"> pg_catalog.pg_class c LEFT JOIN pg_namespace n ON n.oid = c.relnamespace
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s1"> WHERE
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s1"> c.relkind = &amp;#39;&amp;#39;r&amp;#39;&amp;#39;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s1"> AND n.nspname = &amp;#39;&amp;#39;public&amp;#39;&amp;#39;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s1"> ORDER BY 1
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s1"> LOOP
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s1"> FOR the_count IN EXECUTE &amp;#39;&amp;#39;SELECT COUNT(*) AS &amp;#34;count&amp;#34; FROM &amp;#39;&amp;#39; || t_name.relname
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s1"> LOOP
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s1"> END LOOP;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s1">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s1"> r.table_name := t_name.relname;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s1"> r.num_rows := the_count.count;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s1"> RETURN NEXT r;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s1"> END LOOP;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s1"> RETURN;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s1">END;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s1">&amp;#39;&lt;/span> &lt;span class="k">LANGUAGE&lt;/span> &lt;span class="n">plpgsql&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;ol start="2">
&lt;li>è°ƒç”¨&lt;/li>
&lt;/ol>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-postgresql" data-lang="postgresql">&lt;span class="line">&lt;span class="cl">&lt;span class="k">SELECT&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">*&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">FROM&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">count_em_all&lt;/span> &lt;span class="p">(&lt;/span> &lt;span class="p">)&lt;/span> &lt;span class="k">AS&lt;/span> &lt;span class="n">r&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">ORDER&lt;/span> &lt;span class="k">BY&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">r&lt;/span>&lt;span class="mf">.&lt;/span>&lt;span class="n">num_rows&lt;/span> &lt;span class="k">DESC&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>ç»“æœï¼š&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-postgresql" data-lang="postgresql">&lt;span class="line">&lt;span class="cl"> &lt;span class="n">table_name&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="n">num_rows&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">--------------------------------------------+----------
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="n">activities&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="mf">171772&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">objects&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="mf">120664&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">hashtags_objects&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="mf">38433&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">users&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="mf">22054&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">hashtags&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="mf">7719&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">deliveries&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="mf">5420&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">counter_cache&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="mf">876&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">notifications&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="mf">570&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">oauth_authorizations&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="mf">479&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">oauth_tokens&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="mf">474&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">following_relationships&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="mf">472&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">schema_migrations&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="mf">302&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">apps&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="mf">83&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">user_relationships&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="mf">53&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">conversation_participation_recipient_ships&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="mf">36&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">instances&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="mf">34&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">oban_jobs&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="mf">32&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">conversation_participations&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="mf">18&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">conversations&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="mf">10&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">config&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="mf">10&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">bookmarks&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="mf">5&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">markers&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="mf">3&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">user_notes&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="mf">2&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">data_migrations&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="mf">2&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">backups&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="mf">1&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">moderation_log&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="mf">1&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">password_reset_tokens&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="mf">1&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">lists&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="mf">1&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">oban_peers&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="mf">1&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">announcements&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="mf">0&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">filters&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="mf">0&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">announcement_read_relationships&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="mf">0&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">data_migration_failed_ids&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="mf">0&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">mfa_tokens&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="mf">0&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">chats&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="mf">0&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">chat_message_references&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="mf">0&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">push_subscriptions&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="mf">0&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">registrations&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="mf">0&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">report_notes&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="mf">0&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">scheduled_activities&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="mf">0&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">thread_mutes&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="mf">0&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">user_invite_tokens&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="mf">0&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">(&lt;/span>&lt;span class="mf">42&lt;/span> &lt;span class="k">rows&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>ğŸŒŸ &lt;strong>æŸ¥è¯¢æ‰€æœ‰è¡¨çš„æ€»å¤§å°&lt;/strong>ï¼ˆæ‹¬è¡¨æ•°æ®æ–‡ä»¶ã€ç´¢å¼•æ–‡ä»¶ã€TOASTè¡¨ã€Free Space Mapç­‰å¯¹è±¡çš„å¤§å°ï¼‰&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-postgresql" data-lang="postgresql">&lt;span class="line">&lt;span class="cl">&lt;span class="n">pleroma&lt;/span>&lt;span class="o">=#&lt;/span> &lt;span class="k">SELECT&lt;/span> &lt;span class="n">relname&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">pg_size_pretty&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">pg_total_relation_size&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">relid&lt;/span>&lt;span class="p">))&lt;/span> &lt;span class="k">AS&lt;/span> &lt;span class="n">size_mb&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">FROM&lt;/span> &lt;span class="n">pg_stat_user_tables&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">ORDER&lt;/span> &lt;span class="k">BY&lt;/span> &lt;span class="n">pg_total_relation_size&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">relid&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="k">DESC&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">relname&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="n">size_mb&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">--------------------------------------------+---------
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="n">objects&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="mf">266&lt;/span> &lt;span class="n">MB&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">activities&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="mf">258&lt;/span> &lt;span class="n">MB&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">oban_jobs&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="mf">100&lt;/span> &lt;span class="n">MB&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">users&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="mf">64&lt;/span> &lt;span class="n">MB&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">hashtags_objects&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="mf">4096&lt;/span> &lt;span class="n">kB&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">hashtags&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="mf">1288&lt;/span> &lt;span class="n">kB&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">deliveries&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="mf">960&lt;/span> &lt;span class="n">kB&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">oauth_tokens&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="mf">592&lt;/span> &lt;span class="n">kB&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">oauth_authorizations&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="mf">344&lt;/span> &lt;span class="n">kB&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">notifications&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="mf">240&lt;/span> &lt;span class="n">kB&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">following_relationships&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="mf">232&lt;/span> &lt;span class="n">kB&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">counter_cache&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="mf">208&lt;/span> &lt;span class="n">kB&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">apps&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="mf">176&lt;/span> &lt;span class="n">kB&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">instances&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="mf">96&lt;/span> &lt;span class="n">kB&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">conversation_participations&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="mf">88&lt;/span> &lt;span class="n">kB&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">lists&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="mf">80&lt;/span> &lt;span class="n">kB&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">markers&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="mf">80&lt;/span> &lt;span class="n">kB&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">oban_peers&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="mf">80&lt;/span> &lt;span class="n">kB&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">schema_migrations&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="mf">64&lt;/span> &lt;span class="n">kB&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">conversation_participation_recipient_ships&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="mf">56&lt;/span> &lt;span class="n">kB&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">user_relationships&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="mf">56&lt;/span> &lt;span class="n">kB&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">data_migrations&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="mf">48&lt;/span> &lt;span class="n">kB&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">config&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="mf">48&lt;/span> &lt;span class="n">kB&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">backups&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="mf">48&lt;/span> &lt;span class="n">kB&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">conversations&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="mf">40&lt;/span> &lt;span class="n">kB&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">bookmarks&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="mf">40&lt;/span> &lt;span class="n">kB&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">user_notes&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="mf">40&lt;/span> &lt;span class="n">kB&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">filters&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="mf">32&lt;/span> &lt;span class="n">kB&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">scheduled_activities&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="mf">32&lt;/span> &lt;span class="n">kB&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">registrations&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="mf">32&lt;/span> &lt;span class="n">kB&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">chat_message_references&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="mf">32&lt;/span> &lt;span class="n">kB&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">moderation_log&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="mf">32&lt;/span> &lt;span class="n">kB&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">password_reset_tokens&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="mf">24&lt;/span> &lt;span class="n">kB&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">push_subscriptions&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="mf">24&lt;/span> &lt;span class="n">kB&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">user_invite_tokens&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="mf">16&lt;/span> &lt;span class="n">kB&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">mfa_tokens&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="mf">16&lt;/span> &lt;span class="n">kB&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">announcement_read_relationships&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="mf">16&lt;/span> &lt;span class="n">kB&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">thread_mutes&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="mf">16&lt;/span> &lt;span class="n">kB&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">announcements&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="mf">16&lt;/span> &lt;span class="n">kB&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">report_notes&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="mf">16&lt;/span> &lt;span class="n">kB&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">chats&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="mf">16&lt;/span> &lt;span class="n">kB&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">data_migration_failed_ids&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="mf">16&lt;/span> &lt;span class="n">kB&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">(&lt;/span>&lt;span class="mf">42&lt;/span> &lt;span class="k">rows&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>åˆ—å‡ºè¡Œæ•°å’Œ size æ’å‰äº”çš„è¡¨&lt;/p>
&lt;p>ğŸŒŸ &lt;strong>activities è¡¨&lt;/strong>&lt;/p>
&lt;p>type å­—æ®µçš„æ‰€æœ‰å€¼&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-postgresql" data-lang="postgresql">&lt;span class="line">&lt;span class="cl">&lt;span class="n">pleroma&lt;/span>&lt;span class="o">=#&lt;/span> &lt;span class="k">SELECT&lt;/span> &lt;span class="k">DISTINCT&lt;/span> &lt;span class="k">data&lt;/span>&lt;span class="o">-&amp;gt;&amp;gt;&lt;/span>&lt;span class="s1">&amp;#39;type&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">FROM&lt;/span> &lt;span class="n">activities&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">?&lt;/span>&lt;span class="k">column&lt;/span>&lt;span class="o">?&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">------------
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="n">Follow&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">Block&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">Announce&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">Move&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">Delete&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">Undo&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">Create&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">EmojiReact&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">Remove&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">Update&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">Like&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">Add&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">Reject&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">Accept&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">(&lt;/span>&lt;span class="mf">14&lt;/span> &lt;span class="k">rows&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>åˆ—å‡ºå€¼æ˜¯ Announce çš„æ‰€æœ‰è¡Œ&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-postgresql" data-lang="postgresql">&lt;span class="line">&lt;span class="cl">&lt;span class="k">SELECT&lt;/span> &lt;span class="o">*&lt;/span> &lt;span class="k">FROM&lt;/span> &lt;span class="n">activities&lt;/span> &lt;span class="k">WHERE&lt;/span> &lt;span class="k">data&lt;/span>&lt;span class="o">-&amp;gt;&amp;gt;&lt;/span>&lt;span class="s1">&amp;#39;type&amp;#39;&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s1">&amp;#39;Announce&amp;#39;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-postgresql" data-lang="postgresql">&lt;span class="line">&lt;span class="cl">&lt;span class="mf">.&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">bin&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">pleroma_ctl&lt;/span> &lt;span class="k">database&lt;/span> &lt;span class="k">vacuum&lt;/span> &lt;span class="k">full&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">SELECT&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="mf">.&lt;/span>&lt;span class="s">&amp;#34;actor&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="mf">.&lt;/span>&lt;span class="s">&amp;#34;data&amp;#34;&lt;/span>&lt;span class="o">-&amp;gt;&amp;gt;&lt;/span>&lt;span class="s1">&amp;#39;type&amp;#39;&lt;/span> &lt;span class="k">AS&lt;/span> &lt;span class="k">type&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="mf">.&lt;/span>&lt;span class="s">&amp;#34;updated_at&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">o&lt;/span>&lt;span class="mf">.&lt;/span>&lt;span class="s">&amp;#34;data&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">FROM&lt;/span> &lt;span class="s">&amp;#34;activities&amp;#34;&lt;/span> &lt;span class="k">AS&lt;/span> &lt;span class="n">a&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">INNER&lt;/span> &lt;span class="k">JOIN&lt;/span> &lt;span class="s">&amp;#34;objects&amp;#34;&lt;/span> &lt;span class="k">AS&lt;/span> &lt;span class="n">o&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">ON&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">o&lt;/span>&lt;span class="mf">.&lt;/span>&lt;span class="s">&amp;#34;data&amp;#34;&lt;/span>&lt;span class="o">-&amp;gt;&amp;gt;&lt;/span>&lt;span class="s1">&amp;#39;id&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">COALESCE&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">a&lt;/span>&lt;span class="mf">.&lt;/span>&lt;span class="s">&amp;#34;data&amp;#34;&lt;/span>&lt;span class="o">-&amp;gt;&lt;/span>&lt;span class="s1">&amp;#39;object&amp;#39;&lt;/span>&lt;span class="o">-&amp;gt;&amp;gt;&lt;/span>&lt;span class="s1">&amp;#39;id&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="mf">.&lt;/span>&lt;span class="s">&amp;#34;data&amp;#34;&lt;/span>&lt;span class="o">-&amp;gt;&amp;gt;&lt;/span>&lt;span class="s1">&amp;#39;object&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">WHERE&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="mf">.&lt;/span>&lt;span class="s">&amp;#34;data&amp;#34;&lt;/span>&lt;span class="o">-&amp;gt;&amp;gt;&lt;/span>&lt;span class="s1">&amp;#39;actor&amp;#39;&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s1">&amp;#39;https://pleroma.your.site/users/admin&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">OR&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="mf">.&lt;/span>&lt;span class="s">&amp;#34;data&amp;#34;&lt;/span>&lt;span class="o">-&amp;gt;&lt;/span>&lt;span class="s1">&amp;#39;to&amp;#39;&lt;/span> &lt;span class="o">?&lt;/span> &lt;span class="s1">&amp;#39;https://pleroma.your.site/users/admin&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">OR&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="mf">.&lt;/span>&lt;span class="s">&amp;#34;data&amp;#34;&lt;/span>&lt;span class="o">-&amp;gt;&lt;/span>&lt;span class="s1">&amp;#39;cc&amp;#39;&lt;/span> &lt;span class="o">?&lt;/span> &lt;span class="s1">&amp;#39;https://pleroma.your.site/users/admin&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">ORDER&lt;/span> &lt;span class="k">BY&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="mf">.&lt;/span>&lt;span class="s">&amp;#34;updated_at&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>ğŸŒŸ users è¡¨é‡Œæœ‰å¾ˆå¤šå¾ˆå¤šåªæœ‰ nickname çš„ç”¨æˆ·ï¼Œå®ƒä»¬æ‰€åœ¨å®ä¾‹æ˜¯çœŸå®çš„ï¼Œä½†æ˜¯ ID ä¸æ˜¯ï¼Œæˆ‘æŠŠè¿™äº›è¡Œåˆ äº†ï¼Œæš‚æ—¶è¿˜æ²¡å‡ºé—®é¢˜&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-postgresql" data-lang="postgresql">&lt;span class="line">&lt;span class="cl">&lt;span class="k">SELECT&lt;/span> &lt;span class="o">*&lt;/span> &lt;span class="k">FROM&lt;/span> &lt;span class="n">users&lt;/span> &lt;span class="k">WHERE&lt;/span> &lt;span class="k">name&lt;/span> &lt;span class="k">IS&lt;/span> &lt;span class="k">NULL&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">DELETE&lt;/span> &lt;span class="k">FROM&lt;/span> &lt;span class="n">users&lt;/span> &lt;span class="k">WHERE&lt;/span> &lt;span class="k">name&lt;/span> &lt;span class="k">IS&lt;/span> &lt;span class="k">NULL&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>ğŸŒŸ åˆ é™¤äº†ä¸€ä¸ª bot çš„è®°å½•&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-postgresql" data-lang="postgresql">&lt;span class="line">&lt;span class="cl">&lt;span class="n">pleroma&lt;/span>&lt;span class="o">=#&lt;/span> &lt;span class="k">SELECT&lt;/span> &lt;span class="o">*&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">FROM&lt;/span> &lt;span class="n">objects&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">WHERE&lt;/span> &lt;span class="k">data&lt;/span>&lt;span class="o">-&amp;gt;&amp;gt;&lt;/span>&lt;span class="s1">&amp;#39;actor&amp;#39;&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s1">&amp;#39;https://xx.ca/users/xxxBot&amp;#39;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">pleroma&lt;/span>&lt;span class="o">=#&lt;/span> &lt;span class="k">DELETE&lt;/span> &lt;span class="k">FROM&lt;/span> &lt;span class="n">objects&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">WHERE&lt;/span> &lt;span class="k">data&lt;/span>&lt;span class="o">-&amp;gt;&amp;gt;&lt;/span>&lt;span class="s1">&amp;#39;actor&amp;#39;&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s1">&amp;#39;https://xx.ca/users/xxxBot&amp;#39;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">DELETE&lt;/span> &lt;span class="mf">485&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>ğŸŒŸ åˆ é™¤äº† activities è¡¨ 2023-06-15 ä¹‹å‰ã€ä¸æˆ‘æ— è®¨è®ºå…³ç³»ã€ä¹¦ç­¾ä»¥å¤–çš„å†…å®¹&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-postgresql" data-lang="postgresql">&lt;span class="line">&lt;span class="cl">&lt;span class="n">pleroma&lt;/span>&lt;span class="o">=#&lt;/span> &lt;span class="k">DELETE&lt;/span> &lt;span class="k">FROM&lt;/span> &lt;span class="n">activities&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">WHERE&lt;/span> &lt;span class="n">id&lt;/span> &lt;span class="k">NOT&lt;/span> &lt;span class="k">IN&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="k">SELECT&lt;/span> &lt;span class="n">activity_id&lt;/span> &lt;span class="k">FROM&lt;/span> &lt;span class="n">bookmarks&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">AND&lt;/span> &lt;span class="n">inserted_at&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="s1">&amp;#39;2023-06-15&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">AND&lt;/span> &lt;span class="n">id&lt;/span> &lt;span class="k">NOT&lt;/span> &lt;span class="k">IN&lt;/span> &lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">SELECT&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="mf">.&lt;/span>&lt;span class="n">id&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">FROM&lt;/span> &lt;span class="n">activities&lt;/span> &lt;span class="k">AS&lt;/span> &lt;span class="n">a&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">INNER&lt;/span> &lt;span class="k">JOIN&lt;/span> &lt;span class="n">objects&lt;/span> &lt;span class="k">AS&lt;/span> &lt;span class="n">o&lt;/span> &lt;span class="k">ON&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">o&lt;/span>&lt;span class="mf">.&lt;/span>&lt;span class="s">&amp;#34;data&amp;#34;&lt;/span>&lt;span class="o">-&amp;gt;&amp;gt;&lt;/span>&lt;span class="s1">&amp;#39;id&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">COALESCE&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">a&lt;/span>&lt;span class="mf">.&lt;/span>&lt;span class="s">&amp;#34;data&amp;#34;&lt;/span>&lt;span class="o">-&amp;gt;&lt;/span>&lt;span class="s1">&amp;#39;object&amp;#39;&lt;/span>&lt;span class="o">-&amp;gt;&amp;gt;&lt;/span>&lt;span class="s1">&amp;#39;id&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="mf">.&lt;/span>&lt;span class="s">&amp;#34;data&amp;#34;&lt;/span>&lt;span class="o">-&amp;gt;&amp;gt;&lt;/span>&lt;span class="s1">&amp;#39;object&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">WHERE&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="mf">.&lt;/span>&lt;span class="s">&amp;#34;data&amp;#34;&lt;/span>&lt;span class="o">-&amp;gt;&amp;gt;&lt;/span>&lt;span class="s1">&amp;#39;actor&amp;#39;&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s1">&amp;#39;https://ponderduck.cc/users/yaya&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">OR&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="mf">.&lt;/span>&lt;span class="s">&amp;#34;data&amp;#34;&lt;/span>&lt;span class="o">-&amp;gt;&lt;/span>&lt;span class="s1">&amp;#39;to&amp;#39;&lt;/span> &lt;span class="o">?&lt;/span> &lt;span class="s1">&amp;#39;https://ponderduck.cc/users/yaya&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">OR&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="mf">.&lt;/span>&lt;span class="s">&amp;#34;data&amp;#34;&lt;/span>&lt;span class="o">-&amp;gt;&lt;/span>&lt;span class="s1">&amp;#39;cc&amp;#39;&lt;/span> &lt;span class="o">?&lt;/span> &lt;span class="s1">&amp;#39;https://ponderduck.cc/users/yaya&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">DELETE&lt;/span> &lt;span class="mf">89430&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>ğŸŒŸ åˆ é™¤äº† objects è¡¨ä¸ä»¥ä¸Šå†…å®¹å¯¹åº”çš„è¡Œ&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-postgresql" data-lang="postgresql">&lt;span class="line">&lt;span class="cl">&lt;span class="cm">/*
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm">åˆ›å»ºä¸€ä¸ªä¸´æ—¶è¡¨ temp_objects
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm">æ¥å­˜å‚¨é‚£äº›åœ¨ activities è¡¨ä¸­æ‰¾ä¸åˆ°å¯¹åº”è¡Œçš„ objects è¡¨çš„è¡Œ
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm">*/&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">pleroma&lt;/span>&lt;span class="o">=#&lt;/span> &lt;span class="k">CREATE&lt;/span> &lt;span class="k">TEMPORARY&lt;/span> &lt;span class="k">TABLE&lt;/span> &lt;span class="n">temp_objects&lt;/span> &lt;span class="k">AS&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">SELECT&lt;/span> &lt;span class="n">o&lt;/span>&lt;span class="mf">.&lt;/span>&lt;span class="o">*&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">FROM&lt;/span> &lt;span class="n">objects&lt;/span> &lt;span class="n">o&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">LEFT&lt;/span> &lt;span class="k">JOIN&lt;/span> &lt;span class="n">activities&lt;/span> &lt;span class="n">a&lt;/span> &lt;span class="k">ON&lt;/span> &lt;span class="n">o&lt;/span>&lt;span class="mf">.&lt;/span>&lt;span class="k">data&lt;/span>&lt;span class="o">-&amp;gt;&amp;gt;&lt;/span>&lt;span class="s1">&amp;#39;id&amp;#39;&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="mf">.&lt;/span>&lt;span class="k">data&lt;/span>&lt;span class="o">-&amp;gt;&lt;/span>&lt;span class="s1">&amp;#39;object&amp;#39;&lt;/span>&lt;span class="o">-&amp;gt;&amp;gt;&lt;/span>&lt;span class="s1">&amp;#39;id&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">WHERE&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="mf">.&lt;/span>&lt;span class="k">data&lt;/span>&lt;span class="o">-&amp;gt;&lt;/span>&lt;span class="s1">&amp;#39;object&amp;#39;&lt;/span>&lt;span class="o">-&amp;gt;&amp;gt;&lt;/span>&lt;span class="s1">&amp;#39;id&amp;#39;&lt;/span> &lt;span class="k">IS&lt;/span> &lt;span class="k">NULL&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">SELECT&lt;/span> &lt;span class="mf">128652&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm">/*
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm">æŠ¥é”™ï¼š
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm">æ‰§è¡Œåˆ é™¤æ“ä½œæ—¶è¿åäº†å¤–é”®çº¦æŸ
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm">objects è¡¨ä¸­çš„æŸäº›è¡Œä»ç„¶è¢« deliveries è¡¨å¼•ç”¨ï¼Œå› æ­¤æ— æ³•ç›´æ¥åˆ é™¤
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm">deliveries è¡¨æ˜¯ç”¨äºè·Ÿè¸ªæ¶ˆæ¯ä¼ é€’çš„è¡¨ï¼Œé€šå¸¸åœ¨ ActivityPub åè®®çš„å®ç°ä¸­ä½¿ç”¨
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm">å®ƒè®°å½•äº†æ¶ˆæ¯ä¼ é€’çš„ç›¸å…³ä¿¡æ¯ï¼Œä¾‹å¦‚å‘é€æ–¹ã€æ¥æ”¶æ–¹ã€æ¶ˆæ¯å†…å®¹ç­‰
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm">æ¯æ¡è®°å½•ä»£è¡¨ä¸€æ¬¡æ¶ˆæ¯ä¼ é€’æˆ–äº¤äº’ã€‚
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm">åœ¨ Pleroma ä¸­ï¼Œdeliveries è¡¨ç”¨äºå­˜å‚¨æ¶ˆæ¯çš„ä¼ é€’çŠ¶æ€å’Œç›¸å…³ä¿¡æ¯ï¼Œä»¥ç¡®ä¿æ¶ˆæ¯èƒ½å¤Ÿæ­£ç¡®åœ°ä¼ é€’ç»™ç›®æ ‡ç”¨æˆ·
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm">å®ƒä¸ objects è¡¨å’Œ activities è¡¨ä¹‹é—´å¯èƒ½å­˜åœ¨å¤–é”®å…³ç³»ï¼Œç”¨äºä¿è¯æ•°æ®çš„å®Œæ•´æ€§
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm">*/&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">pleroma&lt;/span>&lt;span class="o">=#&lt;/span> &lt;span class="k">DELETE&lt;/span> &lt;span class="k">FROM&lt;/span> &lt;span class="n">objects&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">WHERE&lt;/span> &lt;span class="n">id&lt;/span> &lt;span class="k">IN&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="k">SELECT&lt;/span> &lt;span class="n">id&lt;/span> &lt;span class="k">FROM&lt;/span> &lt;span class="n">temp_objects&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">ERROR&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="k">update&lt;/span> &lt;span class="k">or&lt;/span> &lt;span class="k">delete&lt;/span> &lt;span class="k">on&lt;/span> &lt;span class="k">table&lt;/span> &lt;span class="s">&amp;#34;objects&amp;#34;&lt;/span> &lt;span class="n">violates&lt;/span> &lt;span class="k">foreign&lt;/span> &lt;span class="k">key&lt;/span> &lt;span class="k">constraint&lt;/span> &lt;span class="s">&amp;#34;deliveries_object_id_fkey&amp;#34;&lt;/span> &lt;span class="k">on&lt;/span> &lt;span class="k">table&lt;/span> &lt;span class="s">&amp;#34;deliveries&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">DETAIL&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="k">Key&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">id&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mf">75072&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="k">is&lt;/span> &lt;span class="n">still&lt;/span> &lt;span class="n">referenced&lt;/span> &lt;span class="k">from&lt;/span> &lt;span class="k">table&lt;/span> &lt;span class="s">&amp;#34;deliveries&amp;#34;&lt;/span>&lt;span class="mf">.&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm">/*
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm">æ‰€ä»¥å…ˆåˆ é™¤è¢« deliveries è¡¨å¼•ç”¨çš„è¡Œ
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm">*/&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">pleroma&lt;/span>&lt;span class="o">=#&lt;/span> &lt;span class="k">DELETE&lt;/span> &lt;span class="k">FROM&lt;/span> &lt;span class="n">deliveries&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">WHERE&lt;/span> &lt;span class="n">user_id&lt;/span> &lt;span class="k">NOT&lt;/span> &lt;span class="k">IN&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="k">SELECT&lt;/span> &lt;span class="n">id&lt;/span> &lt;span class="k">FROM&lt;/span> &lt;span class="n">activities&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">DELETE&lt;/span> &lt;span class="mf">6372&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm">/*
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm">ç»§ç»­æ‰§è¡Œåˆ é™¤æ“ä½œå¹¶åˆ é™¤ä¸´æ—¶è¡¨
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm">*/&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">pleroma&lt;/span>&lt;span class="o">=#&lt;/span> &lt;span class="k">DELETE&lt;/span> &lt;span class="k">FROM&lt;/span> &lt;span class="n">objects&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">WHERE&lt;/span> &lt;span class="n">id&lt;/span> &lt;span class="k">IN&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="k">SELECT&lt;/span> &lt;span class="n">id&lt;/span> &lt;span class="k">FROM&lt;/span> &lt;span class="n">temp_objects&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">DELETE&lt;/span> &lt;span class="mf">128652&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">pleroma&lt;/span>&lt;span class="o">=#&lt;/span> &lt;span class="k">DROP&lt;/span> &lt;span class="k">TABLE&lt;/span> &lt;span class="n">temp_objects&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">DROP&lt;/span> &lt;span class="k">TABLE&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>æœ€å &lt;code>su pleroma -s $SHELL -lc &amp;quot;./bin/pleroma_ctl database vacuum full &amp;quot;&lt;/code>ï¼Œä½†æ˜¯ï¼SQL å‘½ä»¤æœ‰é—®é¢˜ï¼Œåˆ äº†æˆ‘å¥½å¤šå˜Ÿï¼Œå‘œå‘œå‘œå“­ç€å€’åœ°ã€‚é‡æ–°çœ‹äº†ä¸€ä¸‹æ•°æ®åº“å¤§å°ï¼Œç°åœ¨å€’æ˜¯å˜å¾—è¿·ä½ äº†ï¼Œ164 MBã€‚ä½†æ˜¯è¿™ä¸€åˆ‡çœŸçš„å€¼å¾—å—â€¦â€¦å®Œå…¨åœ¨æˆ‘è®¡åˆ’å¤–çš„â€¦â€¦&lt;/p>
&lt;h3 id="å¸¸ç”¨-psql-å‘½ä»¤">å¸¸ç”¨ psql å‘½ä»¤&lt;/h3>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-postgresql" data-lang="postgresql">&lt;span class="line">&lt;span class="cl">&lt;span class="n">psql&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="n">U&lt;/span> &lt;span class="n">postgres&lt;/span> &lt;span class="o">#&lt;/span> &lt;span class="err">æŒ‡å®šç”¨æˆ·è¿æ¥&lt;/span>&lt;span class="n">PostgreSQL&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">psql&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="n">d&lt;/span> &lt;span class="n">postgres&lt;/span> &lt;span class="o">#&lt;/span> &lt;span class="err">æŒ‡å®šæ•°æ®åº“è¿æ¥&lt;/span>&lt;span class="n">PostgreSQL&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">psql&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="n">h&lt;/span> &lt;span class="mf">127.0.0.1&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="n">p&lt;/span> &lt;span class="mf">5432&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="n">U&lt;/span> &lt;span class="n">pg&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="n">d&lt;/span> &lt;span class="n">postgres&lt;/span> &lt;span class="o">#&lt;/span> &lt;span class="err">è¿æ¥åˆ°æœ¬åœ°ä¸»æœºï¼ˆ&lt;/span>&lt;span class="mf">127.0.0.1&lt;/span>&lt;span class="err">ï¼‰çš„&lt;/span> &lt;span class="n">PostgreSQL&lt;/span> &lt;span class="err">æ•°æ®åº“æœåŠ¡å™¨ï¼Œä½¿ç”¨ç”¨æˆ·å&lt;/span> &lt;span class="n">pg&lt;/span> &lt;span class="err">è¿æ¥åˆ°åä¸º&lt;/span> &lt;span class="n">postgres&lt;/span> &lt;span class="err">çš„æ•°æ®åº“&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">\&lt;/span>&lt;span class="n">du&lt;/span> &lt;span class="o">#&lt;/span> &lt;span class="err">æŸ¥çœ‹æ‰€æœ‰ç”¨æˆ·&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">\&lt;/span>&lt;span class="n">l&lt;/span> &lt;span class="o">#&lt;/span> &lt;span class="err">æŸ¥çœ‹æ‰€æœ‰æ•°æ®åº“&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">\&lt;/span>&lt;span class="n">c&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="n">dbname&lt;/span>&lt;span class="p">}&lt;/span> &lt;span class="o">#&lt;/span> &lt;span class="err">åˆ‡æ¢åˆ°æ•°æ®åº“&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">\&lt;/span>&lt;span class="n">dt&lt;/span> &lt;span class="o">#&lt;/span> &lt;span class="err">æŸ¥çœ‹å½“å‰æ•°æ®åº“çš„æ‰€æœ‰è¡¨&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">\&lt;/span>&lt;span class="n">d&lt;/span> &lt;span class="p">{&lt;/span>&lt;span class="n">tablename&lt;/span>&lt;span class="p">}&lt;/span> &lt;span class="o">#&lt;/span> &lt;span class="err">æŸ¥çœ‹æŒ‡å®šè¡¨&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">SHOW&lt;/span> &lt;span class="n">data_directory&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="o">#&lt;/span> &lt;span class="err">æŸ¥çœ‹æ•°æ®ç›®å½•&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">\&lt;/span>&lt;span class="n">q&lt;/span> &lt;span class="o">#&lt;/span> &lt;span class="err">é€€å‡ºäº¤äº’æŸ¥è¯¢æ¨¡å¼&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div></description></item><item><title>Nginx</title><link>https://falasool.github.io/2023/nginx-memos/</link><pubDate>Tue, 11 Apr 2023 21:28:27 +0800</pubDate><guid>https://falasool.github.io/2023/nginx-memos/</guid><description>&lt;h2 id="nginx">Nginx&lt;/h2>
&lt;h3 id="å‡ ä¸ªé‡è¦çš„nginxæ–‡ä»¶å’Œç›®å½•">å‡ ä¸ªé‡è¦çš„Nginxæ–‡ä»¶å’Œç›®å½•&lt;/h3>
&lt;h4 id="ç½‘ç«™å†…å®¹">ç½‘ç«™å†…å®¹&lt;/h4>
&lt;ul>
&lt;li>&lt;code>/var/www/html&lt;/code>ï¼šé»˜è®¤çš„ç½‘ç«™å†…å®¹å­˜æ”¾ç›®å½•ï¼ŒNginx é»˜è®¤çš„æ¬¢è¿ç•Œé¢å°±å­˜æ”¾åœ¨è¿™ã€‚å¯ä»¥é€šè¿‡ä¿®æ”¹Nginxé…ç½®æ–‡ä»¶æ›´æ”¹ã€‚&lt;/li>
&lt;/ul>
&lt;h4 id="æœåŠ¡å™¨é…ç½®">æœåŠ¡å™¨é…ç½®&lt;/h4>
&lt;ul>
&lt;li>&lt;code>/etc/nginx/nginx.conf&lt;/code>ï¼šNginxé…ç½®æ–‡ä»¶ï¼Œä¿®æ”¹å®ƒé…ç½®Nginxå…¨å±€è®¾ç½®ã€‚&lt;/li>
&lt;li>&lt;code>/etc/nginx/sites-available/&lt;/code>ï¼šå¯ç”¨ç«™ç‚¹é…ç½®æ–‡ä»¶æ”¾ç½®ç›®å½•ï¼Œå¯åœ¨æ­¤åˆ›å»ºå¤šä¸ªè™šæ‹Ÿä¸»æœºï¼Œæ¯ä¸€ä¸ªç«™ç‚¹ä¸€ä¸ªé…ç½®æ–‡ä»¶&lt;/li>
&lt;li>&lt;code>/etc/nginx/sites-enabled/&lt;/code>ï¼šå·²å¯ç”¨ç«™ç‚¹çš„è½¯é“¾æ¥ç›®å½•ï¼ŒNginxé»˜è®¤ç«™ç‚¹ç›®å½•ï¼Œnginc.conf é»˜è®¤åŒ…å«çš„æ–‡ä»¶å¤¹ã€‚åœ¨æ­¤æ–‡ä»¶å¤¹å»ºç«‹çš„ç«™ç‚¹ï¼Œéœ€è¦å»ºç«‹è½¯è¿æ¥åˆ°ç›®å½•/etc/nginx/sites-available/é‡Œ&lt;/li>
&lt;li>&lt;code>/etc/nginx/conf.d&lt;/code>ï¼šç”¨äºå­˜æ”¾å¼•å…¥çš„å…¶ä»–é…ç½®æ–‡ä»¶çš„ç›®å½•ï¼ˆå­˜æ”¾å…¬å…±é…ç½®ç‰‡æ®µï¼‰&lt;/li>
&lt;li>&lt;code>/etc/nginx/mime.types&lt;/code>: è®¾ç½®åª’ä½“ç±»å‹æ˜ å°„å…³ç³»&lt;/li>
&lt;li>&lt;code>/etc/nginx/fastcgi_params&lt;/code>: ä¸€äº›é»˜è®¤çš„å‚æ•°æ–‡ä»¶&lt;/li>
&lt;li>&lt;code>/etc/nginx/modules-available/enabled&lt;/code>: Nginx æ¨¡å—ç›®å½•&lt;/li>
&lt;li>&lt;code>/etc/nginx/snippets&lt;/code>: ä»£ç ç‰‡æ®µç›®å½•&lt;/li>
&lt;li>&lt;code>/etc/nginx/ko-utfã€/etc/nginx/win-utf&lt;/code> ç­‰:ä¸€äº›ç¼–ç è½¬æ¢æ˜ å°„æ–‡ä»¶&lt;/li>
&lt;/ul>
&lt;h4 id="æœåŠ¡æ—¥å¿—">æœåŠ¡æ—¥å¿—&lt;/h4>
&lt;ul>
&lt;li>&lt;code>/var/log/nginx/access.log&lt;/code>ï¼šå¦‚æ— å…¶ä»–è®¾ç½®ï¼Œæ­¤æ–‡ä»¶è®°å½•äº†æ¯ä¸€æ¬¡çš„ç½‘é¡µæœåŠ¡è¯·æ±‚ã€‚&lt;/li>
&lt;li>&lt;code>/var/log/nginx/error.log&lt;/code>ï¼šNginxé”™è¯¯è¯·æ±‚è®°å½•æ–‡ä»¶ã€‚&lt;/li>
&lt;/ul></description></item><item><title>åšå®¢åŸŸåè®¾ç½®</title><link>https://falasool.github.io/2022/domain/</link><pubDate>Sat, 22 Oct 2022 22:27:40 +0800</pubDate><guid>https://falasool.github.io/2022/domain/</guid><description>&lt;!-- raw HTML omitted -->
&lt;h2 id="è®¾ç½®æ­¥éª¤">è®¾ç½®æ­¥éª¤&lt;/h2>
&lt;ul>
&lt;li>
&lt;p>åœ¨ &lt;a class="link" href="https://www.dynadot.com/" target="_blank" rel="noopener"
>Dynadot&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
ä¹°ä¸ªåŸŸåï¼ˆNameSlio å’Œ namecheap ä¹Ÿå¾ˆå¥½ï¼‰&lt;/p>
&lt;/li>
&lt;li>
&lt;p>è§£æåŸŸåï¼š&lt;/p>
&lt;/li>
&lt;li>
&lt;p>æ³¨å†Œ &lt;a class="link" href="https://dash.cloudflare.com/" target="_blank" rel="noopener"
>Cloudflare&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
è´¦å·ï¼Œç‚¹ Add Siteï¼Œè¾“å…¥ä½ çš„åŸŸå&lt;/p>
&lt;/li>
&lt;/ul>
&lt;!-- raw HTML omitted -->
&lt;ul>
&lt;li>é€‰æ‹©å…è´¹æ–¹æ¡ˆ&lt;/li>
&lt;/ul>
&lt;!-- raw HTML omitted -->
&lt;ul>
&lt;li>ping ä¸€ä¸‹ç›®å‰çš„ &amp;lt;username&amp;gt;.github.io ï¼Œå¾—åˆ°ç›®æ ‡ IP åœ°å€ï¼ˆGithub å®˜æ–¹ä¼šæä¾› 4 æ¡ IPv4 åœ°å€ï¼‰&lt;/li>
&lt;/ul>
&lt;!-- raw HTML omitted -->
&lt;ul>
&lt;li>æ£€æŸ¥ IP æ˜¯å¦å’Œåˆšåˆš ping å‡ºæ¥çš„ä¸€è‡´ï¼ˆä¸ä¸€è‡´çš„è¯æ”¹æ‰ï¼‰ï¼Œç„¶åç‚¹ Continue&lt;/li>
&lt;/ul>
&lt;p>&lt;img src="https://cdn.jsdelivr.net/gh/Falasool/blog-pic-bed/blog/check-ip.png"
loading="lazy"
alt="check-ip"
>&lt;/p>
&lt;ul>
&lt;li>é…ç½®é¡µé¢è§„åˆ™&lt;/li>
&lt;/ul>
&lt;!-- raw HTML omitted -->
&lt;ul>
&lt;li>æ›´æ”¹ SSL è®¾ç½®&lt;/li>
&lt;/ul>
&lt;!-- raw HTML omitted -->
&lt;ul>
&lt;li>åˆ†åˆ°äº†ä¸¤ä¸ªå§“åæœåŠ¡å™¨ï¼Œå¤åˆ¶ä¸‹æ¥&lt;/li>
&lt;/ul>
&lt;!-- raw HTML omitted -->
&lt;ul>
&lt;li>å›åˆ° &lt;a class="link" href="https://www.dynadot.com/" target="_blank" rel="noopener"
>Dynadot&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
ï¼Œ ç‚¹å‡»ï¼šæˆ‘çš„åŸŸå-ç®¡ç†åŸŸå-&amp;lt;åŸŸå&amp;gt;&lt;/li>
&lt;/ul>
&lt;!-- raw HTML omitted -->
&lt;ul>
&lt;li>ç‚¹å‡»ï¼šDNSè®¾ç½®&lt;/li>
&lt;/ul>
&lt;!-- raw HTML omitted -->
&lt;!-- raw HTML omitted -->
&lt;ul>
&lt;li>åœ¨ GitHub çš„ xxx.github.io ä»“åº“ï¼ŒSettings- Pages é‡Œå¡«ä¸Šä½ çš„åŸŸåï¼Œå‹¾é€‰ Enforce HTTPS&lt;/li>
&lt;/ul>
&lt;!-- raw HTML omitted -->
&lt;ul>
&lt;li>æŠŠæ ¹ç›®å½•ä¸‹çš„ &lt;code>.yaml&lt;/code> æ–‡ä»¶çš„ baseURL æ”¹ä¸ºä¸ªäººåŸŸå&lt;/li>
&lt;/ul>
&lt;p>ç°åœ¨å¯ä»¥ä»åŸŸåè®¿é—®åšå®¢äº†&lt;/p>
&lt;h2 id="è§£å†³æŠ¥é”™">è§£å†³æŠ¥é”™&lt;/h2>
&lt;p>ä»åŸŸåæˆ– xxx.github.io è®¿é—®åšå®¢éƒ½ä¼š404&lt;/p>
&lt;!-- raw HTML omitted -->
&lt;p>åœ¨å…¬å¼€ä»“åº“çš„ Settings-Pages é‡ŒæŸ¥çœ‹ï¼Œå‘ç°è®¾ç½®çš„ä¸ªäººåŸŸåæ¶ˆå¤±äº†ï¼Œåˆå˜å›äº† falasool.github.ioã€‚æœç´¢ç›¸å…³é—®é¢˜å‘ç°ï¼Œæœ‰äººåé¦ˆæ¯æ¬¡ push ä¹‹åéƒ½éœ€è¦é‡æ–°è®¾ç½®ä¸ªäººåŸŸåã€‚&lt;/p>
&lt;p>æˆ‘è¯•äº†ä¸€ä¸‹ä¹Ÿæ˜¯è¿™æ ·ï¼šè®¾ç½®åŸŸååä¼šè‡ªåŠ¨åˆ›å»º CNAME æ–‡ä»¶ï¼Œæ­¤æ—¶ä»åŸŸåæˆ– xxx.github.io éƒ½èƒ½è®¿é—®åšå®¢ã€‚push æ“ä½œå CNAME åˆæ²¡äº†ï¼Œä¸ªäººåŸŸåæˆ– xxx.github.io éƒ½è¿”å›404 ğŸ˜®â€ğŸ’¨&lt;/p>
&lt;p>å°è¯•ï¼šåœ¨ Cloudflare é‡ŒæŠŠ DNS ç±»å‹æ”¹æˆ A å’Œ CNAME&lt;/p>
&lt;!-- raw HTML omitted -->
&lt;p>è¿˜æ˜¯ä¸è¡Œï¼Œä¸€æ—¦ push å°±æ‰“å›åŸå½¢&lt;/p>
&lt;p>è§£å†³æ–¹æ³•ï¼šæŸ¥é˜…èµ„æ–™å‘ç°é—®é¢˜åœ¨äº æºç ä»“åº“ hugo-sources çš„Actions é…ç½®æ–‡ä»¶ï¼Œdeploy æ—¶ä¼šè‡ªåŠ¨è¦†ç›–CNAME ğŸ˜­ï¼Œæ‰€ä»¥åœ¨åŸé…ç½®æ–‡ä»¶æ·»åŠ ï¼š&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-yaml" data-lang="yaml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">cname&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">anodicseal.xyz&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>è§£å†³ï¼ğŸ‰ğŸ‰ğŸ‰&lt;/p>
&lt;h2 id="ç›¸å…³å‚è€ƒ">ç›¸å…³å‚è€ƒ&lt;/h2>
&lt;p>&lt;a class="link" href="https://oldtang.com/2420.html" target="_blank" rel="noopener"
>Dynadot ç½‘ç«™æ³¨å†Œè´¦æˆ·ã€è´­ä¹°åŸŸåã€æ”¯ä»˜å®ä»˜æ¬¾ã€è§£æåŸŸåæ•™ç¨‹&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
&lt;/p>
&lt;p>&lt;a class="link" href="https://www.bandwagonhost.net/5986.html" target="_blank" rel="noopener"
>ä½¿ç”¨ Cloudflare å…è´¹ DNS æœåŠ¡å™¨è§£æåŸŸååˆ°æ¬ç“¦å·¥ VPS ä¸»æœºå»ºç«™æ•™ç¨‹&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
&lt;/p>
&lt;p>&lt;a class="link" href="https://ruanyifeng.com/blog/2016/06/dns.html" target="_blank" rel="noopener"
>DNS åŸç†å…¥é—¨&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
&lt;/p>
&lt;p>&lt;a class="link" href="https://www.ruanyifeng.com/blog/2022/08/dns-query.html" target="_blank" rel="noopener"
>DNS æŸ¥è¯¢åŸç†è¯¦è§£&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
&lt;/p></description></item><item><title>Hugo | ç»™åšå®¢é…ç½®å›¾åºŠ</title><link>https://falasool.github.io/2022/picture-bed/</link><pubDate>Fri, 21 Oct 2022 23:29:38 +0800</pubDate><guid>https://falasool.github.io/2022/picture-bed/</guid><description>&lt;!-- raw HTML omitted -->
&lt;h2 id="å®‰è£…-picgo">å®‰è£… PicGo&lt;/h2>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">brew install picgo --cask
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="åˆ›å»º-github-å›¾åºŠä»“åº“">åˆ›å»º GitHub å›¾åºŠä»“åº“&lt;/h2>
&lt;p>åç§°æ— æ‰€è°“ï¼Œè®°å¾—å‹¾é€‰ README&lt;/p>
&lt;h2 id="ç”Ÿæˆä»¤ç‰Œtoken">ç”Ÿæˆä»¤ç‰Œï¼ˆTokenï¼‰&lt;/h2>
&lt;p>åœ¨ Account-Settings-Developer Settings-Personal Access Tokens ä¸‹ç”Ÿæˆï¼ˆå‹¾é€‰ repoï¼‰å¹¶ä¿å­˜&lt;/p>
&lt;h2 id="é…ç½®-picgo">é…ç½® PicGo&lt;/h2>
&lt;p>è‡ªå®šä¹‰åŸŸåæ˜¯ï¼š&lt;code>https://cdn.jsdelivr.net/gh/&amp;lt;githubç”¨æˆ·å&amp;gt;/&amp;lt;å›¾åºŠä»“åº“å&amp;gt;@&amp;lt;ä»“åº“ç‰ˆæœ¬å·&amp;gt;/&lt;/code>&lt;/p>
&lt;p>&lt;img src="https://cdn.jsdelivr.net/gh/Falasool/blog-pic-bed@main//blogimage-20230530234507042.png"
loading="lazy"
alt="image-20230530234507042"
>&lt;/p>
&lt;h3 id="æ’ä»¶">æ’ä»¶&lt;/h3>
&lt;p>Updateï¼šä½¿ç”¨å›¾ç‰‡å‹ç¼©æ’ä»¶ compress&lt;/p>
&lt;p>å‚è€ƒ PicGoæ’ä»¶å¼€å‘æŒ‡å—&lt;sup id="fnref:1">&lt;a href="#fn:1" class="footnote-ref" role="doc-noteref">1&lt;/a>&lt;/sup> å’Œ issue#2&lt;sup id="fnref:2">&lt;a href="#fn:2" class="footnote-ref" role="doc-noteref">2&lt;/a>&lt;/sup> å®‰è£…æ’ä»¶&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">&lt;span class="nb">cd&lt;/span> /Users/username/Library/Application&lt;span class="se">\ &lt;/span>Support/picgo/
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">brew install libtool automake autoconf nasm
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">npm cache clean --force
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># åˆ é™¤node_modulesæ–‡ä»¶å¤¹&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">npm install picgo-plugin-compress --save --ignore-scripts --registry&lt;span class="o">=&lt;/span>https://registry.npm.taobao.org
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">npm install --registry&lt;span class="o">=&lt;/span>https://registry.npm.taobao.org
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>é‡å¯ PicGoï¼Œåœ¨æ’ä»¶è®¾ç½®é‡Œç‚¹å‡»âš™ï¸ï¼Œé…ç½®plugin - picgo-plugin-compressï¼Œé€‰æ‹©å‹ç¼©æ–¹å¼&amp;ndash; imagemin&lt;/p>
&lt;p>æœ€åç‚¹å‡»âš™ï¸ï¼Œå¯ç”¨transformer-compress&lt;/p>
&lt;h2 id="æµ‹è¯•å›¾åºŠ">æµ‹è¯•å›¾åºŠ&lt;/h2>
&lt;p>&lt;img src="https://cdn.jsdelivr.net/gh/Falasool/blog-pic-bed@main//blog202305312359868.png"
loading="lazy"
alt="image-20230531235959820"
>&lt;/p>
&lt;p>è¿™å¼ å›¾ç‰‡ä½¿ç”¨compressæ’ä»¶ä¸Šä¼ ï¼š&lt;/p>
&lt;p>&lt;img src="https://cdn.jsdelivr.net/gh/Falasool/blog-pic-bed@main//blog202308021452438.png"
loading="lazy"
alt="image-20230802145252226"
>&lt;/p>
&lt;p>*****&lt;/p>
&lt;p>[å¯é€‰] æ‰‹åŠ¨ç”¨ &lt;a class="link" href="https://squoosh.app/" target="_blank" rel="noopener"
>Squoosh&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
æŠŠå›¾ç‰‡è½¬æ ¼å¼ï¼ˆwebpï¼‰å¹¶å‹ç¼©&lt;/p>
&lt;p>è®¾ç½®æˆåŠŸåç›´æ¥æŠŠå›¾ç‰‡æ”¾è¿› Typora å°±OK&lt;/p>
&lt;p>é”µé”µï½è¯·çœ‹ï¼ï¼&lt;img src="https://cdn.jsdelivr.net/gh/Falasool/blog-pic-bed@main//blogimage.webp"
loading="lazy"
alt="image"
>&lt;/p>
&lt;p>è¿›é˜¶ï¼š&lt;a class="link" href="https://zhuanlan.zhihu.com/p/626135137" target="_blank" rel="noopener"
>ä½¿ç”¨githubç§æœ‰ä»“åº“å’ŒCloudflare Workersæ­å»ºä¸ªäººå›¾åºŠ&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
ï¼Œä¼˜ç‚¹ï¼šåå‘ä»£ç†ä½œä¸ºå›¾åºŠçš„ä»“åº“ï¼Œå¼€å¯ç¼“å­˜é¿å…é‡å¤è¯·æ±‚&lt;/p>
&lt;h2 id="ç›¸å…³å‚è€ƒ">ç›¸å…³å‚è€ƒ&lt;/h2>
&lt;p>&lt;a class="link" href="https://picgo.github.io/PicGo-Doc/" target="_blank" rel="noopener"
>PicGo&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
&lt;/p>
&lt;p>&lt;a class="link" href="https://irithys.com/p/blog-write/" target="_blank" rel="noopener"
>æˆ‘å†™åšå®¢éƒ½ç”¨äº†å“ªäº›å·¥å…·ï¼Ÿ&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
&lt;/p>
&lt;div class="footnotes" role="doc-endnotes">
&lt;hr>
&lt;ol>
&lt;li id="fn:1">
&lt;p>&lt;a class="link" href="https://picgo.github.io/PicGo-Core-Doc/zh/dev-guide/deploy.html#gui%E6%8F%92%E4%BB%B6" target="_blank" rel="noopener"
>https://picgo.github.io/PicGo-Core-Doc/zh/dev-guide/deploy.html#gui%E6%8F%92%E4%BB%B6&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
&amp;#160;&lt;a href="#fnref:1" class="footnote-backref" role="doc-backlink">&amp;#x21a9;&amp;#xfe0e;&lt;/a>&lt;/p>
&lt;/li>
&lt;li id="fn:2">
&lt;p>&lt;a class="link" href="https://picgo.github.io/PicGo-Core-Doc/zh/dev-guide/deploy.html#gui%E6%8F%92%E4%BB%B6" target="_blank" rel="noopener"
>https://picgo.github.io/PicGo-Core-Doc/zh/dev-guide/deploy.html#gui%E6%8F%92%E4%BB%B6&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
&amp;#160;&lt;a href="#fnref:2" class="footnote-backref" role="doc-backlink">&amp;#x21a9;&amp;#xfe0e;&lt;/a>&lt;/p>
&lt;/li>
&lt;/ol>
&lt;/div></description></item><item><title>Hugo | ç»™åšå®¢æ·»åŠ è¯„è®ºç³»ç»Ÿ</title><link>https://falasool.github.io/2022/hugo-comment-system-disqusjs/</link><pubDate>Fri, 14 Oct 2022 19:12:42 +0800</pubDate><guid>https://falasool.github.io/2022/hugo-comment-system-disqusjs/</guid><description>&lt;!-- raw HTML omitted -->
&lt;p>Updateï¼šç”¨è¿‡ Catausã€Disqusï¼ŒCataus å’ŒåŒåä¸»é¢˜é…åˆèµ·æ¥å¾ˆå¯çˆ±ï¼Œç”¨äº†ä¸€æ®µæ—¶é—´ Disqus åå¯¹å®ƒçš„ UI ä¸å¤ªæ»¡æ„ï¼Œå†åŠ ä¸Šå¼ºåˆ¶ç™»å½•æ¯”è¾ƒæ¼äººï¼Œå°±æ¢æˆè±¡å‹æ¨èçš„ Twikoo è¯•è¯•&lt;/p>
&lt;h2 id="twikoo">Twikoo&lt;/h2>
&lt;h3 id="è®¾ç½®æ•°æ®åº“-mongodb">è®¾ç½®æ•°æ®åº“ MongoDB&lt;/h3>
&lt;p>æŒ‰ç…§ &lt;a class="link" href="https://twikoo.js.org/quick-start.html#%E5%91%BD%E4%BB%A4%E8%A1%8C%E9%83%A8%E7%BD%B2" target="_blank" rel="noopener"
>å®˜æ–¹æ–‡æ¡£&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
ï¼Œæˆ‘ç”¨çš„ Vercel éƒ¨ç½²&lt;/p>
&lt;p>åˆ›å»ºæ•°æ®åº“ï¼Œé€‰ Free æ–¹æ¡ˆï¼ŒåŒºåŸŸé€‰æ‹© &lt;code>AWS / N. Virginia (us-east-1)&lt;/code>ï¼Œè®¾ç½®å¹¶ä¿å­˜å¥½ç”¨æˆ·åå’Œå¯†ç &lt;/p>
&lt;p>åœ¨ &lt;code>Where would you like to connect from?&lt;/code> è¿™ä¸€æ­¥å¡« 0.0.0.0ï¼Œç„¶åç‚¹ &lt;code>Add Entry&lt;/code>ï¼Œæœ€åç¡®è®¤åˆ›å»ºæ•°æ®åº“&lt;/p>
&lt;p>è¿›å…¥æ•°æ®åº“ï¼Œconnect - Drivers - Node.jsï¼ŒæŠŠå®ä¾‹çš„ç”¨æˆ·åå’Œå¯†ç æ”¹æˆè‡ªå·±çš„ï¼Œä¾‹å¦‚ï¼š&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">mongodb+srv://twikoo:fhahflanclal3o2u0@cluster0.tke1htc.mongodb.net/?retryWrites=true&amp;amp;w=majority
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="vercel-éƒ¨ç½²">Vercel éƒ¨ç½²&lt;/h3>
&lt;p>æŒ‰ç…§æ–‡æ¡£çš„ä¸€é”®éƒ¨ç½²ï¼Œç­‰å¾…&amp;hellip;&lt;/p>
&lt;p>åœ¨æ§åˆ¶å° - settings - Environment Variablesï¼Œæ·»åŠ ç¯å¢ƒå˜é‡ &lt;code>MONGODB_URI&lt;/code>ï¼Œå€¼ä¸ºä¹‹å‰çš„æ•°æ®åº“è¿æ¥å­—ç¬¦ä¸²&lt;/p>
&lt;p>è¿›å…¥ Deployments , ç„¶ååœ¨ä»»æ„ä¸€é¡¹åé¢ç‚¹å‡»æ›´å¤šï¼ˆä¸‰ä¸ªç‚¹ï¼‰ , ç„¶åç‚¹å‡» Redeploy , æœ€åç‚¹å‡»ä¸‹é¢çš„ Redeploy&lt;/p>
&lt;p>è®¿é—® Vercel åˆ†é…çš„åŸŸåï¼Œå¦‚æœç¯å¢ƒé…ç½®æ­£ç¡®ï¼Œå¯ä»¥çœ‹åˆ° â€œTwikoo äº‘å‡½æ•°è¿è¡Œæ­£å¸¸â€ çš„æç¤º&lt;/p>
&lt;p>å› ä¸º vercel.app åŸŸåå·²ç»è¢«ä¸­å›½æ”¿åºœå±è”½ï¼Œå¤§é™†ç”¨æˆ·æ— æ³•è¯„è®ºã€‚ä¸è¿‡æ²¡å…³ç³»ï¼Œåœ¨ twikoo-api &amp;gt; settings &amp;gt; domains æ·»åŠ è‡ªå®šä¹‰åŸŸåå¯è§£å†³&lt;/p>
&lt;h3 id="é…ç½®åˆ°åšå®¢">é…ç½®åˆ°åšå®¢&lt;/h3>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-yaml" data-lang="yaml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">comments&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">enabled&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kc">true&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">provider&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">twikoo&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">twikoo&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">envId&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">&amp;lt;ä½ çš„åŸŸåæˆ–vercelåˆ†é…çš„åŸŸå&amp;gt;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>éƒ¨ç½²æˆåŠŸåç‚¹å³ä¸‹è§’ â†˜ï¸ çš„é½¿è½® âš™ï¸ å›¾æ ‡ï¼Œè®¾ç½®ç®¡ç†å¯†ç &lt;/p>
&lt;h3 id="æ›´æ–°">æ›´æ–°&lt;/h3>
&lt;p>ç®¡ç†é¡µé¢æç¤ºï¼šClient version: 1.5.11ï¼Œ Server version: 1.6.16ï¼Œ è¯·å‚è€ƒ &lt;a class="link" href="https://twikoo.js.org/quick-start.html#%e7%89%88%e6%9c%ac%e6%9b%b4%e6%96%b0" target="_blank" rel="noopener"
>ç‰ˆæœ¬æ›´æ–°&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
è¿›è¡Œå‡çº§&lt;/p>
&lt;p>åœ¨ twikoo.html é‡ŒæŠŠå¼•å…¥çš„ js æ–‡ä»¶ç‰ˆæœ¬ä¿®æ”¹åˆ° 1.6.16&lt;/p>
&lt;h3 id="è¿›é˜¶">è¿›é˜¶&lt;/h3>
&lt;ul>
&lt;li>å¤šä¸ªé¡µé¢å…±ç”¨è¯„è®ºåŒº&lt;/li>
&lt;/ul>
&lt;blockquote>
&lt;p>å‚è€ƒ &lt;a class="link" href="https://www.imaegoo.com/2021/twikoo-path/" target="_blank" rel="noopener"
>Twikoo å¤šä¸ªé¡µé¢å…±ç”¨ä¸€ä¸ªè¯„è®ºåŒº&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
å®ç° About &amp;amp;&amp;amp; Friends é¡µé¢å…±ç”¨è¯„è®ºåŒº&lt;/p>
&lt;/blockquote>
&lt;p>è®¾ç½®ä¸»é¢˜çš„ Twikoo path é…ç½®ä¸º&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-yaml" data-lang="yaml">&lt;span class="line">&lt;span class="cl">&lt;span class="c"># config.yaml&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">twikoo&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">path&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">window.TWIKOO_MAGIC_PATH||window.location.pathname&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>åœ¨ä¸¤ä¸ªé¡µé¢çš„ &lt;code>.md&lt;/code> æ­£æ–‡éƒ¨åˆ†æ·»åŠ  &lt;code>&amp;lt;script&amp;gt;window.TWIKOO_MAGIC_PATH=&amp;quot;xxx&amp;quot;&amp;lt;/script&amp;gt;&lt;/code>&lt;/p>
&lt;p>ç»æµ‹è¯•ç”Ÿæ•ˆ ğŸ‰&lt;/p>
&lt;h2 id="disqus">Disqus&lt;/h2>
&lt;p>é€‰æ‹© Disqus æ˜¯å› ä¸º Hugo å†…ç½®äº†å®ƒçš„æ¨¡æ¿ï¼ŒåŒæ—¶å®ƒå¯¹è¿ç§»çš„æ”¯æŒè¾ƒå¥½ï¼Œæœ¬èº«åŠŸèƒ½éå¸¸é½å…¨ï¼Œæ¯”è¾ƒé—æ†¾çš„æ˜¯ä» 2015 å¹´å¼€å§‹è¢«å¢™äº†&lt;/p>
&lt;p>å‚è€ƒ &lt;a class="link" href="https://gohugo.io/content-management/comments/" target="_blank" rel="noopener"
>å®˜æ–¹æ–‡æ¡£&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
&lt;/p>
&lt;h3 id="åŸºç¡€è®¾ç½®">åŸºç¡€è®¾ç½®&lt;/h3>
&lt;p>åœ¨ &lt;a class="link" href="https://disqus.com/" target="_blank" rel="noopener"
>Disqus&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
æ³¨å†Œå¹¶ç™»å½•è´¦å·ï¼Œæ·»åŠ ç«™ç‚¹ï¼ˆé€‰æ‹© I want to install Disqus on my siteï¼‰&lt;/p>
&lt;p>è¾“å…¥ä½ æƒ³è¦çš„ Website Nameï¼Œç”¨ä½œæ’å…¥ config æ–‡ä»¶çš„åå­—ï¼ŒåæœŸå¯ä»¥åœ¨ Disqus -&amp;gt; Setting -&amp;gt; General ä¸‹æŸ¥çœ‹å’Œä¿®æ”¹&lt;/p>
&lt;p>åœ¨ Configure Disqus for Your Site é¡µé¢è¾“å…¥ Website URLï¼Œè¦è¾“å…¥å®Œæ•´çš„åœ°å€ï¼Œæ¯”å¦‚å¦‚æœåƒæˆ‘ä¸€æ ·ä½¿ç”¨çš„æ˜¯ GitHub Pages ï¼Œå°±è¦åŠ ä¸Š &lt;code>https://&lt;/code> çš„åè®®åï¼›&lt;/p>
&lt;p>é€‰æ‹© Categoryï¼Œç‚¹å‡» Create Site å®Œæˆæ³¨å†Œ&lt;/p>
&lt;p>é€‰æ‹©æ–¹æ¡ˆï¼Œæˆ‘é€‰ free&lt;/p>
&lt;p>ç¼–è¾‘åšå®¢çš„é…ç½®æ–‡ä»¶ config.yamlï¼Œæ·»åŠ  disqusShortname è®¾ç½®&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl"># åœ¨ç¬¬ 23 è¡Œå·¦å³
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">disqusShortname: YOURSITENAME
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="å¯é€‰é¡¹">å¯é€‰é¡¹&lt;/h3>
&lt;h4 id="æ·»åŠ å¯ä¿¡åŸŸ">æ·»åŠ å¯ä¿¡åŸŸ&lt;/h4>
&lt;p>Disqus çš„ç«™ç‚¹åç§°æ˜¯å…¬å¼€çš„ï¼Œå¦‚æœè¦é˜²æ­¢è¢«åˆ«äººæ»¥ç”¨ï¼Œå¯ä»¥è¿›è¡ŒåŸŸåç»‘å®šï¼Œåªå…è®¸ä¿¡ä»»çš„åŸŸåä½¿ç”¨ä½ çš„è¯„è®º&lt;/p>
&lt;p>åœ¨ Disqus -&amp;gt; Site -&amp;gt; Advanced æ·»åŠ  Trusted Domains&lt;/p>
&lt;h4 id="ç‰¹å®šåšæ–‡å¼€å¯å…³é—­è¯„è®º">ç‰¹å®šåšæ–‡å¼€å¯/å…³é—­è¯„è®º&lt;/h4>
&lt;p>&lt;a class="link" href="https://lvv.me/posts/2019/12/10_hugo_disqus/" target="_blank" rel="noopener"
>https://lvv.me/posts/2019/12/10_hugo_disqus/&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
&lt;/p>
&lt;h2 id="ç›¸å…³å‚è€ƒ">ç›¸å…³å‚è€ƒ&lt;/h2>
&lt;p>&lt;!-- raw HTML omitted -->æ„Ÿè°¢å‰äººçš„è€•è€˜å’Œåˆ†äº«ï¼Œå¸Œæœ›æœ¬æ–‡ä¹Ÿèƒ½ç»™ä½ å¸¦æ¥ä¸€äº›å¸®åŠ© â¤ï¸&lt;!-- raw HTML omitted -->&lt;/p>
&lt;p>&lt;a class="link" href="https://thirdshire.com/post/twikoo-tutorial/" target="_blank" rel="noopener"
>åœ¨é™æ€åšå®¢é‡Œæ·»åŠ  Twikoo è¯„è®ºç³»ç»Ÿï¼Œå¹¶é…ç½®é‚®ç®±å’Œ TG é€šçŸ¥&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
&lt;/p>
&lt;p>&lt;a class="link" href="https://blog.fooleap.org/use-disqus-correctly.html" target="_blank" rel="noopener"
>ç§‘å­¦ä½¿ç”¨ Disqus&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
&lt;/p>
&lt;p>&lt;a class="link" href="https://juejin.cn/post/6844903905910849550" target="_blank" rel="noopener"
>Disqus è¯„è®ºæ¡†æ”¹é€ å·¥ç¨‹-å®ç° Disqus ä»£ç†çš„ Serverless æœåŠ¡&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
&lt;/p>
&lt;p>&lt;a class="link" href="https://blog.skk.moe/post/disqusjs/" target="_blank" rel="noopener"
>DisqusJS - ä¸€ä¸ªè¶…è½»é‡çº§çš„ DISQUSã€Œè¯„è®ºåŸºç¡€æ¨¡å¼ã€çš„å®ç°&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
&lt;/p>
&lt;p>&lt;a class="link" href="https://lvv.me/posts/2019/12/10_hugo_disqus/" target="_blank" rel="noopener"
>ç»™ Hugo å¼€å¯ Disqus è¯„è®ºç³»ç»Ÿ&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
&lt;/p></description></item><item><title>Hugo | Front Matter</title><link>https://falasool.github.io/2022/hugo-front-matter/</link><pubDate>Wed, 12 Oct 2022 20:08:18 +0800</pubDate><guid>https://falasool.github.io/2022/hugo-front-matter/</guid><description>&lt;h2 id="ä»€ä¹ˆæ˜¯-front-matter">ä»€ä¹ˆæ˜¯ Front Matter&lt;/h2>
&lt;p>æ˜¯æŒ‡ .md æ–‡ä»¶æœ€ä¸Šé¢çš„è¿™ä¸€éƒ¨åˆ†å†…å®¹&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">---
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">title: xxxxxx
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">date: 2022-10-10 09:39:50
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">type: tags
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">layout: tags=
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">---
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>æ¯æ¬¡æ‰§è¡Œ &lt;code>hugo new&lt;/code> å‘½ä»¤æ–°å»ºæ–‡ç« æ—¶ï¼ŒHugo ä¼šä» &lt;code>./archetypes&lt;/code> ä¸­å¯»æ‰¾å¯¹åº”çš„ Front Matter æ¨¡æ¿å¹¶è‡ªåŠ¨æ·»åŠ åˆ°æ–°å»ºæ–‡ä»¶çš„æœ€ä¸Šæ–¹&lt;/p>
&lt;p>Front Matter é‡Œçš„å‚æ•°å®šä¹‰äº†æ‰€åœ¨åšæ–‡çš„å¤–è§‚ã€åŠŸèƒ½&lt;/p>
&lt;h2 id="å¸¸ç”¨-front-matter-è®¾ç½®">å¸¸ç”¨ Front Matter è®¾ç½®&lt;/h2>
&lt;p>æ²¡æœ‰å…´è¶£å®¢åˆ¶åŒ–å¯ä»¥å¤åˆ¶ä»¥ä¸‹ä»£ç ï¼Œæ·»åŠ è¿› &lt;code>./archetypes/default.md&lt;/code> æ–‡ä»¶&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">---
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"># ä½¿ç”¨æ—¶éœ€åˆ é™¤æ³¨é‡Šå’Œç©ºè¡Œ
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"># åˆ›å»ºå’Œæ–‡ä»¶åç›¸åŒçš„æ–‡ç« æ ‡é¢˜
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">title: &amp;#34;{{ replace .Name &amp;#34;-&amp;#34; &amp;#34; &amp;#34; | title }}&amp;#34;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">description: &amp;#34;&amp;#34;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"># ä¼˜åŒ– URL
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">slug: &amp;#34;{{ replace .Name &amp;#34;-&amp;#34; &amp;#34; &amp;#34; | title }}&amp;#34;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">author: [&amp;#34;Rubberduck&amp;#34;]
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">type: post/draft/page
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">date: {{ .Date }}
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">draft: false
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"># éšæœºåŒ¹é…ä¸€å¼ å›¾ç‰‡
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">image: https://picsum.photos/seed/picsum/800/600.webp?random={{ substr (md5 (.Date)) 4 8 }}
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">categories: [&amp;#34;Tutorials&amp;#34;]
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">tags: [&amp;#34;Hugo&amp;#34;,&amp;#34;tech&amp;#34;]
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">keywords: [&amp;#34;tutorials&amp;#34;, &amp;#34;Hugo&amp;#34;, &amp;#34;mac&amp;#34;,&amp;#34;tech&amp;#34;]
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">metaAlignment: center
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">coverMeta: in/out
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">coverSize: partial
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">coverCaption: &amp;#34;æ–‡ç« coverå›¾ç‰‡æè¿°&amp;#34;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">isCJKLanguage: true
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">---
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>ä¸‹é¢å…·ä½“è¯´æ˜å„é¡¹å‚æ•°ï¼Œ&lt;/p>
&lt;h2 id="front-matter-å†…å®¹">Front Matter å†…å®¹&lt;/h2>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>å‚æ•°&lt;/th>
&lt;th>æè¿°&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>title&lt;/td>
&lt;td>æ ‡é¢˜ï¼Œé»˜è®¤ä¸æ–‡ä»¶åä¸€è‡´&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>date&lt;/td>
&lt;td>é»˜è®¤ä¸ºæ–‡ä»¶åˆ›å»ºæ—¥æœŸ&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>type&lt;/td>
&lt;td>æ–‡ç« ç±»åˆ«ï¼Œå¯é€‰post/page/draftç­‰ç­‰&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>slug&lt;/td>
&lt;td>æŒ‡å®šæ–‡ç« ç½‘å€&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>update&lt;/td>
&lt;td>æ–‡ä»¶æ›´æ–°æ—¥æœŸ&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>lastmod&lt;/td>
&lt;td>æ–‡ç« æœ€åæ›´æ–°æ—¥æœŸ&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>description&lt;/td>
&lt;td>æ–‡ç« æè¿°ï¼Œä¼šè¢«æŠ“å»åšSEOæ”¾åœ¨HTMLçš„headerä¸­&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>categories&lt;/td>
&lt;td>åˆ†ç±»ï¼ˆä¸é€‚ç”¨äºåˆ†é¡µï¼‰&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>tags&lt;/td>
&lt;td>æ ‡ç­¾ï¼ˆä¸é€‚ç”¨äºåˆ†é¡µï¼‰&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>hidden&lt;/td>
&lt;td>æ˜¯å¦éšè—æ–‡ç« ï¼Œå€¼ä¸º true æ—¶è¾“å…¥æ­£ç¡®ç½‘å€å°±å¯ä»¥æŸ¥çœ‹&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>draft&lt;/td>
&lt;td>æ˜¯å¦ä¸ºè‰ç¨¿ï¼Œå€¼ä¸º true æ—¶ Hugo ä¸ç¼–è¯‘è¿™ä¸ªæ–‡ä»¶&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>layout&lt;/td>
&lt;td>æŒ‡å®šæ–‡ç« ä½¿ç”¨çš„æ¨¡æ¿ï¼Œä¸æŒ‡å®šçš„è¯ä¼šä½¿ç”¨ æ ¹ç›®å½•/_config.toml ä¸­çš„é»˜è®¤é…ç½® default_layout:post&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>comments&lt;/td>
&lt;td>å¼€å¯æ–‡ç« è¯„è®ºåŠŸèƒ½ï¼Œé»˜è®¤ä¸º true&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>permalink&lt;/td>
&lt;td>è¦†ç›–æ–‡ç« ç½‘å€&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>coverImage&lt;/td>
&lt;td>è®¾ç½®æ–‡ç« å°é¢å›¾ç‰‡&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>metaAlignment&lt;/td>
&lt;td>è®¾ç½®æ–‡ç« titleçš„ä½ç½®&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>coverMeta&lt;/td>
&lt;td>æ–‡ç« titleæ”¾åœ¨å°é¢å›¾ç‰‡ä¸­å¤®è¿˜æ˜¯å¤–é¢&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>coverSize&lt;/td>
&lt;td>å°é¢å›¾ç‰‡å¤§å°&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;p>å¦‚æœéœ€è¦æ·»åŠ  Hugo åˆ›å»ºçš„ &lt;code>.md&lt;/code> æ–‡ä»¶çš„ Front Matter æ¨¡æ¿æ²¡æœ‰çš„å‚æ•°ï¼Œå¯ä»¥ç¼–è¾‘ archetypes æ–‡ä»¶å¤¹ä¸‹çš„ default.md æ–‡ä»¶&lt;/p>
&lt;p>æ›´å¤šè¯·å‚è€ƒå®˜æ–¹æ–‡æ¡£ &lt;a class="link" href="https://gohugo.io/content-management/front-matter/" target="_blank" rel="noopener"
>Hugoï½œFront Matter&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
&lt;/p>
&lt;h2 id="ç›¸å…³å‚è€ƒ">ç›¸å…³å‚è€ƒ&lt;/h2>
&lt;p>&lt;!-- raw HTML omitted -->æ„Ÿè°¢å‰äººçš„è€•è€˜å’Œåˆ†äº«ï¼Œå¸Œæœ›æœ¬æ–‡ä¹Ÿèƒ½ç»™ä½ å¸¦æ¥ä¸€äº›å¸®åŠ© â¤ï¸&lt;!-- raw HTML omitted -->&lt;/p>
&lt;p>&lt;a class="link" href="https://blog.genesu.me/2020/09/hugo-front-matter/" target="_blank" rel="noopener"
>è²¼èº«æ‰“é€ å€‹äººéƒ¨è½æ ¼ - 02. æ–‡ç«  Front Matter&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
&lt;/p>
&lt;p>&lt;a class="link" href="https://blog.gezi.men/p/hugo-theme-stack-configuration/" target="_blank" rel="noopener"
>Hugoä¹‹è·¯ 2 | hugo-theme-stack é…ç½®&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
â€”â€” å‚è€ƒäº†åŒ¹é…éšæœºå›¾ç‰‡çš„ä»£ç &lt;/p></description></item></channel></rss>
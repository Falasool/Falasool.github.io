<!doctype html><html><head lang=en><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><title>æ— éšœç¢åŒ– Accessibility - Falasool</title><link rel=icon type=image/png href=static/img/favicon.png><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="ä»€ä¹ˆæ˜¯ Accessibilityï¼Ÿ ä»¥ä»»ä½•æ–¹å¼è®¿é—®ç½‘ç»œçš„ç”¨æˆ·ï¼ˆç§»åŠ¨ç«¯ã€ç”µè§†ã€æ‰‹è¡¨&mldr;ï¼‰ï¼Œæ— è®ºå¬è§‰ã€è§†è§‰ã€èº«ä½“å’Œè®¤çŸ¥èƒ½åŠ›å¦‚ä½•ï¼ˆè§†éšœã€"><meta property="og:image" content><meta property="og:title" content="æ— éšœç¢åŒ– Accessibility"><meta property="og:description" content="ä»€ä¹ˆæ˜¯ Accessibilityï¼Ÿ ä»¥ä»»ä½•æ–¹å¼è®¿é—®ç½‘ç»œçš„ç”¨æˆ·ï¼ˆç§»åŠ¨ç«¯ã€ç”µè§†ã€æ‰‹è¡¨&mldr;ï¼‰ï¼Œæ— è®ºå¬è§‰ã€è§†è§‰ã€èº«ä½“å’Œè®¤çŸ¥èƒ½åŠ›å¦‚ä½•ï¼ˆè§†éšœã€"><meta property="og:type" content="article"><meta property="og:url" content="https://falasool.github.io/posts/a11y/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2024-03-21T20:28:27+08:00"><meta property="article:modified_time" content="2024-03-21T20:28:27+08:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="æ— éšœç¢åŒ– Accessibility"><meta name=twitter:description content="ä»€ä¹ˆæ˜¯ Accessibilityï¼Ÿ ä»¥ä»»ä½•æ–¹å¼è®¿é—®ç½‘ç»œçš„ç”¨æˆ·ï¼ˆç§»åŠ¨ç«¯ã€ç”µè§†ã€æ‰‹è¡¨&mldr;ï¼‰ï¼Œæ— è®ºå¬è§‰ã€è§†è§‰ã€èº«ä½“å’Œè®¤çŸ¥èƒ½åŠ›å¦‚ä½•ï¼ˆè§†éšœã€"><script src=https://falasool.github.io/js/feather.min.js></script>
<link href=https://falasool.github.io/css/fonts.4bacf4386d3f58fdc378d205a903311c80158bf414d25698589b658e0273156d.css rel=stylesheet><link rel=stylesheet type=text/css media=screen href=https://falasool.github.io/css/main.42ea0af34aee3ba499cf9fa3204f9c629e4d0c0434c099da10346cf97e22e0c6.css><link id=darkModeStyle rel=stylesheet type=text/css href=https://falasool.github.io/css/dark.726cd11ca6eb7c4f7d48eb420354f814e5c1b94281aaf8fd0511c1319f7f78a4.css media="(prefers-color-scheme: dark)"></head><body><div class=content><header><div class=main><a href=https://falasool.github.io/>Falasool</a></div><nav><a href=/friends/></a>
<a href=/about>About</a>
<a href=/friends>Friends</a>
<a href=/tags>Tags</a></nav></header><main><article><div class=title><h1 class=title>æ— éšœç¢åŒ– Accessibility</h1><div class=meta>Posted on Mar 21, 2024</div></div><section class=body><p>ä»€ä¹ˆæ˜¯ Accessibilityï¼Ÿ</p><ul><li>ä»¥ä»»ä½•æ–¹å¼è®¿é—®ç½‘ç»œçš„ç”¨æˆ·ï¼ˆç§»åŠ¨ç«¯ã€ç”µè§†ã€æ‰‹è¡¨&mldr;ï¼‰ï¼Œæ— è®ºå¬è§‰ã€è§†è§‰ã€èº«ä½“å’Œè®¤çŸ¥èƒ½åŠ›å¦‚ä½•ï¼ˆè§†éšœã€å¬éšœã€è¿åŠ¨åŠŸèƒ½éšœç¢&mldr;ï¼‰ï¼Œåº”ç”¨ç¨‹åºéƒ½æ˜¯å¯ä»¥ç†è§£å’Œä½¿ç”¨çš„</li><li>ç½‘ç«™ä¸åº”è¯¥é€ æˆä¼¤å®³ï¼ˆè¯±å‘å…‰æ•æ€§ç™«ç—«ç­‰ï¼‰</li></ul><p>å¯ä»¥ä»ä»€ä¹ˆæ–¹é¢ä½œå‡ºåŠªåŠ›ï¼Ÿ</p><h2 id=html>HTML</h2><p>è¯­ä¹‰åŒ–ç»“æ„</p><ol><li><code>&lt;button> vs &lt;div></code></li></ol><p>æä¾›äº†é»˜è®¤æ ·å¼ã€æä¾›äº†é”®ç›˜çš„æ— éšœç¢ï¼ˆtab é”®æ›´æ¢æŒ‰é’®ã€enter é”®ç‚¹å‡»æŒ‰é’®ï¼‰</p><ol start=2><li><code>&lt;h1> &lt;h2> &lt;p> vs &lt;font> &lt;br> &lt;hr> &lt;i></code></li></ol><p>ä¾¿äºå±å¹•é˜…è¯»å™¨è¯†åˆ«æ ‡é¢˜å’Œæ®µè½ç»“æ„ ğŸ†š æ²¡æœ‰ä»»ä½•å¯å®šä½çš„æ ‡è®°çš„ä¸€å¤§å¨</p><ol start=3><li>æ›¿ä»£æ–‡æœ¬</li></ol><ul><li><p><code>alt=""</code> å±æ€§ï¼ŒåŒ…å«å¯¹å›¾åƒçš„æè¿°ï¼Œå‘æ— æ³•çœ‹åˆ°/å¬åˆ°æŸäº›å†…å®¹çš„ç”¨æˆ·ä¼ è¾¾å…¶å«ä¹‰å’Œå†…å®¹ã€‚å¦‚æœ alt ä¸ºç©ºï¼Œè¡¨ç¤ºè¯¥å›¾åƒåªç”¨äºè£…é¥°ï¼ˆæˆ– <code>role =â€œpresentationâ€</code> é˜»æ­¢è¾…åŠ©è®¾å¤‡è¯»å‡ºæ›¿ä»£æ–‡æœ¬ï¼‰</p></li><li><p><code>title</code> å±æ€§ï¼Œå±å¹•é˜…è¯»å™¨ä¹Ÿä¼šè¯»å‡º title çš„å†…å®¹</p></li><li><p><code>&lt;track></code> å…ƒç´ å‘è§†é¢‘/éŸ³é¢‘æ·»åŠ æ–‡æœ¬è½¨é“</p></li></ul><ol start=4><li>æä¾›å…ƒç´ ä¹‹é—´çš„è”ç³»å’Œä¸Šä¸‹æ–‡ï¼Œä¾‹å¦‚ <code>&lt;label for="">&lt;input></code></li></ol><h3 id=wai-aria-å±æ€§>WAI-ARIA å±æ€§</h3><p>å½“åŸç”Ÿ HTML å…ƒç´ æ— æ³•æ»¡è¶³éœ€æ±‚æ—¶ï¼Œè€ƒè™‘ ARIAï¼ˆAccessible Rich Internet Applicationsï¼‰å±æ€§ï¼Œå¸®åŠ©è§£è¯»ç½‘é¡µç»“æ„å’Œäº¤äº’æ–¹å¼</p><ul><li>aria-hiddenï¼šè¡¨ç¤ºæ˜¯å¦å¯¹è¾…åŠ©æŠ€æœ¯éšè—è¯¥å…ƒç´ </li><li>roleï¼šåˆ¶å®šå…ƒç´ çš„è§’è‰²</li><li>aria-labelledbyï¼šçˆ¶èŠ‚ç‚¹è®¾ç½®ï¼Œä¼šé“¾æ¥åˆ°å¯¹åº” id çš„å…ƒç´ ï¼Œæ–¹ä¾¿æŠŠåˆ†æ•£åœ¨å¤šä¸ª DOMï¼Œé€»è¾‘ä¸Šå±äºä¸€ä¸ªæ•´ä½“çš„å†…å®¹æ‰“åŒ…é˜…è¯»</li></ul><h2 id=css>CSS</h2><p>è¦ç¡®ä¿æ—  css çš„æƒ…å†µä¸‹ï¼Œå†…å®¹å¯è¯»ï¼Œé¡ºåºæœ‰æ„ä¹‰</p><h3 id=é¢œè‰²åŠå¯¹æ¯”åº¦>é¢œè‰²åŠå¯¹æ¯”åº¦</h3><p>WebAIM çš„ <a href=https://webaim.org/resources/contrastchecker/>Color Contrast Checker</a> ä¹‹ç±»çš„å·¥å…·æ¥æ£€æŸ¥æ–¹æ¡ˆæ˜¯å¦æœ‰è¶³å¤Ÿå¯¹æ¯”åº¦</p><h3 id=éšè—çš„å†…å®¹>éšè—çš„å†…å®¹</h3><p><code>position: absolute</code> å¥½äº <code>visibility: hidden; display: none;</code> ï¼Œå‰è€…ä¸é˜»æ­¢å±å¹•é˜…è¯»å™¨è¯»å–è¢«éšè—çš„å†…å®¹</p><h2 id=javascript>JavaScript</h2><p>ç»“æ„äº¤ç»™ HTMLï¼Œå°½é‡ä¸ä½¿ç”¨ JS é…åˆ <code>&lt;div></code> ä¼ªé€ åŠŸèƒ½ï¼ˆunobtrusive åŸåˆ™ï¼‰</p><h3 id=ç„¦ç‚¹ç®¡ç†>ç„¦ç‚¹ç®¡ç†</h3><p>ç›¸æ¯”è¾ƒ<code>&lt;button>&lt;a></code> è¿™æ ·è‡ªå¸¦è¯­ä¹‰çš„å…ƒç´ ï¼Œ<code>&lt;div></code> ä¸èƒ½ç”¨<code>.foucs()</code> ï¼Œéœ€è¦é…åˆ<code>tabindex="-1"</code> å±æ€§ï¼Œå’Œ<code>.pop:focus-visible {outline: 0}</code></p><ol><li>åœºæ™¯æ˜¯ç°åœ¨å¾ˆå¸¸è§çš„å•é¡µé¢é‡Œï¼Œè¿›è¡Œè·¯ç”±åˆ‡æ¢/ajax æ›´æ”¹å†…å®¹æ—¶ï¼Œè¿›è¡Œç„¦ç‚¹é‡ç½®ï¼Œè®©è¾…åŠ©é˜…è¯»è®¾å¤‡é‡å¤´å¼€å§‹è¯»ï¼Œæ–¹ä¾¿è§†éšœäººå£«</li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-diff data-lang=diff><span style=display:flex><span>&lt;nav&gt;
</span></span><span style=display:flex><span>  &lt;a href=&#34;/&#34;&gt;Home&lt;/a&gt;
</span></span><span style=display:flex><span>  &lt;a href=&#34;/goods&#34;&gt;goods&lt;/a&gt;
</span></span><span style=display:flex><span>  &lt;a href=&#34;/user&#34;&gt;user&lt;/a&gt;
</span></span><span style=display:flex><span>&lt;/nav&gt;
</span></span><span style=display:flex><span>&lt;main&gt;
</span></span><span style=display:flex><span><span style=color:#a6e22e>+   // tabindex=&#34;-1&#34;ï¼Œå…ƒç´ å¯èšç„¦ï¼Œä¸å¯é€šè¿‡é”®ç›˜å¯¼èˆªè®¿é—®
</span></span></span><span style=display:flex><span><span style=color:#a6e22e>+	&lt;h2 tabindex=&#34;-1&#34;&gt;å•†åŸ&lt;/h2&gt;
</span></span></span><span style=display:flex><span><span style=color:#a6e22e></span>    &lt;Link /&gt;
</span></span><span style=display:flex><span>&lt;/main&gt;
</span></span><span style=display:flex><span><span style=color:#a6e22e>+ &lt;script&gt;
</span></span></span><span style=display:flex><span><span style=color:#a6e22e>+    function routerChange() {
</span></span></span><span style=display:flex><span><span style=color:#a6e22e>+        const heading = document.querySelector(&#39;h2&#39;)
</span></span></span><span style=display:flex><span><span style=color:#a6e22e>+        heading.focus()
</span></span></span><span style=display:flex><span><span style=color:#a6e22e>+        document.title = heading.textContent
</span></span></span><span style=display:flex><span><span style=color:#a6e22e>+   }
</span></span></span><span style=display:flex><span><span style=color:#a6e22e>+ &lt;/script&gt;
</span></span></span></code></pre></div><ol start=2><li>Dialog é…åˆ A11y</li></ol><p>éœ€æ±‚ï¼šå¼¹çª—æ‰“å¼€æ—¶èšç„¦äºå¼¹çª—ä¸Šï¼Œé™åˆ¶å¯¹é¡µé¢å…¶ä»–å…ƒç´ çš„è®¿é—®ï¼Œé€€å‡ºå¼¹çª—æ—¶ç„¦ç‚¹é€€å›åˆ°ä¹‹å‰çš„ä½ç½®</p><p>ç»™å¼¹çª—å¢åŠ  aria å±æ€§</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html><span style=display:flex><span>&lt;<span style=color:#f92672>section</span> 
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>id</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;alert-dialog&#34;</span> 
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>role</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;dialog&#34;</span> 
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>aria-modal</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;true&#34;</span> 
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>aria-label</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;home-dialog&#34;</span> 
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>tanindex</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;-1&#34;</span>
</span></span><span style=display:flex><span>  &gt;
</span></span><span style=display:flex><span>  &lt;<span style=color:#f92672>h2</span>&gt;TITLE&lt;/<span style=color:#f92672>h2</span>&gt;
</span></span><span style=display:flex><span>  ...
</span></span><span style=display:flex><span>  &lt;<span style=color:#f92672>button</span>&gt;&lt;/<span style=color:#f92672>button</span>&gt;
</span></span><span style=display:flex><span>&lt;/<span style=color:#f92672>section</span>&gt;
</span></span></code></pre></div><p>è½¬ç§»ç„¦ç‚¹</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>showSelfAlert</span>() {
</span></span><span style=display:flex><span>    <span style=color:#75715e>// è·å–ç›®æ ‡å…ƒç´ 
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>var</span> <span style=color:#a6e22e>mask</span> <span style=color:#f92672>=</span> document.<span style=color:#a6e22e>querySelector</span>(<span style=color:#e6db74>&#39;.mask&#39;</span>);
</span></span><span style=display:flex><span>    <span style=color:#75715e>// æ˜¾ç¤ºå¼¹çª—
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#a6e22e>mask</span>.<span style=color:#a6e22e>style</span>.<span style=color:#a6e22e>display</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;block&#39;</span>; 
</span></span><span style=display:flex><span>    <span style=color:#75715e>// ç­‰å¾…DOMæ›´æ–°ï¼Œåœ¨ä¸‹ä¸€ä¸ªäº‹ä»¶å¾ªç¯æ—¶
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#a6e22e>setTimeout</span>(<span style=color:#66d9ef>function</span>() {
</span></span><span style=display:flex><span>        <span style=color:#75715e>// è®¾ç½®ç„¦ç‚¹åˆ°é®ç½©å±‚æˆ–å¼¹çª—çš„å…ƒç´ ä¸Š
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        <span style=color:#66d9ef>var</span> <span style=color:#a6e22e>dialog</span> <span style=color:#f92672>=</span> document.<span style=color:#a6e22e>getElementById</span>(<span style=color:#e6db74>&#39;aria-mask-dialog&#39;</span>);
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span>(<span style=color:#a6e22e>dialog</span>) {
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>dialog</span>.<span style=color:#a6e22e>focus</span>();
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    }, <span style=color:#ae81ff>0</span>); 
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>&lt;</span><span style=color:#a6e22e>section</span> <span style=color:#a6e22e>aria</span><span style=color:#f92672>-</span><span style=color:#a6e22e>live</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;polite&#34;</span><span style=color:#f92672>&gt;&lt;</span><span style=color:#960050;background-color:#1e0010>/section&gt;</span>
</span></span><span style=display:flex><span><span style=color:#75715e>// aria-live é»˜è®¤å±æ€§ä¸ºoffï¼Œ
</span></span></span><span style=display:flex><span><span style=color:#75715e>// polite åœ¨ç³»ç»Ÿç©ºé—²æ—¶æœ—è¯»
</span></span></span><span style=display:flex><span><span style=color:#75715e>// assertive ç«‹åˆ»é˜…è¯»
</span></span></span></code></pre></div><p>é™åˆ¶ç„¦ç‚¹</p><ul><li>ä½¿ç”¨ event capturing ç›‘å¬ focus äº‹ä»¶ï¼Œå¤„ç†é˜¶æ®µï¼šæ•è·-ç›®æ ‡-å†’æ³¡</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span>document.<span style=color:#a6e22e>addEventListener</span>(<span style=color:#e6db74>&#39;focus&#39;</span>, <span style=color:#66d9ef>function</span>(<span style=color:#a6e22e>event</span>){
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>dialog</span> <span style=color:#f92672>=</span> document.<span style=color:#a6e22e>getElementById</span>(<span style=color:#e6db74>&#39;dialog&#39;</span>);
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>if</span>(<span style=color:#a6e22e>dialogOpen</span> <span style=color:#f92672>&amp;&amp;</span> <span style=color:#f92672>!</span><span style=color:#a6e22e>dialog</span>.<span style=color:#a6e22e>contains</span>(<span style=color:#a6e22e>event</span>.<span style=color:#a6e22e>target</span>)){
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>event</span>.<span style=color:#a6e22e>stopPropagation</span>();
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>dialog</span>.<span style=color:#a6e22e>focus</span>();
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>})
</span></span></code></pre></div><p>æ‰“å¼€å¼¹çª—å‰è®°å½•æœ€åä¸€ä¸ªç„¦ç‚¹å…ƒç´ ï¼Œç»“æŸåæŠŠç„¦ç‚¹æŒ‚å›å»</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#75715e>// è·å–å½“å‰èšç„¦çš„å…ƒç´ 
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>lastFouceElement</span> <span style=color:#f92672>=</span> document.<span style=color:#a6e22e>activeElement</span>;
</span></span><span style=display:flex><span><span style=color:#75715e>// close dialog
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#a6e22e>lastFouceElement</span>.<span style=color:#a6e22e>focus</span>()
</span></span></code></pre></div><h2 id=å‚è€ƒè‡´è°¢>å‚è€ƒ&è‡´è°¢</h2><p><a href=https://developer.mozilla.org/zh-CN/docs/Learn/Accessibility>https://developer.mozilla.org/zh-CN/docs/Learn/Accessibility</a></p><p><a href=https://juejin.cn/post/7133617403748941861>Webå¦‚ä½•é€‚é…æ— éšœç¢ï¼Ÿ</a></p></section><div class=post-tags><nav class="nav tags"><ul class=tags><li><a href=/tags/a11y>A11y</a></li></ul></nav></div></article></main><footer><div style=display:flex><a class=soc href=https://github.com/falasool/ rel=me title=GitHub><i data-feather=github></i></a></div><div class=footer-info>2024 Â© Falaool | Built with <a href=https://gohugo.io>Hugo</a> & Theme <a href=https://github.com/athul/archie>Archie</a> design by Athul</div></footer><script>feather.replace()</script></div></body></html>
<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Frontend on Falasool</title><link>https://falasool.github.io/categories/frontend/</link><description>Recent content in Frontend on Falasool</description><generator>Hugo -- gohugo.io</generator><lastBuildDate>Tue, 02 Apr 2024 19:41:35 +0800</lastBuildDate><atom:link href="https://falasool.github.io/categories/frontend/index.xml" rel="self" type="application/rss+xml"/><item><title>JS|åŸå‹é“¾çš„ç†è§£</title><link>https://falasool.github.io/2024/prototype-chain/</link><pubDate>Tue, 02 Apr 2024 19:41:35 +0800</pubDate><guid>https://falasool.github.io/2024/prototype-chain/</guid><description>&lt;img src="https://cdn.jsdelivr.net/gh/Falasool/blog-pic-bed@main/blog202404101944461.jpg" alt="Featured image of post JS|åŸå‹é“¾çš„ç†è§£" />&lt;p>&lt;img src="https://cdn.jsdelivr.net/gh/Falasool/blog-pic-bed@main/blog202404101944461.jpg"
loading="lazy"
alt="951712748932_.pic_hd"
>&lt;/p>
&lt;p>å…ˆä¸Šå›¾&lt;/p>
&lt;h2 id="ä¸€äº›æ¦‚å¿µ">ä¸€äº›æ¦‚å¿µ&lt;/h2>
&lt;p>JS ä¸­ä¸‡ç‰©çš†å¯¹è±¡ï¼Œåˆ†ä¸ºæ™®é€šå¯¹è±¡å’Œå‡½æ•°å¯¹è±¡ã€‚&lt;/p>
&lt;p>æ¯ä¸ªå¯¹è±¡éƒ½æœ‰ä¸€ä¸ªç§æœ‰å±æ€§ &lt;code>[[Prototype]]&lt;/code> ï¼Œç§æœ‰å±æ€§æŒ‡å‘åŸå‹ prototypeï¼Œç”±äºåŸå‹ prototype ä¹Ÿæ˜¯å¯¹è±¡ï¼Œå®ƒä¼šé‡å¤è¿™ä¸€å¾ªç¯å±‚å±‚å‘ä¸Šï¼Œç›´åˆ°ä¸€ä¸ªå¯¹è±¡çš„åŸå‹ä¸º null&lt;/p>
&lt;p>&lt;code>__proto__&lt;/code> æ˜¯ &lt;code>[[Prototype]]&lt;/code> çš„ getter/setter&lt;/p>
&lt;p>&lt;code>__proto__&lt;/code> çš„ value å¿…é¡»æ˜¯å¯¹è±¡/null&lt;/p>
&lt;p>åŸå‹é“¾ä¸èƒ½å½¢æˆé—­ç¯&lt;/p>
&lt;h2 id="æ™®é€šçš„åŸå‹é“¾">æ™®é€šçš„åŸå‹é“¾&lt;/h2>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="kr">const&lt;/span> &lt;span class="nx">p&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="nx">Parent&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>æˆ‘å£°æ˜äº†ä¸€ä¸ªå¯¹è±¡ pï¼Œpä½œä¸ºParentçš„å®ä¾‹ï¼Œèƒ½æ‹¿åˆ°Parenté‡Œé¢„å…ˆå®šä¹‰çš„å±æ€§å’Œæ–¹æ³•ï¼Œè¿™å°±æ˜¯&lt;!-- raw HTML omitted -->ç»§æ‰¿&lt;!-- raw HTML omitted -->&lt;/p>
&lt;p>&lt;code>p.__proto__ === Parent.prototype&lt;/code> ï¼Œ&lt;code>__proto__&lt;/code> åƒæŒ‡é’ˆï¼ŒæŒ‡å‘å®ä¾‹ç»§æ‰¿çš„å±æ€§&amp;amp;æ–¹æ³•&lt;/p>
&lt;p>&lt;code>Parent.prototype.constructor === Parent&lt;/code>ï¼Œ&lt;code>Parent.prototype&lt;/code>æœ¬èº«æ˜¯Parent çš„ä¸€ä¸ªå®ä¾‹ï¼Œåè¿‡æ¥è¯´ï¼Œ &lt;code>Parent.prototype&lt;/code>çš„æ„é€ å™¨æ˜¯Parent&lt;/p>
&lt;p>å›¾ä¸­çš„è™šçº¿ï¼Œp =====&amp;gt; Parentï¼Œå› ä¸º&lt;code>p.constructor&lt;/code>å®é™…ä¸Šæ˜¯ä»&lt;code>Parent.prototype&lt;/code>ç»§æ‰¿æ¥çš„â¬†ï¸&lt;/p>
&lt;h2 id="jsä¸­çš„function-å’Œ-object">JSä¸­çš„Function å’Œ Object&lt;/h2>
&lt;p>è®¾è®¡æ€æƒ³ï¼šé«˜å†…èšã€ä½è€¦åˆ&lt;/p>
&lt;ul>
&lt;li>
&lt;p>Functionçš„constructoræ˜¯Functionï¼Œæ‰€ä»¥&lt;code>Function.__proto__&lt;/code> æŒ‡å‘ &lt;code>Function.prototype&lt;/code>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Objectçš„constructoræ˜¯Function&lt;/p>
&lt;/li>
&lt;/ul>
&lt;p>ç›˜å¤å¼€å¤©åœ°ï¼šå…ˆæœ‰ &lt;code>Object.prototype&lt;/code> ï¼Œå†æœ‰ &lt;code>Function.prototype&lt;/code> ï¼Œå†æœ‰ Function å’ŒObject&lt;/p>
&lt;blockquote>
&lt;p>å½“æˆ‘ä»¬è¯´ä¸€ä¸ªå¯¹è±¡ç»§æ‰¿è‡ªæŸä¸ª Constructor æ—¶ï¼Œå…¶å®æˆ‘ä»¬æ˜¯åœ¨è¯´ï¼Œä»è¿™ä¸ªå¯¹è±¡çš„åŸå‹é“¾ä¸Šæ‰¾åˆ°äº† Constructor.prototypeã€‚&lt;/p>
&lt;p>æ‰€ä»¥ï¼ŒObject.prototype å¯ä»¥å…ˆäº Object å‡ºç°ï¼Œç„¶åç”¨è¿™ä¸ª prototype æ„é€ å‡º Function.prototypeï¼Œæœ‰äº† Function.prototype å†æ„é€ å‡º Function ï¼Œ Object è¿™å‡ ä¸ªæ„é€ å™¨ã€‚ç„¶åæŠŠ Object.prototype æŒ‚åˆ° Object ä¸Šï¼ŒFunction.prototype æŒ‚åˆ°Function ä¸Šã€‚&lt;/p>
&lt;p>å¥½æ¯”æ —å­ä¸­çš„ obj æ„é€ è‡ª p ï¼Œè€Œ obj æ„é€ å‡ºæ¥ä¹‹åï¼Œp æ‰æŒ‚åˆ° A ä¸Šï¼Œæˆ‘ä»¬è¯´ obj æ˜¯ A ç±»å‹çš„ï¼Œä½†æ˜¯ obj æ˜¯ç”¨ A.prototype(å°±æ˜¯ p ) æ„é€ å‡ºæ¥çš„ã€‚&lt;/p>
&lt;p>åˆ†æå¯å¾—ï¼šå…¨å±€ä¸‹çš„ Object æ„é€ è‡ª Function.prototypeï¼Œ Function.prototype æ„é€ è‡ª Object.prototypeã€‚&lt;/p>
&lt;/blockquote>
&lt;h2 id="è”ç³»">è”ç³»&lt;/h2>
&lt;p>&lt;code>instanceof&lt;/code> çš„åŸç†ï¼šåŸå‹é“¾ï¼ˆéå†ç›®æ ‡çš„åŸå‹é“¾ï¼Œç›´åˆ°æ‰¾åˆ°å³è¾¹å˜é‡çš„ prototypeï¼‰&lt;/p>
&lt;p>ç‰¹æ®Šæƒ…å†µï¼š&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nb">Function&lt;/span> &lt;span class="k">instanceof&lt;/span> &lt;span class="nb">Object&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="c1">// true
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">console&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">log&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nb">Object&lt;/span> &lt;span class="k">instanceof&lt;/span> &lt;span class="nb">Function&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="c1">// true
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Objectçš„æ„é€ å™¨æ˜¯Functionï¼ŒåŒæ—¶JSä¸­ä¸‡ç‰©çš†å¯¹è±¡ğŸ’¦&lt;/p>
&lt;h2 id="å‚è€ƒ--è‡´è°¢">å‚è€ƒ &amp;amp; è‡´è°¢&lt;/h2>
&lt;p>&lt;a class="link" href="https://segmentfault.com/a/1190000021232132" target="_blank" rel="noopener"
>https://segmentfault.com/a/1190000021232132&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
&lt;a class="link" href="https://zhuanlan.zhihu.com/p/84876191" target="_blank" rel="noopener"
>https://zhuanlan.zhihu.com/p/84876191&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
&lt;a class="link" href="https://juejin.cn/post/7057544558057357348" target="_blank" rel="noopener"
>https://juejin.cn/post/7057544558057357348&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
&lt;/p></description></item><item><title>æ— éšœç¢åŒ– Accessibility</title><link>https://falasool.github.io/2024/a11y/</link><pubDate>Thu, 21 Mar 2024 20:28:27 +0800</pubDate><guid>https://falasool.github.io/2024/a11y/</guid><description>&lt;p>ä»€ä¹ˆæ˜¯ Accessibilityï¼Ÿ&lt;/p>
&lt;ul>
&lt;li>ä»¥ä»»ä½•æ–¹å¼è®¿é—®ç½‘ç»œçš„ç”¨æˆ·ï¼ˆç§»åŠ¨ç«¯ã€ç”µè§†ã€æ‰‹è¡¨&amp;hellip;ï¼‰ï¼Œæ— è®ºå¬è§‰ã€è§†è§‰ã€èº«ä½“å’Œè®¤çŸ¥èƒ½åŠ›å¦‚ä½•ï¼ˆè§†éšœã€å¬éšœã€è¿åŠ¨åŠŸèƒ½éšœç¢&amp;hellip;ï¼‰ï¼Œåº”ç”¨ç¨‹åºéƒ½æ˜¯å¯ä»¥ç†è§£å’Œä½¿ç”¨çš„&lt;/li>
&lt;li>ç½‘ç«™ä¸åº”è¯¥é€ æˆä¼¤å®³ï¼ˆè¯±å‘å…‰æ•æ€§ç™«ç—«ç­‰ï¼‰&lt;/li>
&lt;/ul>
&lt;p>å¯ä»¥ä»ä»€ä¹ˆæ–¹é¢ä½œå‡ºåŠªåŠ›ï¼Ÿ&lt;/p>
&lt;h2 id="html">HTML&lt;/h2>
&lt;p>è¯­ä¹‰åŒ–ç»“æ„&lt;/p>
&lt;ol>
&lt;li>&lt;code>&amp;lt;button&amp;gt; vs &amp;lt;div&amp;gt;&lt;/code>&lt;/li>
&lt;/ol>
&lt;p>æä¾›äº†é»˜è®¤æ ·å¼ã€æä¾›äº†é”®ç›˜çš„æ— éšœç¢ï¼ˆtab é”®æ›´æ¢æŒ‰é’®ã€enter é”®ç‚¹å‡»æŒ‰é’®ï¼‰&lt;/p>
&lt;ol start="2">
&lt;li>&lt;code>&amp;lt;h1&amp;gt; &amp;lt;h2&amp;gt; &amp;lt;p&amp;gt; vs &amp;lt;font&amp;gt; &amp;lt;br&amp;gt; &amp;lt;hr&amp;gt; &amp;lt;i&amp;gt;&lt;/code>&lt;/li>
&lt;/ol>
&lt;p>ä¾¿äºå±å¹•é˜…è¯»å™¨è¯†åˆ«æ ‡é¢˜å’Œæ®µè½ç»“æ„ ğŸ†š æ²¡æœ‰ä»»ä½•å¯å®šä½çš„æ ‡è®°çš„ä¸€å¤§å¨&lt;/p>
&lt;ol start="3">
&lt;li>æ›¿ä»£æ–‡æœ¬&lt;/li>
&lt;/ol>
&lt;ul>
&lt;li>
&lt;p>&lt;code>alt=&amp;quot;&amp;quot;&lt;/code> å±æ€§ï¼ŒåŒ…å«å¯¹å›¾åƒçš„æè¿°ï¼Œå‘æ— æ³•çœ‹åˆ°/å¬åˆ°æŸäº›å†…å®¹çš„ç”¨æˆ·ä¼ è¾¾å…¶å«ä¹‰å’Œå†…å®¹ã€‚å¦‚æœ alt ä¸ºç©ºï¼Œè¡¨ç¤ºè¯¥å›¾åƒåªç”¨äºè£…é¥°ï¼ˆæˆ– &lt;code>role =â€œpresentationâ€&lt;/code> é˜»æ­¢è¾…åŠ©è®¾å¤‡è¯»å‡ºæ›¿ä»£æ–‡æœ¬ï¼‰&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;code>title&lt;/code> å±æ€§ï¼Œå±å¹•é˜…è¯»å™¨ä¹Ÿä¼šè¯»å‡º title çš„å†…å®¹&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;code>&amp;lt;track&amp;gt;&lt;/code> å…ƒç´ å‘è§†é¢‘/éŸ³é¢‘æ·»åŠ æ–‡æœ¬è½¨é“&lt;/p>
&lt;/li>
&lt;/ul>
&lt;ol start="4">
&lt;li>æä¾›å…ƒç´ ä¹‹é—´çš„è”ç³»å’Œä¸Šä¸‹æ–‡ï¼Œä¾‹å¦‚ &lt;code>&amp;lt;label for=&amp;quot;&amp;quot;&amp;gt;&amp;lt;input&amp;gt;&lt;/code>&lt;/li>
&lt;/ol>
&lt;h3 id="wai-aria-å±æ€§">WAI-ARIA å±æ€§&lt;/h3>
&lt;p>å½“åŸç”Ÿ HTML å…ƒç´ æ— æ³•æ»¡è¶³éœ€æ±‚æ—¶ï¼Œè€ƒè™‘ ARIAï¼ˆAccessible Rich Internet Applicationsï¼‰å±æ€§ï¼Œå¸®åŠ©è§£è¯»ç½‘é¡µç»“æ„å’Œäº¤äº’æ–¹å¼&lt;/p>
&lt;ul>
&lt;li>aria-hiddenï¼šè¡¨ç¤ºæ˜¯å¦å¯¹è¾…åŠ©æŠ€æœ¯éšè—è¯¥å…ƒç´ &lt;/li>
&lt;li>roleï¼šåˆ¶å®šå…ƒç´ çš„è§’è‰²&lt;/li>
&lt;li>aria-labelledbyï¼šçˆ¶èŠ‚ç‚¹è®¾ç½®ï¼Œä¼šé“¾æ¥åˆ°å¯¹åº” id çš„å…ƒç´ ï¼Œæ–¹ä¾¿æŠŠåˆ†æ•£åœ¨å¤šä¸ª DOMï¼Œé€»è¾‘ä¸Šå±äºä¸€ä¸ªæ•´ä½“çš„å†…å®¹æ‰“åŒ…é˜…è¯»&lt;/li>
&lt;/ul>
&lt;h2 id="css">CSS&lt;/h2>
&lt;p>è¦ç¡®ä¿æ—  css çš„æƒ…å†µä¸‹ï¼Œå†…å®¹å¯è¯»ï¼Œé¡ºåºæœ‰æ„ä¹‰&lt;/p>
&lt;h3 id="é¢œè‰²åŠå¯¹æ¯”åº¦">é¢œè‰²åŠå¯¹æ¯”åº¦&lt;/h3>
&lt;p>WebAIM çš„ &lt;a class="link" href="https://webaim.org/resources/contrastchecker/" target="_blank" rel="noopener"
>Color Contrast Checker&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
ä¹‹ç±»çš„å·¥å…·æ¥æ£€æŸ¥æ–¹æ¡ˆæ˜¯å¦æœ‰è¶³å¤Ÿå¯¹æ¯”åº¦&lt;/p>
&lt;h3 id="éšè—çš„å†…å®¹">éšè—çš„å†…å®¹&lt;/h3>
&lt;p>&lt;code>position: absolute&lt;/code> å¥½äº &lt;code>visibility: hidden; display: none;&lt;/code> ï¼Œå‰è€…ä¸é˜»æ­¢å±å¹•é˜…è¯»å™¨è¯»å–è¢«éšè—çš„å†…å®¹&lt;/p>
&lt;h2 id="javascript">JavaScript&lt;/h2>
&lt;p>ç»“æ„äº¤ç»™ HTMLï¼Œå°½é‡ä¸ä½¿ç”¨ JS é…åˆ &lt;code>&amp;lt;div&amp;gt;&lt;/code> ä¼ªé€ åŠŸèƒ½ï¼ˆunobtrusive åŸåˆ™ï¼‰&lt;/p>
&lt;h3 id="ç„¦ç‚¹ç®¡ç†">ç„¦ç‚¹ç®¡ç†&lt;/h3>
&lt;p>ç›¸æ¯”è¾ƒ&lt;code>&amp;lt;button&amp;gt;&amp;lt;a&amp;gt;&lt;/code> è¿™æ ·è‡ªå¸¦è¯­ä¹‰çš„å…ƒç´ ï¼Œ&lt;code>&amp;lt;div&amp;gt;&lt;/code> ä¸èƒ½ç”¨&lt;code>.foucs()&lt;/code> ï¼Œéœ€è¦é…åˆ&lt;code>tabindex=&amp;quot;-1&amp;quot;&lt;/code> å±æ€§ï¼Œå’Œ&lt;code>.pop:focus-visible {outline: 0}&lt;/code>&lt;/p>
&lt;ol>
&lt;li>åœºæ™¯æ˜¯ç°åœ¨å¾ˆå¸¸è§çš„å•é¡µé¢é‡Œï¼Œè¿›è¡Œè·¯ç”±åˆ‡æ¢/ajax æ›´æ”¹å†…å®¹æ—¶ï¼Œè¿›è¡Œç„¦ç‚¹é‡ç½®ï¼Œè®©è¾…åŠ©é˜…è¯»è®¾å¤‡é‡å¤´å¼€å§‹è¯»ï¼Œæ–¹ä¾¿è§†éšœäººå£«&lt;/li>
&lt;/ol>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-diff" data-lang="diff">&lt;span class="line">&lt;span class="cl">&amp;lt;nav&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;lt;a href=&amp;#34;/&amp;#34;&amp;gt;Home&amp;lt;/a&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;lt;a href=&amp;#34;/goods&amp;#34;&amp;gt;goods&amp;lt;/a&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;lt;a href=&amp;#34;/user&amp;#34;&amp;gt;user&amp;lt;/a&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&amp;lt;/nav&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&amp;lt;main&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="gi">+ // tabindex=&amp;#34;-1&amp;#34;ï¼Œå…ƒç´ å¯èšç„¦ï¼Œä¸å¯é€šè¿‡é”®ç›˜å¯¼èˆªè®¿é—®
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="gi">+ &amp;lt;h2 tabindex=&amp;#34;-1&amp;#34;&amp;gt;å•†åŸ&amp;lt;/h2&amp;gt;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="gi">&lt;/span> &amp;lt;Link /&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&amp;lt;/main&amp;gt;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="gi">+ &amp;lt;script&amp;gt;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="gi">+ function routerChange() {
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="gi">+ const heading = document.querySelector(&amp;#39;h2&amp;#39;)
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="gi">+ heading.focus()
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="gi">+ document.title = heading.textContent
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="gi">+ }
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="gi">+ &amp;lt;/script&amp;gt;
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;ol start="2">
&lt;li>Dialog é…åˆ A11y&lt;/li>
&lt;/ol>
&lt;p>éœ€æ±‚ï¼šå¼¹çª—æ‰“å¼€æ—¶èšç„¦äºå¼¹çª—ä¸Šï¼Œé™åˆ¶å¯¹é¡µé¢å…¶ä»–å…ƒç´ çš„è®¿é—®ï¼Œé€€å‡ºå¼¹çª—æ—¶ç„¦ç‚¹é€€å›åˆ°ä¹‹å‰çš„ä½ç½®&lt;/p>
&lt;p>ç»™å¼¹çª—å¢åŠ  aria å±æ€§&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-html" data-lang="html">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">section&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">id&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;alert-dialog&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">role&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;dialog&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">aria-modal&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;true&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">aria-label&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;home-dialog&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="na">tanindex&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;-1&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">h2&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>TITLE&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">h2&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> ...
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">button&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;/&lt;/span>&lt;span class="nt">button&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">section&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>è½¬ç§»ç„¦ç‚¹&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">function&lt;/span> &lt;span class="nx">showSelfAlert&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// è·å–ç›®æ ‡å…ƒç´ 
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="kd">var&lt;/span> &lt;span class="nx">mask&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nb">document&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">querySelector&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;.mask&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// æ˜¾ç¤ºå¼¹çª—
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">mask&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">style&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">display&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s1">&amp;#39;block&amp;#39;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ç­‰å¾…DOMæ›´æ–°ï¼Œåœ¨ä¸‹ä¸€ä¸ªäº‹ä»¶å¾ªç¯æ—¶
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">setTimeout&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kd">function&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// è®¾ç½®ç„¦ç‚¹åˆ°é®ç½©å±‚æˆ–å¼¹çª—çš„å…ƒç´ ä¸Š
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="kd">var&lt;/span> &lt;span class="nx">dialog&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nb">document&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">getElementById&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;aria-mask-dialog&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">dialog&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">dialog&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">focus&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="nx">section&lt;/span> &lt;span class="nx">aria&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="nx">live&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;polite&amp;#34;&lt;/span>&lt;span class="o">&amp;gt;&amp;lt;&lt;/span>&lt;span class="err">/section&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// aria-live é»˜è®¤å±æ€§ä¸ºoffï¼Œ
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// polite åœ¨ç³»ç»Ÿç©ºé—²æ—¶æœ—è¯»
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// assertive ç«‹åˆ»é˜…è¯»
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>é™åˆ¶ç„¦ç‚¹&lt;/p>
&lt;ul>
&lt;li>ä½¿ç”¨ event capturing ç›‘å¬ focus äº‹ä»¶ï¼Œå¤„ç†é˜¶æ®µï¼šæ•è·-ç›®æ ‡-å†’æ³¡&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="nb">document&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">addEventListener&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;focus&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kd">function&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">event&lt;/span>&lt;span class="p">){&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">dialog&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nb">document&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">getElementById&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;dialog&amp;#39;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">dialogOpen&lt;/span> &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> &lt;span class="o">!&lt;/span>&lt;span class="nx">dialog&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">contains&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">event&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">target&lt;/span>&lt;span class="p">)){&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">event&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">stopPropagation&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">dialog&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">focus&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>æ‰“å¼€å¼¹çª—å‰è®°å½•æœ€åä¸€ä¸ªç„¦ç‚¹å…ƒç´ ï¼Œç»“æŸåæŠŠç„¦ç‚¹æŒ‚å›å»&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// è·å–å½“å‰èšç„¦çš„å…ƒç´ 
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="kd">let&lt;/span> &lt;span class="nx">lastFouceElement&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nb">document&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">activeElement&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// close dialog
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">lastFouceElement&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">focus&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="å‚è€ƒè‡´è°¢">å‚è€ƒ&amp;amp;è‡´è°¢&lt;/h2>
&lt;p>&lt;a class="link" href="https://developer.mozilla.org/zh-CN/docs/Learn/Accessibility" target="_blank" rel="noopener"
>https://developer.mozilla.org/zh-CN/docs/Learn/Accessibility&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
&lt;/p>
&lt;p>&lt;a class="link" href="https://juejin.cn/post/7133617403748941861" target="_blank" rel="noopener"
>Webå¦‚ä½•é€‚é…æ— éšœç¢ï¼Ÿ&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
&lt;/p></description></item><item><title>Html5|æ–°ç‰¹æ€§PushState</title><link>https://falasool.github.io/2024/html5-pushstate/</link><pubDate>Tue, 12 Mar 2024 19:39:03 +0800</pubDate><guid>https://falasool.github.io/2024/html5-pushstate/</guid><description>&lt;h2 id="history">History&lt;/h2>
&lt;p>&lt;code>history.pushState()&lt;/code> æ˜¯ä»€ä¹ˆï¼Ÿç®€å•æ¥è¯´ï¼Œæ˜¯ç›®å‰æµè§ˆå™¨å·²ç»æ™®éæ”¯æŒçš„ä¸€ç§æ·»åŠ æµè§ˆå†å²è®°å½•çš„æ–¹æ³•ã€‚&lt;/p>
&lt;p>é¦–å…ˆï¼Œè®©æˆ‘ä»¬æ¥çœ‹çœ‹ &lt;code>history&lt;/code> å¯¹è±¡ï¼Œå®ƒä¿å­˜äº†å½“å‰çª—å£è®¿é—®è¿‡çš„æ‰€æœ‰é¡µé¢ç½‘å€&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// Console
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="o">&amp;gt;&lt;/span> &lt;span class="nx">history&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">History&lt;/span> &lt;span class="p">{&lt;/span>&lt;span class="nx">length&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="mi">3&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">scrollRestoration&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="s1">&amp;#39;auto&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">state&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="kc">null&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">pushState&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">Æ’&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">replaceState&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nx">Æ’&lt;/span>&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>length &amp;amp; go/forward/back&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="nb">window&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">history&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">length&lt;/span> &lt;span class="c1">// 3ï¼Œå½“å‰çª—å£è®¿é—®è¿‡ä¸‰ä¸ªåœ°å€ï¼ˆåŒ…æ‹¬å½“å‰åœ°å€ï¼‰
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">// æµè§ˆå™¨çš„å‰è¿›/åé€€æŒ‰é’®çš„å®é™…æ“ä½œï¼ˆä»browser cacheä¸­åŠ è½½ï¼‰ï¼Œä»¥ä¸‹ä¸¤è€…ç­‰åŒ
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">history&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">back&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="c1">// history.go(-1)
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">history&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">forward&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="c1">// history.go(1)
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="nx">history&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">go&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="c1">// default ä¸º 0ï¼Œåˆ·æ–°å½“å‰é¡µé¢
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>scrollRestoration&lt;/p>
&lt;p>æ»šåŠ¨æ¢å¤è¡Œä¸ºï¼šauto/manual æ¢å¤åˆ°ç”¨æˆ·ä¹‹å‰æ»šåŠ¨åˆ°çš„åœ°æ–¹/ä¸ç®¡ï¼ˆ&lt;/p>
&lt;h3 id="pushstate">pushState&lt;/h3>
&lt;p>å‘å†å²ä¸­æ·»åŠ ä¸€æ¡è®°å½•ï¼ˆstateå¯¹è±¡ï¼Œæ–°é¡µé¢æ ‡é¢˜ï¼Œæ–°çš„åœ°å€ï¼‰&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="nb">window&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">history&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">pushState&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">state&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">title&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">url&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>å‚æ•°ï¼š&lt;/p>
&lt;ul>
&lt;li>stateï¼špopstateäº‹ä»¶è§¦å‘æ—¶ï¼ˆbackã€goã€forwardå‰è¿›åé€€ä¼šè§¦å‘ï¼‰ï¼Œstateå¯¹è±¡ä¼šä¼ å…¥å›è°ƒå‚æ•°ï¼Œé‚£ä¹ˆpopstateçš„å±æ€§stateå°±ä¼šåŒ…å«å½“å‰å†å²è®°å½•çš„stateå¯¹è±¡çš„ä¸€ä¸ªcopyï¼Œå‚¨å­˜åœ¨ç£ç›˜é‡Œï¼Œå½“æµè§ˆå™¨é‡å¯æ—¶å¯ä»¥æ¢å¤ï¼ˆ&amp;lt; 16MiBï¼‰ï¼Œæ›´å¤šç©ºé—´çš„è¯å»ºè®®ä½¿ç”¨ sessionStorage / localStorage&lt;/li>
&lt;li>titleï¼šæ–°ç½‘å€title&lt;/li>
&lt;li>urlï¼šæ–°ç½‘å€url&lt;/li>
&lt;/ul>
&lt;p>ğŸ™‹ é‚£æˆ‘ä¸ºä»€ä¹ˆç”¨ pushStateä¸ç”¨ &lt;code>window.location = '#foo'&lt;/code>å‘¢ï¼Ÿ&lt;/p>
&lt;p>pushStateçš„ä¼˜ç‚¹ï¼š&lt;/p>
&lt;ul>
&lt;li>
&lt;p>è·³è½¬åé¡µé¢ä¸ä¼šå‘èµ·æ–°çš„æ–‡æ¡£è¯·æ±‚&lt;/p>
&lt;/li>
&lt;li>
&lt;p>æ–°URLå¯ä»¥æ˜¯å’Œå½“å‰URLåŒæº(è·¨åŸŸæŠ¥é”™ï¼‰çš„ä»»æ„URLï¼Œæµè§ˆå™¨æ·»åŠ historyè®°å½•ä½†æ˜¯å¹¶ä¸çœŸçš„åŠ è½½ï¼Œä¹Ÿå°±æ˜¯è¯´å‡çš„ä¹Ÿæ²¡äº‹&lt;/p>
&lt;/li>
&lt;li>
&lt;p>pushçš„å†å²è®°å½•å¯ä»¥å…³è”ä»»æ„æ•°æ®ï¼ŒåŸºäºhashå€¼çš„è¯ï¼Œå¿…é¡»å°†ç›¸å…³æ•°æ®ç¼–ç åˆ°ä¸€ä¸ªçŸ­å­—ç¬¦ä¸²é‡Œ&lt;/p>
&lt;/li>
&lt;/ul>
&lt;p>ç­‰ç­‰ï¼Œ&lt;code>popstate&lt;/code> äº‹ä»¶èƒ½è®²è®²å—ï¼Ÿ&lt;/p>
&lt;h3 id="popstateäº‹ä»¶">popstateäº‹ä»¶&lt;/h3>
&lt;p>å¤„äºæ¿€æ´»çŠ¶æ€çš„å†å²è®°å½•æ¡ç›®å‘ç”Ÿå˜åŒ–æ—¶ï¼ˆè°ƒç”¨go/forward/backï¼‰ï¼Œpopstateå°±ä¼šåœ¨å¯¹åº”çš„windowå¯¹è±¡ä¸Šè§¦å‘ã€‚popstateçš„å¯¹è°ƒå‡½æ•°çš„å‚æ•°event.stateæŒ‡å‘pushStateçš„state&lt;/p>
&lt;p>if è¿™ä¸ªå†å²è®°å½•æ˜¯ç”¨ &lt;code>pushState&lt;/code> æˆ–&lt;code>replaceState&lt;/code> æ“ä½œè¿‡çš„ï¼Œä¸ä¼šè§¦å‘popstateäº‹ä»¶&lt;/p>
&lt;p>â­ï¸ åº”ç”¨ï¼šç”¨æˆ·è¦ç¦»å¼€å½“å‰é¡µé¢æ—¶popupåšäºŒæ¬¡ç¡®è®¤ï¼ˆbeforeunloadï¼‰&lt;/p>
&lt;p>ç›‘å¬ popstateäº‹ä»¶ï¼Œä¸€æ—¦è¢«è§¦å‘ï¼Œæ·»åŠ 1æ¡è®°å½•&lt;code>history.pushState(null, null, document.URL)&lt;/code> ç•™åœ¨å½“å‰é¡µé¢&lt;/p>
&lt;blockquote>
&lt;p>å½“popstateè¢«è§¦å‘æ—¶ï¼Œè®°å½•å·²ç»å›é€€äº†ã€‚åœ¨å›é€€ä¹‹å‰å†æ·»åŠ ä¸€æ¡å½“å‰urlçš„è®°å½•ï¼Œä»¥ä¿è¯å›é€€åurlä¸å˜&lt;/p>
&lt;/blockquote>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">history&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">pushState&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kc">null&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kc">null&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;/a&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">window&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">addEventListener&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;popstate&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">alert&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;æ‚¨ç¡®è®¤è¦ç¦»å¼€å—ï¼Ÿ&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">history&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">pushState&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kc">null&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kc">null&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nb">document&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">URL&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>â­ï¸ åº”ç”¨ï¼šç”¨æˆ·æƒ³ä»Aé¡µé¢è¿›å…¥ä¸€ä¸ªæ— æƒé™æŸ¥çœ‹çš„åœ°å€Bï¼Œè®©ç”¨æˆ·è·³è½¬åˆ°error.html Cï¼Œç”¨æˆ·è¿”å›æ—¶ç›´æ¥ä»C-&amp;gt;A&lt;/p>
&lt;p>åœ¨Bå‘Cè·³è½¬æ—¶ï¼Œä½¿ç”¨&lt;code>history.replace&lt;/code> æŠŠBæ›¿æ¢ä¸ºCï¼Œè¿™æ ·è®°å½•å°±ä»A-B-Cå˜æˆï¼ŒA-Cã€‚åœ¨Cé¡µé¢backç›´æ¥å›åˆ°A&lt;/p>
&lt;h3 id="windowlocation">window.location&lt;/h3>
&lt;p>&lt;a class="link" href="https://www.w3schools.com/js/js_window_location.asp" target="_blank" rel="noopener"
>https://www.w3schools.com/js/js_window_location.asp&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
&lt;/p>
&lt;h3 id="replacestate">replaceState&lt;/h3>
&lt;p>ä¿®æ”¹å½“å‰çš„å†å²è®°å½•é¡¹&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="nb">window&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">history&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">replaceState&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">state&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">title&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">url&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>ğŸ‰ é†‹æ¥äº†ï¼š&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="nx">html&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">&amp;lt;&lt;/span>&lt;span class="nx">head&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">&amp;lt;&lt;/span>&lt;span class="nx">title&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>&lt;span class="nx">wait&lt;/span> &lt;span class="mi">10&lt;/span> &lt;span class="nx">sec&lt;/span> &lt;span class="nx">and&lt;/span> &lt;span class="nx">BOOM&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="err">/title&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">&amp;lt;&lt;/span>&lt;span class="err">/head&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">&amp;lt;&lt;/span>&lt;span class="nx">body&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">&amp;lt;&lt;/span>&lt;span class="nx">h1&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>&lt;span class="err">ğŸš€&lt;/span>&lt;span class="nx">æŠ“ç´§&lt;/span>&lt;span class="err">ï¼Œ&lt;/span>&lt;span class="nx">è¦ä¸Šå¤©äº†&lt;/span>&lt;span class="err">ï¼ğŸš€&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="err">/h1&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">&amp;lt;&lt;/span>&lt;span class="nx">script&lt;/span>&lt;span class="o">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">var&lt;/span> &lt;span class="nx">total&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">for&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="kd">var&lt;/span> &lt;span class="nx">i&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="nx">i&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="mi">1000000&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="nx">i&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">total&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">total&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="nx">i&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">toString&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">history&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">pushState&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="nx">total&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">&amp;lt;&lt;/span>&lt;span class="err">/script&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">&amp;lt;&lt;/span>&lt;span class="err">/body&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="err">/html&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>å‘ä½ çš„æµè§ˆå™¨å†å²é‡Œå¡è¿› 1000000 æ¡è®°å½•ğŸ˜‚ ï¼ˆé›¾&lt;/p>
&lt;p>è¿™æ®µä»£ç æ¥è‡ª &lt;a class="link" href="https://twitter.com/fatih_svml/status/689070600653041664" target="_blank" rel="noopener"
>Fatih Sevimli&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
&lt;/p>
&lt;p>æ¥éƒ½æ¥äº†å¤ä¹ ä¸€ä¸‹ï¼š&lt;/p>
&lt;h2 id="sessionstorage-vs-localstorage">sessionStorage vs localStorage&lt;/h2>
&lt;p>while data in localStorage doesn&amp;rsquo;t expire, data in sessionStorage is cleared when the page session ends.&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>ğŸªcookie&lt;/th>
&lt;th>session&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>å‚¨å­˜åœ¨å®¢æˆ·ç«¯&lt;/td>
&lt;td>æœåŠ¡å™¨ç«¯&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>ASCII&lt;/td>
&lt;td>ä»»æ„&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>å®æ•ˆé•¿&lt;/td>
&lt;td>çŸ­&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>4k&lt;/td>
&lt;td>é«˜&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;p>&lt;a class="link" href="https://www.cnblogs.com/ityouknow/p/10856177.html" target="_blank" rel="noopener"
>ä½ çœŸçš„äº†è§£cookieå’Œsessionå—&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
&lt;/p>
&lt;h2 id="å‚è€ƒ--è‡´è°¢">å‚è€ƒ &amp;amp; è‡´è°¢&lt;/h2>
&lt;p>&lt;a class="link" href="https://javascript.ruanyifeng.com/bom/history.html" target="_blank" rel="noopener"
>https://javascript.ruanyifeng.com/bom/history.html&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
&lt;/p>
&lt;p>&lt;a class="link" href="https://juejin.cn/post/6948746074504986655" target="_blank" rel="noopener"
>[é«˜çº§]æ·±å…¥æµ…å‡ºæµè§ˆå™¨çš„historyå¯¹è±¡&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
&lt;/p></description></item><item><title>Vue | Note | Monster Slayer Game</title><link>https://falasool.github.io/2023/vuejs-monster-slayer/</link><pubDate>Thu, 31 Aug 2023 15:25:38 +0800</pubDate><guid>https://falasool.github.io/2023/vuejs-monster-slayer/</guid><description>&lt;ul>
&lt;li>&lt;a class="link" href="https://monster-slayer.ponder.lol/" target="_blank" rel="noopener"
>Live Deploy&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
&lt;/li>
&lt;li>&lt;a class="link" href="https://github.com/Falasool/vuejs-monster-slayer" target="_blank" rel="noopener"
>Github ä»“åº“&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
&lt;/li>
&lt;/ul>
&lt;h2 id="å†™é™æ€é¡µé¢">å†™é™æ€é¡µé¢&lt;/h2>
&lt;p>&lt;img src="https://cdn.jsdelivr.net/gh/Falasool/blog-pic-bed@main//blog202308290007098.webp"
loading="lazy"
alt="image"
>&lt;/p>
&lt;h2 id="å®ç°åŠŸèƒ½">å®ç°åŠŸèƒ½&lt;/h2>
&lt;h3 id="ç‚¹å‡»-attack-æ€ªå…½è¡€é‡ä¸‹é™éšæœºæ•°å€¼">ç‚¹å‡» ATTACK æ€ªå…½è¡€é‡ä¸‹é™éšæœºæ•°å€¼&lt;/h3>
&lt;p>â­ï¸ æœ€å…³é”®çš„ï¼šéšæœºæ•°å€¼ã€‚
æ‰€ä»¥ &lt;code>Math.floor(Math.random() * (15 - 10) + 10)&lt;/code>ï¼Œå³ã€ç”Ÿæˆ [10,15) èŒƒå›´å†…çš„éšæœºæµ®ç‚¹æ•°å¹¶å‘ä¸‹å–æ•´ã€ã€‚å› ä¸ºæœ‰å¥½å‡ ç§ç±»å‹çš„æ”»å‡»éƒ½è¦ç”¨åˆ°è¿™ä¸ªæ–¹æ³•ï¼Œæ‰€ä»¥æŠŠå®ƒæå‡ºæ¥:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">function&lt;/span> &lt;span class="nx">getRandomValue&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">n&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">m&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nb">Math&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">floor&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nb">Math&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">random&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="o">*&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">m&lt;/span> &lt;span class="o">-&lt;/span> &lt;span class="nx">n&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="nx">n&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>â­ï¸ è®¾å®šåˆå§‹å¥åº·å€¼ monsterHealth ä¸º 100&lt;/p>
&lt;p>â­ï¸ ç»‘å®šç‚¹å‡»äº‹ä»¶ &lt;code>@click=â€œattackMonsterâ€&lt;/code>ï¼Œæ¯æ¬¡ç‚¹å‡»æ‘‡å‡ºä¸€ä¸ªéšæœºä¼¤å®³å€¼&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">attackMonster&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">attackValue&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">getRandomValue&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">5&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">12&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">monsterHealth&lt;/span> &lt;span class="o">-=&lt;/span> &lt;span class="nx">attackValue&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>â­ï¸ ç»™ health process åŠ¨æ€ç»‘å®šå±æ€§ &lt;code>:style=&amp;quot;monsterBarStyle&amp;quot;&lt;/code>ï¼Œå†™è®¡ç®—å±æ€§ monsterBarStyle&lt;/p>
&lt;p>â­ï¸ æ³¨æ„ï¼š1ï¸âƒ£this2ï¸âƒ£ æ¨¡æ¿å­—ç¬¦ä¸²,å¯ä»¥å†…åµŒå˜é‡å’Œè¡¨è¾¾å¼ 3ï¸âƒ£${damage} æ˜¯æ¨¡æ¿å­—ç¬¦ä¸²ä¸­åµŒå…¥çš„ä¸€ä¸ªå˜é‡ 4ï¸âƒ£scaleX() æ˜¯ CSS transform çš„ä¸€ä¸ªæ–¹æ³•,ç”¨äºç¼©æ”¾å…ƒç´ çš„å®½åº¦&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">monsterBarStyle&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">damage&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">monsterHealth&lt;/span> &lt;span class="o">/&lt;/span> &lt;span class="mi">100&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">transform&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="sb">`scaleX(&lt;/span>&lt;span class="si">${&lt;/span>&lt;span class="nx">damage&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="sb">)`&lt;/span> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="æ”»å‡»æ€ªå…½åè¢«åå‡»">æ”»å‡»æ€ªå…½åè¢«åå‡»&lt;/h3>
&lt;p>â­ï¸ ã€æ”»å‡»é™è¡€æ¡ã€çš„é€»è¾‘ä¸€æ ·ã€‚åœ¨ attackMonster() é‡Œè°ƒç”¨ attackKnight()&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">attackMonster&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// â€¦â€¦â€¦â€¦â€¦â€¦ //
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="c1">// æ€ªå…½åå‡»
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">attackKnight&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="ç‰¹æ®Šæ”»å‡»">ç‰¹æ®Šæ”»å‡»&lt;/h3>
&lt;p>â­ï¸ æ¯ä¸‰æ¬¡æ™®é€šæ”»å‡»/æ²»ç–—æ”’å¤Ÿä¸€ä¸ªè“æ¡ï¼Œè¿™æ—¶ special attack æ‰èƒ½ç”¨ã€‚å…¶å®ƒæ—¶é—´æŒ‰æ‰­ç°è‰²ä¸èµ·ä½œç”¨ ==&amp;gt; ç”¨ css ä¼ªç±» &lt;code>:disabled&lt;/code> å®ç°&lt;/p>
&lt;p>â­ï¸ æ¯æ¬¡è°ƒç”¨æ™®æ”»å’Œæ²»ç–—æ—¶ currentRound + 1ï¼ˆdefault = 0ï¼‰ï¼Œå½“ currentRound ç§¯ç´¯åˆ° 3 æ—¶ &lt;code>:disabled&lt;/code> å¤±æ•ˆ&lt;/p>
&lt;p>â­ï¸ è®¾ç½®ä¸€ä¸ª computedï¼Œç”¨äºæ§åˆ¶ &lt;code>:disabled&lt;/code>ï¼Œæ”’å¤Ÿè“æ¡ä½†ä¸ç”¨å¤§æ‹›ä¹Ÿæ²¡å…³ç³», btn ä¼šä¿æŒ active&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">mayUseSpecialAttack&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">currentRound&lt;/span> &lt;span class="o">/&lt;/span> &lt;span class="mi">3&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="mi">1&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>â­ï¸ é€šè¿‡ v-bind åŠ¨æ€ç»‘å®šç»™ btn: &lt;code>ï¼šstyle=&amp;quot;mayUseSpecialAttack&amp;quot;&lt;/code>&lt;/p>
&lt;p>â­ï¸ ä½¿ç”¨å¤§æ‹›åè“æ¡æ¸…ç©ºé‡æ–°å¼€å§‹è®¡æ•°&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">specialAttackMonster&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">event&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">...&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1">// ä½¿ç”¨å¤§æ‹›åè“æ¡æ¸…ç©ºï¼Œé‡æ–°ç§¯ç´¯
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">event&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">target&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">style&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">disabled&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kc">true&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">currentRound&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">0&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="ç‚¹å‡»-heal-æ²»ç–—è‡ªå·±éšæœºæ•°å€¼æ€ªå…½å‘èµ·æ”»å‡»">ç‚¹å‡» HEAL æ²»ç–—è‡ªå·±éšæœºæ•°å€¼ï¼Œæ€ªå…½å‘èµ·æ”»å‡»&lt;/h3>
&lt;p>â­ï¸ å’Œæ™®é€šæ”»å‡»çš„é€»è¾‘ä¸€è‡´ï¼Œåªä¸è¿‡å˜æˆ +=&lt;/p>
&lt;p>â­ï¸ knightHealth ä¸èƒ½è¶…è¿‡ä¸Šé™ 100&lt;/p>
&lt;h3 id="æŠ•é™">æŠ•é™&lt;/h3>
&lt;p>ç»™ knightHealth èµ‹å€¼ä¸º 0&lt;/p>
&lt;h3 id="ç©å®¶è¾“å…¥æ˜µç§°">ç©å®¶è¾“å…¥æ˜µç§°&lt;/h3>
&lt;p>â­ï¸ è¾“å…¥æ˜µç§°å‰éšè— input ä»¥ä¸‹çš„ç»“æ„ v-if&lt;/p>
&lt;p>â­ï¸ ç”¨ v-model åŒå‘ç»‘å®š input å’Œ value&lt;/p>
&lt;h3 id="ç›‘è§†æ¯”èµ›ç»“æœ">ç›‘è§†æ¯”èµ›ç»“æœ&lt;/h3>
&lt;p>â­ï¸ watch å±æ€§ç”¨äºç›‘è§† data()é‡Œçš„æ•°æ®&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-Vue" data-lang="Vue">&lt;span class="line">&lt;span class="cl">&lt;span class="nx">knightHealth&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">value&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">value&lt;/span> &lt;span class="o">&amp;lt;=&lt;/span> &lt;span class="mi">0&lt;/span> &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">monsterHealth&lt;/span> &lt;span class="o">&amp;lt;=&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">winner&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s1">&amp;#39;draw&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span> &lt;span class="k">else&lt;/span> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">value&lt;/span> &lt;span class="o">&amp;lt;=&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">this&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">winner&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s1">&amp;#39;monster&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="æ˜¾ç¤ºæ¯”èµ›ç»“æœ">æ˜¾ç¤ºæ¯”èµ›ç»“æœ&lt;/h3>
&lt;ul>
&lt;li>v-if&lt;/li>
&lt;li>v-else-if&lt;/li>
&lt;li>v-else&lt;/li>
&lt;/ul>
&lt;p>è”åˆä½¿ç”¨æ˜¾ç¤ºå¯¹åº”çš„æ¯”èµ›ç»“æœ&lt;/p>
&lt;h3 id="battle-log">battle log&lt;/h3>
&lt;p>â­ï¸ è®¾ç½® &lt;code>data(){logs:[]}&lt;/code>&lt;/p>
&lt;p>â­ï¸ è®¾ç½® methods addLogs(){}&lt;/p>
&lt;p>â­ï¸ æ¯æ¬¡æ”»å‡» / æ²»æ„ˆæ—¶è°ƒç”¨ addLogs(),è¿™æ ·æˆ˜æ–—æ•°æ®å°±ä¼ å…¥ logs array äº†&lt;/p>
&lt;p>â­ï¸ ç”¨ v-for éå†æŠŠ log æ’åˆ—å‡ºæ¥ï¼Œç”¨ currentTime() ä½œä¸ºç´¢å¼•&lt;/p>
&lt;p>â­ï¸ æ—¶é—´æˆ³è½¬æ¢ä¸ºå¯è¯»çš„æ—¶é—´æ ¼å¼&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="line">&lt;span class="cl">&lt;span class="kd">function&lt;/span> &lt;span class="nx">currentTime&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">date&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">var&lt;/span> &lt;span class="nx">date&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="nb">Date&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">date&lt;/span> &lt;span class="o">*&lt;/span> &lt;span class="mi">1000&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="c1">//å¦‚æœdateä¸º13ä½ä¸éœ€è¦ä¹˜1000
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="kd">var&lt;/span> &lt;span class="nx">Y&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">date&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">getFullYear&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="s1">&amp;#39;-&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">var&lt;/span> &lt;span class="nx">M&lt;/span> &lt;span class="o">=&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">(&lt;/span>&lt;span class="nx">date&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">getMonth&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="mi">1&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="mi">10&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">?&lt;/span> &lt;span class="s1">&amp;#39;0&amp;#39;&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">date&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">getMonth&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">:&lt;/span> &lt;span class="nx">date&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">getMonth&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="s1">&amp;#39;-&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">var&lt;/span> &lt;span class="nx">D&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">date&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">getDate&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="mi">10&lt;/span> &lt;span class="o">?&lt;/span> &lt;span class="s1">&amp;#39;0&amp;#39;&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="nx">date&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">getDate&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="o">:&lt;/span> &lt;span class="nx">date&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">getDate&lt;/span>&lt;span class="p">())&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="s1">&amp;#39; &amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">var&lt;/span> &lt;span class="nx">h&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">date&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">getHours&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="mi">10&lt;/span> &lt;span class="o">?&lt;/span> &lt;span class="s1">&amp;#39;0&amp;#39;&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="nx">date&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">getHours&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="o">:&lt;/span> &lt;span class="nx">date&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">getHours&lt;/span>&lt;span class="p">())&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="s1">&amp;#39;:&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">var&lt;/span> &lt;span class="nx">m&lt;/span> &lt;span class="o">=&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">(&lt;/span>&lt;span class="nx">date&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">getMinutes&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="mi">10&lt;/span> &lt;span class="o">?&lt;/span> &lt;span class="s1">&amp;#39;0&amp;#39;&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="nx">date&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">getMinutes&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="o">:&lt;/span> &lt;span class="nx">date&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">getMinutes&lt;/span>&lt;span class="p">())&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="s1">&amp;#39;:&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kd">var&lt;/span> &lt;span class="nx">s&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">date&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">getSeconds&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="mi">10&lt;/span> &lt;span class="o">?&lt;/span> &lt;span class="s1">&amp;#39;0&amp;#39;&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="nx">date&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">getSeconds&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="o">:&lt;/span> &lt;span class="nx">date&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">getSeconds&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="nx">Y&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="nx">M&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="nx">D&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="nx">h&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="nx">m&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="nx">s&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="restart-æŒ‰æ‰­">restart æŒ‰æ‰­&lt;/h3>
&lt;p>æŠŠ data(){} é‡Œçš„å„é¡¹æ•°æ®é‡ç½®&lt;/p>
&lt;h3 id="é€‚åº”å°å±å¹•">é€‚åº”å°å±å¹•&lt;/h3>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-css" data-lang="css">&lt;span class="line">&lt;span class="cl">&lt;span class="p">@&lt;/span>&lt;span class="k">media&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="nt">max-width&lt;/span>&lt;span class="o">:&lt;/span> &lt;span class="nt">393px&lt;/span>&lt;span class="o">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">...&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div></description></item><item><title>Vue3 | ToDoList</title><link>https://falasool.github.io/2023/vue3-todolist/</link><pubDate>Wed, 21 Jun 2023 01:29:15 +0800</pubDate><guid>https://falasool.github.io/2023/vue3-todolist/</guid><description>&lt;h2 id="å®ç°åŠŸèƒ½">å®ç°åŠŸèƒ½&lt;/h2>
&lt;ul>
&lt;li>
&lt;p>å±•ç¤ºä»»åŠ¡çš„åˆ—è¡¨&lt;/p>
&lt;ul>
&lt;li>ä½¿ç”¨ &lt;code>v-for&lt;/code> åœ¨æ¨¡æ¿ä¸­å¾ªç¯æ¸²æŸ“ä»»åŠ¡é¡¹ç»„ä»¶ï¼Œå¹¶æ ¹æ®ä»»åŠ¡çš„çŠ¶æ€ï¼ˆå®Œæˆæˆ–æœªå®Œæˆï¼‰è¿›è¡Œä¸åŒçš„å±•ç¤ºæ ·å¼&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>æ–°å¢ todo&lt;/p>
&lt;ul>
&lt;li>&lt;code>v-model&lt;/code> å®ç°è¾“å…¥æ¡†å’Œæ•°æ®çš„åŒå‘ç»‘å®š&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>ä¿®æ”¹ todo&lt;/p>
&lt;/li>
&lt;li>
&lt;p>åˆ é™¤ todo&lt;/p>
&lt;/li>
&lt;li>
&lt;p>å…¨é€‰/å–æ¶ˆå…¨é€‰&lt;/p>
&lt;/li>
&lt;li>
&lt;p>ç»Ÿè®¡ä»»åŠ¡&lt;/p>
&lt;/li>
&lt;li>
&lt;p>éšè—å·²å®Œæˆ todo&lt;/p>
&lt;/li>
&lt;li>
&lt;p>æœ¬åœ°å‚¨å­˜&lt;/p>
&lt;/li>
&lt;/ul>
&lt;p>è¿›é˜¶&lt;/p>
&lt;ol>
&lt;li>ç·¨è¼¯ List é †åº&lt;/li>
&lt;li>å°‡å®Œæˆçš„é …ç›®ç§»è‡³Finishå€åŸŸï¼Œä¸¦ä¸”å°‡å­—é«”æ”¹æˆåˆªé™¤ç·šæ•ˆæœ&lt;/li>
&lt;li>å¢åŠ  Icon ä»¥åŠé–‹å ´å‹•ç•«&lt;/li>
&lt;li>è¨­å®šæ—¥æœŸèˆ‡æ™‚é–“æ¨æ’­&lt;/li>
&lt;/ol>
&lt;h2 id="é¡¹ç›®å®‰è£…">é¡¹ç›®å®‰è£…&lt;/h2>
&lt;p>ç”¨ npm å’Œ vite æ–°å»ºé¡¹ç›®&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">npm init vite-app ToDoList
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>è¿›å…¥é¡¹ç›®ã€å®‰è£…ä¾èµ–ã€å¯åŠ¨&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">&lt;span class="nb">cd&lt;/span> ToDoList
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">npm install
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">npm run dev
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="å·¥ç¨‹ç›®å½•ç»“æ„">å·¥ç¨‹ç›®å½•ç»“æ„&lt;/h3>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">.
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”œâ”€â”€ index.html
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”œâ”€â”€ node_modules &lt;span class="c1"># é¡¹ç›®ä¾èµ–&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”œâ”€â”€ package-lock.json
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”œâ”€â”€ package.json &lt;span class="c1"># å­˜æ”¾ä¾èµ–åŒ…ç®¡ç†åŠå‘½ä»¤ç®¡ç†ä¿¡æ¯æ–‡ä»¶&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”œâ”€â”€ public
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”‚Â Â  â””â”€â”€ favicon.ico
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â””â”€â”€ src &lt;span class="c1"># å­˜æ”¾vueæ–‡ä»¶&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> â”œâ”€â”€ App.vue &lt;span class="c1"># é¡¹ç›®çš„rootç»„ä»¶ï¼Œç”¨æ¥å¼•å…¥å…¶å®ƒæ¨¡å—&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> â”œâ”€â”€ assets
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> â”œâ”€â”€ components &lt;span class="c1"># å­˜æ”¾è‡ªå®šä¹‰çš„å…¬å…±ç»„ä»¶ï¼ˆ=éè·¯ç”±ç»„ä»¶ï¼‰&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> â”‚Â Â  â””â”€â”€ Helloworld.vue
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> â”œâ”€â”€ index.css
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> â””â”€â”€ main.js &lt;span class="c1"># å…¥å£æ–‡ä»¶ï¼Œç”¨äºåˆå§‹åŒ–vueå®ä¾‹&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="æ€è·¯">æ€è·¯&lt;/h2>
&lt;ol>
&lt;li>
&lt;p>å…ˆæ­å»ºå¥½æ¡†æ¶ï¼šå†™æ­»æ•°æ®çœ‹é¡µé¢æ•ˆæœå¹¶è°ƒæ•´&lt;/p>
&lt;/li>
&lt;li>
&lt;p>ç„¶åæŠŠä»£ç æ‹†åˆ†è¿›ä¸‰ä¸ªç»„ä»¶ï¼šHeaderã€Listã€Footerï¼ˆæ ‡é¢˜å’Œä»»åŠ¡è¾“å…¥æ¡†ã€ä»»åŠ¡åˆ—è¡¨é¡¹ã€æŒ‰é’®é€‰æ‹©é¡¹å’Œè®¡æ•°ï¼‰&lt;/p>
&lt;/li>
&lt;li>
&lt;p>å†™JSï¼Œå¹¶æ›´æ¢æ¨¡æ¿é¡µé¢ä¸­çš„æ•°æ®ï¼Œç”¨åŠ¨æ€çš„æ•°æ®ä»£æ›¿ã€‚åœ¨setup()å…¥å£å‡½æ•°ä¸­å†™æ•°æ®æºå’Œè¦å®ç°åŠŸèƒ½çš„å‡½æ•°&lt;/p>
&lt;/li>
&lt;/ol>
&lt;h2 id="å®ç°æ­¥éª¤">å®ç°æ­¥éª¤&lt;/h2>
&lt;h3 id="html">HTML&lt;/h3>
&lt;p>è¿™ä¸æ˜¯æœ€ç»ˆç»“æ„ï¼Œåé¢æœ‰ä¿®æ”¹&lt;/p>
&lt;p>&lt;img src="https://cdn.jsdelivr.net/gh/Falasool/blog-pic-bed@main//blog202307121504274.webp"
loading="lazy"
alt="image"
>&lt;/p>
&lt;h3 id="css">CSS&lt;/h3>
&lt;details>
&lt;summary>å®‰è£…å’Œé…ç½® TailwindCSS&lt;/summary>
&lt;p>åœ¨Vueçš„æ ¹ç›®å½•ä¸‹ï¼Œå®‰è£… Tailwind åŠå…¶ä¾èµ–é¡¹ï¼ˆPostCSS &amp;amp; auto-prefixerï¼‰&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">npm install -D tailwindcss postcss autoprefixer
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>ç”Ÿæˆé…ç½®æ–‡ä»¶å¹¶æ·»åŠ æ‰€æœ‰æ¨¡æ¿æ–‡ä»¶çš„è·¯å¾„&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">npx tailwindcss init -p
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">//tailwind.config.js
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">module.exports &lt;span class="o">=&lt;/span> &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> content: &lt;span class="o">[&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s2">&amp;#34;./index.html&amp;#34;&lt;/span>,
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s2">&amp;#34;./src/**/*.{vue,js,ts,jsx,tsx}&amp;#34;&lt;/span>,
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">]&lt;/span>,
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> theme: &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> extend: &lt;span class="o">{}&lt;/span>,
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>,
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> plugins: &lt;span class="o">[]&lt;/span>,
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>åˆ›å»ºä¸€ä¸ª&lt;code>tailwind.css&lt;/code>æ ·å¼æ–‡ä»¶ï¼Œç”¨äºåˆå§‹åŒ–å¹¶å¼•å…¥&lt;code>tailwindcss&lt;/code>çš„åŸºç¡€æ ·å¼&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-css" data-lang="css">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">å¤åˆ¶ä»£ç &lt;/span>&lt;span class="c">/* /src/tailwindcss.css*/&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">@&lt;/span>&lt;span class="k">tailwind&lt;/span> &lt;span class="nt">base&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">@&lt;/span>&lt;span class="k">tailwind&lt;/span> &lt;span class="nt">components&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">@&lt;/span>&lt;span class="k">tailwind&lt;/span> &lt;span class="nt">utilities&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>å¯¼å…¥&lt;code>css/tailwindcss.css&lt;/code>åˆ°&lt;code>main.js&lt;/code>&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-diff" data-lang="diff">&lt;span class="line">&lt;span class="cl">// src/main.js
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">import { createApp } from &amp;#39;vue&amp;#39;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">import App from &amp;#39;./App.vue&amp;#39;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="gi">+ import &amp;#34;./tailwind.css&amp;#34;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="gi">&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">createApp(App).mount(&amp;#39;#app&amp;#39;)
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>
&lt;/details>
&lt;p>&lt;img src="https://cdn.jsdelivr.net/gh/Falasool/blog-pic-bed@main//blog202308290007098.webp"
loading="lazy"
alt="image"
>&lt;/p></description></item></channel></rss>
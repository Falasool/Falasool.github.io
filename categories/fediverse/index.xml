<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Fediverse on Rubber Duck's Bizarre Adventure</title><link>https://falasool.github.io/categories/fediverse/</link><description>Recent content in Fediverse on Rubber Duck's Bizarre Adventure</description><generator>Hugo -- gohugo.io</generator><lastBuildDate>Sat, 15 Jul 2023 22:59:59 +0800</lastBuildDate><atom:link href="https://falasool.github.io/categories/fediverse/index.xml" rel="self" type="application/rss+xml"/><item><title>Migrate to Akkoma</title><link>https://falasool.github.io/2023/migrate-to-akkoma/</link><pubDate>Sat, 15 Jul 2023 22:59:59 +0800</pubDate><guid>https://falasool.github.io/2023/migrate-to-akkoma/</guid><description>&lt;img src="https://picsum.photos/800/600.webp?random=040d4a09" alt="Featured image of post Migrate to Akkoma" />&lt;p>Update system&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">apt update
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">apt full-upgrade
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>ÂÆâË£Ö‰æùËµñ&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">apt install git build-essential postgresql postgresql-contrib cmake libmagic-dev
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">apt install elixir erlang-dev erlang-nox
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">apt install imagemagick ffmpeg libimage-exiftool-perl
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>üïôÔºöelixir Ë¶ÅÊ±Ç1.14ÁâàÊú¨ÔºåÊü•ÁúãÁâàÊú¨Ôºå‰∏çÂØπÁöÑËØùÂçáÁ∫ß&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">elixir --version
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">git clone https://github.com/asdf-vm/asdf.git ~/.asdf --branch v0.8.1
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">echo&lt;/span> &lt;span class="s2">&amp;#34;. &lt;/span>&lt;span class="nv">$HOME&lt;/span>&lt;span class="s2">/.asdf/asdf.sh&amp;#34;&lt;/span> &amp;gt;&amp;gt; ~/.bashrc
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">echo&lt;/span> &lt;span class="s2">&amp;#34;. &lt;/span>&lt;span class="nv">$HOME&lt;/span>&lt;span class="s2">/.asdf/completions/asdf.bash&amp;#34;&lt;/span> &amp;gt;&amp;gt; ~/.bashrc
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">source&lt;/span> ~/.bashrc
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">asdf plugin-add elixir
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">asdf global elixir 1.14.0
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">elixir --version
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>ÂàõÂª∫‰∏Ä‰∏™Á≥ªÁªüÁî®Êà∑&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">useradd -r -s /bin/false -m -d /var/lib/akkoma -U akkoma
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;ul>
&lt;li>&lt;code>-r&lt;/code>ÔºöÂàõÂª∫‰∏Ä‰∏™Á≥ªÁªüÁî®Êà∑ÔºåÈÄöÂ∏∏Áî®‰∫éËøêË°åÁ≥ªÁªüÊúçÂä°ËÄå‰∏çÊòØÁôªÂΩï&lt;/li>
&lt;li>&lt;code>-s /bin/false&lt;/code>ÔºöÂ∞ÜÁî®Êà∑ÁöÑÁôªÂΩï Shell ËÆæÁΩÆ‰∏∫ &lt;code>/bin/false&lt;/code>ÔºåËøôÊÑèÂë≥ÁùÄËØ•Áî®Êà∑Êó†Ê≥ïÁôªÂΩïÁ≥ªÁªü&lt;/li>
&lt;li>&lt;code>-m&lt;/code>ÔºöÂú®Áî®Êà∑ÁöÑ‰∏ªÁõÆÂΩï‰∏≠ÂàõÂª∫Êñá‰ª∂Â§πÔºàÂ¶ÇÊûú‰∏çÂ≠òÂú®Ôºâ&lt;/li>
&lt;li>&lt;code>-d /var/lib/akkoma&lt;/code>ÔºöÊåáÂÆöÁî®Êà∑ÁöÑ‰∏ªÁõÆÂΩï‰∏∫ &lt;code>/var/lib/akkoma&lt;/code>&lt;/li>
&lt;li>&lt;code>-U&lt;/code>ÔºöÂêåÊó∂ÂàõÂª∫‰∏Ä‰∏™‰∏éÁî®Êà∑ÂêçÁõ∏ÂêåÁöÑÁî®Êà∑ÁªÑ&lt;/li>
&lt;/ul>
&lt;p>üìíNote:&lt;/p>
&lt;p>‰ª• Akkoma Á≥ªÁªüÁî®Êà∑Ë∫´‰ªΩÊâßË°åÂçï‰∏™ÂëΩ‰ª§: &lt;code>sudo -Hu akkoma command&lt;/code> Êàñ &lt;code>sudo -Hu akkoma $SHELL&lt;/code> ÂàáÊç¢Âà∞ËØ•Áî®Êà∑ÁöÑ Shell&lt;/p>
&lt;p>Â¶ÇÊûúÊ≤°ÊúâÂÆâË£Ö &lt;code>sudo&lt;/code>ÔºåÂèØ‰ª•‰ΩøÁî® &lt;code>su&lt;/code> ÂëΩ‰ª§‰Ωú‰∏∫ root Áî®Êà∑ÔºàUID 0ÔºâÊâßË°åÂçï‰∏™ÂëΩ‰ª§Ôºå‰æãÂ¶Ç &lt;code>su -l akkoma -s $SHELL -c 'command'&lt;/code>ÔºåÊàñ‰ΩøÁî® &lt;code>su -l akkoma -s $SHELL&lt;/code> ÂêØÂä®‰∏Ä‰∏™ Shell&lt;/p>
&lt;p>ÂÆâË£Ö Akkoma Êú¨‰Ωì&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">mkdir -p /opt/akkoma
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">chown -R akkoma:akkoma /opt/akkoma
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sudo -Hu akkoma git clone https://akkoma.dev/AkkomaGang/akkoma.git -b stable /opt/akkoma
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>ÁªßÁª≠ÂÆâË£ÖÔºåËØ¢ÈóÆÊòØÂê¶Ë¶ÅÂÆâË£ÖHexÁöÑÊó∂ÂÄôÈÄâyes&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">sudo -Hu akkoma mix deps.get
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>ÂàõÂª∫ÈÖçÁΩÆÔºåËØ¢ÈóÆÊòØÂê¶ÂÆâË£Örebar3ÈÄâyes&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">sudo -Hu akkoma &lt;span class="nv">MIX_ENV&lt;/span>&lt;span class="o">=&lt;/span>prod mix pleroma.instance gen
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>ÁºñËØëÈúÄË¶ÅËæÉÈïøÊó∂Èó¥ÔºåÁ≠âÂæÖ&lt;/p></description></item><item><title>ÂàùÈÅá PostgreSQL</title><link>https://falasool.github.io/2023/postgresql/</link><pubDate>Mon, 26 Jun 2023 11:21:32 +0800</pubDate><guid>https://falasool.github.io/2023/postgresql/</guid><description>&lt;p>‰ª•Áé∞Êúâ Pleroma Êï∞ÊçÆÂ∫ì‰∏∫Âü∫Á°ÄÂ≠¶‰π† postgreSQL&lt;/p>
&lt;h2 id="Êú¨Âú∞ÂÆâË£Ö-pg">Êú¨Âú∞ÂÆâË£Ö PG&lt;/h2>
&lt;h3 id="Áî®-homebrew-ÂÆâË£Ö">Áî® Homebrew ÂÆâË£Ö&lt;/h3>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">brew install postgresql@13
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Ê∑ªÂä†ÁéØÂ¢ÉÂèòÈáè&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-diff" data-lang="diff">&lt;span class="line">&lt;span class="cl"># ~/.zshrc
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="gi">+ # PostgreSQL
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="gi">+ export PATH=&amp;#34;/opt/homebrew/Cellar/postgresql@13/13.11_1/bin:$PATH&amp;#34;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="gi">+ export PGDATA=&amp;#34;/opt/homebrew/var/postgresql@13&amp;#34;
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>ËÆ©‰øÆÊîπÁîüÊïà &amp;amp; ÊµãËØï&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">&lt;span class="nb">source&lt;/span> ~/.zshrc &lt;span class="c1"># ÂØπÈÖçÁΩÆÊñá‰ª∂ÁöÑ‰øÆÊîπÁîüÊïà&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">pg_ctl -V &lt;span class="c1"># Êü•ÁúãÁâàÊú¨Ôºåreturn `pg_ctl (PostgreSQL) 13.1` &lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="dmg-ÂÆâË£Ö">dmg ÂÆâË£Ö&lt;/h3>
&lt;p>&lt;a class="link" href="https://www.enterprisedb.com/downloads/postgres-postgresql-downloads" target="_blank" rel="noopener"
>‰∏ãËΩΩ&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
&lt;/p>
&lt;p>‰øÆÊîπÁéØÂ¢ÉÂèòÈáè&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># PostgreSQL&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">export&lt;/span> &lt;span class="nv">PATH&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;/Library/PostgreSQL/13/bin:&lt;/span>&lt;span class="nv">$PATH&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">source&lt;/span> ~/.zshrc
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="ËøúÁ®ãÊìç‰Ωú-pg">ËøúÁ®ãÊìç‰Ωú PG&lt;/h2>
&lt;h3 id="ÁôªÂΩï">ÁôªÂΩï&lt;/h3>
&lt;p>ÂÖÅËÆ∏ËøúÁ®ãÁôªÂΩï&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">locate postgresql.conf &lt;span class="c1"># ÂÆö‰ΩçÊñá‰ª∂‰ΩçÁΩÆ&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># /etc/postgresql/13/main/postgresql.conf &lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nv">listen_addresses&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s1">&amp;#39;*&amp;#39;&lt;/span> &lt;span class="c1"># ‰øÆÊîπÂÜÖÂÆπ&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Ê∑ªÂä†ÂÆ¢Êà∑Á´ØÈâ¥ÂÆöÊù°ÁõÆ&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># /etc/postgresql/13/main/pg_hba.conf&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># ÂÖÅËÆ∏Áî®Êà∑Âú®Êèê‰æõÊúâÊïàÂè£‰ª§Ôºàmd5ÔºâÂêé‰ªéÊüê‰∏™ IP Âú∞ÂùÄÁôªÂΩï&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">host all all 0.0.0.0/0 md5
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">host all all ::0/0 md5
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>[ÂèØÈÄâ]‰øÆÊîπÂØÜÁ†Å&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">&lt;span class="nv">postgres&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="c1"># alter user postgres with password &amp;#39;xxxxxxxx&amp;#39;;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">ALTER ROLE
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>ÊúÄÂêéÈáçÂêØ pg&lt;/p>
&lt;p>‰ΩÜÊòØ‰∏çÁü•ÈÅì‰∏∫Âï•Ôºà‰πüËÆ∏‰ª•ÂêéÂ∞±Áü•ÈÅì‰∫ÜÔºâÊàëÂºÄÂêØ 5432 Á´ØÂè£Êó†ÊïàÔºöufw ÂëΩ‰ª§ËøîÂõûÁªìÊûúÊòæÁ§∫Â∑≤ÂºÄÂêØÔºåÈò≤ÁÅ´Â¢ôËßÑÂàôÊ∑ªÂä†‰∫ÜÔºåip Ê£ÄÊü•Â∑•ÂÖ∑ËøòÊòØÊòæÁ§∫Á´ØÂè£Êú™ÂºÄÊîæ„ÄÇÁÑ∂ÂêéÈªõÈªõÊïô‰∫ÜÊàëÁ´ØÂè£ËΩ¨Âèë&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">ssh -L 127.0.0.1:5432:127.0.0.1:5432 username@hostname
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Ëøû‰∏ä‰πãÂêé‰øùÊåÅÊâìÂºÄËøô‰∏™Á™óÂè£ÔºåÊàëÁî® Navicat Ëøû‰∏ä‰∫ÜÊï∞ÊçÆÂ∫ìÔºåÁ¨¨‰∏ÄÊ¨°ËßÅÂà∞‰∫ÜÊï∞ÊçÆÂ∫ìÂà∞Â∫ïÊòØÂï•ÁªìÊûÑ‚Ä¶‚Ä¶ÔºàNavicat ÊòØ‰ªÄ‰πàËØ∑Áúã &lt;a class="link" href="https://www.navicat.com.cn/manual/online_manual/cn/navicat_16/win_manual/#/main_window" target="_blank" rel="noopener"
>Áî®Êà∑ÊâãÂÜå&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
Ôºâ&lt;/p>
&lt;p>&lt;img src="https://cdn.jsdelivr.net/gh/Falasool/blog-pic-bed@main//blog202307032252841.webp"
loading="lazy"
alt="image"
>&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">.
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">‚îî‚îÄ‚îÄ public &lt;span class="c1"># public ÊòØÈªòËÆ§ÁöÑÊï∞ÊçÆÂ∫ìÊ®°ÂºèÔºàschemaÔºâ„ÄÇ‰∏Ä‰∏™Êï∞ÊçÆÂ∫ìÂèØ‰ª•ÂåÖÂê´Â§ö‰∏™Ê®°ÂºèÔºåËÄåÊØè‰∏™Ê®°ÂºèÂèàÂèØ‰ª•ÂåÖÂê´Â§ö‰∏™Ë°®„ÄÅËßÜÂõæ„ÄÅÂáΩÊï∞Á≠âÂØπË±°.schema ÊòØ‰∏ÄÁßçÈÄªËæëÂÆπÂô®ÔºåÁî®‰∫éÁªÑÁªáÂíåÁÆ°ÁêÜÊï∞ÊçÆÂ∫ìÂØπË±°„ÄÇÂÆÉÂèØ‰ª•Â∏ÆÂä©Âú®‰∏Ä‰∏™Êï∞ÊçÆÂ∫ì‰∏≠ÂØπ‰∏çÂêåÁöÑÂØπË±°ËøõË°åÂàÜÁ±ªÂíåÂàÜÁªÑ&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> ‚îú‚îÄ‚îÄ Tables &lt;span class="c1"># Ë°®ÊòØÂ≠òÂÇ®Êï∞ÊçÆÁöÑÂü∫Êú¨ÂØπË±°ÔºåÁ±ª‰ºº‰∫éÁîµÂ≠êË°®Ê†ºÊàñÊï∞ÊçÆÂ∫ì‰∏≠ÁöÑË°®Ê†º„ÄÇÂÆÉ‰ª¨Áî±Ë°åÂíåÂàóÁªÑÊàêÔºåÁî®‰∫éÂ≠òÂÇ®ÂíåÁªÑÁªáÊï∞ÊçÆ&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> ‚îú‚îÄ‚îÄ Views &lt;span class="c1"># ËßÜÂõæÊòØËôöÊãüË°®ÔºåÊòØÊ†πÊçÆÂ≠òÂÇ®Âú®ÂÖ∂‰ªñË°®‰∏≠ÁöÑÊï∞ÊçÆÂÆö‰πâÁöÑÊü•ËØ¢ÁªìÊûú„ÄÇËßÜÂõæÂèØ‰ª•ÁÆÄÂåñÂ§çÊùÇÊü•ËØ¢ÔºåÂπ∂Êèê‰æõ‰∏ÄÁßçÊñπÂºèÊù•ËÆøÈóÆÂíå‰ΩøÁî®Êï∞ÊçÆ&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> ‚îú‚îÄ‚îÄ Materialized Views &lt;span class="c1"># ÊùêÊñôÂåñËßÜÂõæÊòØ‰∏ÄÁßçÁâπÊÆäÁ±ªÂûãÁöÑËßÜÂõæÔºåÂÆÉÂú®ÂàõÂª∫Êó∂Â∞ÜÊü•ËØ¢ÁªìÊûúÁºìÂ≠ò‰∏∫ÂÆûÈôÖÁöÑË°®„ÄÇ‰∏éÊôÆÈÄöËßÜÂõæ‰∏çÂêåÔºåÊùêÊñôÂåñËßÜÂõæÁöÑÂÜÖÂÆπÂú®Êü•ËØ¢Êó∂‰∏ç‰ºöÂÜçÊ¨°ËÆ°ÁÆóÔºåËÄåÊòØ‰ΩøÁî®È¢ÑÂÖàËÆ°ÁÆóÁöÑÁªìÊûú&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> ‚îú‚îÄ‚îÄ Functions &lt;span class="c1"># ÂáΩÊï∞ÊòØ‰∏ÄÊÆµÂ∞ÅË£Ö‰∫ÜÁâπÂÆöÂäüËÉΩÁöÑÂèØÈáçÁî®‰ª£Á†ÅÂùó„ÄÇÂú®Êï∞ÊçÆÂ∫ì‰∏≠ÔºåÂáΩÊï∞Áî®‰∫éÊâßË°åÁâπÂÆöÁöÑËÆ°ÁÆó„ÄÅÂ§ÑÁêÜÊï∞ÊçÆÊàñËøîÂõûÁªìÊûú&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> ‚îú‚îÄ‚îÄ Queries
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> ¬† ‚îî‚îÄ‚îÄ Backups
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="Ëß£ÂÜ≥Êï∞ÊçÆÂ∫ìÂ¢ûÈïøËøáÂø´ÁöÑÈóÆÈ¢òÂà∞Â∫ïËß£ÂÜ≥‰∫ÜÊ≤°ÊúâÂë¢">Ëß£ÂÜ≥Êï∞ÊçÆÂ∫ìÂ¢ûÈïøËøáÂø´ÁöÑÈóÆÈ¢òÔºàÂà∞Â∫ïËß£ÂÜ≥‰∫ÜÊ≤°ÊúâÂë¢ÔºüÔºâ&lt;/h3>
&lt;p>ÂâçÊèêÔºöÂ§á‰ªΩÊï∞ÊçÆÂ∫ì&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># Â§á‰ªΩ&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">mkdir -p /pleromabackup
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">chmod &lt;span class="m">777&lt;/span> /pleromabackup
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">su - postgres
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">psql -U postgres
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nv">postgres&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="c1"># \! pg_dump pleroma -f /pleromabackup/pleroma.pgdump&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># Ê£ÄÊü•Â§á‰ªΩÁõÆÂΩïÂ§ßÂ∞è&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">[&lt;/span>xxx@xxx pleromabackup&lt;span class="o">]&lt;/span>&lt;span class="c1"># du -hs&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">341M .
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>üåü **Êü•ËØ¢ÊâÄÊúâË°®ÁöÑË°åÊï∞Ôºö**ÂàõÂª∫‰∏Ä‰∏™ &lt;code>count_em_all&lt;/code> ÂáΩÊï∞ÔºåÁÑ∂ÂêéË∞ÉÁî®ÂÆÉËé∑ÂæóÂáÜÁ°ÆÁöÑÁªüËÆ°‰ø°ÊÅØ&lt;/p>
&lt;ol>
&lt;li>ÂàõÂª∫Ôºö&lt;/li>
&lt;/ol>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-postgresql" data-lang="postgresql">&lt;span class="line">&lt;span class="cl">&lt;span class="k">CREATE&lt;/span> &lt;span class="k">TYPE&lt;/span> &lt;span class="n">table_count&lt;/span> &lt;span class="k">AS&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">table_name&lt;/span> &lt;span class="nb">TEXT&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">num_rows&lt;/span> &lt;span class="nb">INTEGER&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">CREATE&lt;/span> &lt;span class="k">OR&lt;/span> &lt;span class="k">REPLACE&lt;/span> &lt;span class="k">FUNCTION&lt;/span> &lt;span class="n">count_em_all&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="k">RETURNS&lt;/span> &lt;span class="k">SETOF&lt;/span> &lt;span class="n">table_count&lt;/span> &lt;span class="k">AS&lt;/span> &lt;span class="s1">&amp;#39;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s1">DECLARE
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s1"> the_count RECORD;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s1"> t_name RECORD;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s1"> r table_count%ROWTYPE;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s1">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s1">BEGIN
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s1"> FOR t_name IN
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s1"> SELECT
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s1"> c.relname
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s1"> FROM
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s1"> pg_catalog.pg_class c LEFT JOIN pg_namespace n ON n.oid = c.relnamespace
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s1"> WHERE
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s1"> c.relkind = &amp;#39;&amp;#39;r&amp;#39;&amp;#39;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s1"> AND n.nspname = &amp;#39;&amp;#39;public&amp;#39;&amp;#39;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s1"> ORDER BY 1
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s1"> LOOP
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s1"> FOR the_count IN EXECUTE &amp;#39;&amp;#39;SELECT COUNT(*) AS &amp;#34;count&amp;#34; FROM &amp;#39;&amp;#39; || t_name.relname
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s1"> LOOP
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s1"> END LOOP;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s1">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s1"> r.table_name := t_name.relname;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s1"> r.num_rows := the_count.count;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s1"> RETURN NEXT r;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s1"> END LOOP;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s1"> RETURN;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s1">END;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s1">&amp;#39;&lt;/span> &lt;span class="k">LANGUAGE&lt;/span> &lt;span class="n">plpgsql&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;ol start="2">
&lt;li>Ë∞ÉÁî®&lt;/li>
&lt;/ol>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-postgresql" data-lang="postgresql">&lt;span class="line">&lt;span class="cl">&lt;span class="k">SELECT&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">*&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">FROM&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">count_em_all&lt;/span> &lt;span class="p">(&lt;/span> &lt;span class="p">)&lt;/span> &lt;span class="k">AS&lt;/span> &lt;span class="n">r&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">ORDER&lt;/span> &lt;span class="k">BY&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">r&lt;/span>&lt;span class="mf">.&lt;/span>&lt;span class="n">num_rows&lt;/span> &lt;span class="k">DESC&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>ÁªìÊûúÔºö&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-postgresql" data-lang="postgresql">&lt;span class="line">&lt;span class="cl"> &lt;span class="n">table_name&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="n">num_rows&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">--------------------------------------------+----------
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="n">activities&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="mf">171772&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">objects&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="mf">120664&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">hashtags_objects&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="mf">38433&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">users&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="mf">22054&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">hashtags&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="mf">7719&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">deliveries&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="mf">5420&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">counter_cache&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="mf">876&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">notifications&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="mf">570&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">oauth_authorizations&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="mf">479&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">oauth_tokens&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="mf">474&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">following_relationships&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="mf">472&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">schema_migrations&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="mf">302&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">apps&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="mf">83&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">user_relationships&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="mf">53&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">conversation_participation_recipient_ships&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="mf">36&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">instances&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="mf">34&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">oban_jobs&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="mf">32&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">conversation_participations&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="mf">18&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">conversations&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="mf">10&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">config&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="mf">10&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">bookmarks&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="mf">5&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">markers&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="mf">3&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">user_notes&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="mf">2&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">data_migrations&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="mf">2&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">backups&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="mf">1&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">moderation_log&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="mf">1&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">password_reset_tokens&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="mf">1&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">lists&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="mf">1&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">oban_peers&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="mf">1&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">announcements&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="mf">0&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">filters&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="mf">0&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">announcement_read_relationships&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="mf">0&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">data_migration_failed_ids&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="mf">0&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">mfa_tokens&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="mf">0&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">chats&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="mf">0&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">chat_message_references&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="mf">0&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">push_subscriptions&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="mf">0&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">registrations&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="mf">0&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">report_notes&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="mf">0&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">scheduled_activities&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="mf">0&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">thread_mutes&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="mf">0&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">user_invite_tokens&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="mf">0&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">(&lt;/span>&lt;span class="mf">42&lt;/span> &lt;span class="k">rows&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>üåü &lt;strong>Êü•ËØ¢ÊâÄÊúâË°®ÁöÑÊÄªÂ§ßÂ∞è&lt;/strong>ÔºàÊã¨Ë°®Êï∞ÊçÆÊñá‰ª∂„ÄÅÁ¥¢ÂºïÊñá‰ª∂„ÄÅTOASTË°®„ÄÅFree Space MapÁ≠âÂØπË±°ÁöÑÂ§ßÂ∞èÔºâ&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-postgresql" data-lang="postgresql">&lt;span class="line">&lt;span class="cl">&lt;span class="n">pleroma&lt;/span>&lt;span class="o">=#&lt;/span> &lt;span class="k">SELECT&lt;/span> &lt;span class="n">relname&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">pg_size_pretty&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">pg_total_relation_size&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">relid&lt;/span>&lt;span class="p">))&lt;/span> &lt;span class="k">AS&lt;/span> &lt;span class="n">size_mb&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">FROM&lt;/span> &lt;span class="n">pg_stat_user_tables&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">ORDER&lt;/span> &lt;span class="k">BY&lt;/span> &lt;span class="n">pg_total_relation_size&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">relid&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="k">DESC&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">relname&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="n">size_mb&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">--------------------------------------------+---------
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="n">objects&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="mf">266&lt;/span> &lt;span class="n">MB&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">activities&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="mf">258&lt;/span> &lt;span class="n">MB&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">oban_jobs&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="mf">100&lt;/span> &lt;span class="n">MB&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">users&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="mf">64&lt;/span> &lt;span class="n">MB&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">hashtags_objects&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="mf">4096&lt;/span> &lt;span class="n">kB&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">hashtags&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="mf">1288&lt;/span> &lt;span class="n">kB&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">deliveries&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="mf">960&lt;/span> &lt;span class="n">kB&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">oauth_tokens&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="mf">592&lt;/span> &lt;span class="n">kB&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">oauth_authorizations&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="mf">344&lt;/span> &lt;span class="n">kB&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">notifications&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="mf">240&lt;/span> &lt;span class="n">kB&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">following_relationships&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="mf">232&lt;/span> &lt;span class="n">kB&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">counter_cache&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="mf">208&lt;/span> &lt;span class="n">kB&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">apps&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="mf">176&lt;/span> &lt;span class="n">kB&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">instances&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="mf">96&lt;/span> &lt;span class="n">kB&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">conversation_participations&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="mf">88&lt;/span> &lt;span class="n">kB&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">lists&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="mf">80&lt;/span> &lt;span class="n">kB&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">markers&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="mf">80&lt;/span> &lt;span class="n">kB&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">oban_peers&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="mf">80&lt;/span> &lt;span class="n">kB&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">schema_migrations&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="mf">64&lt;/span> &lt;span class="n">kB&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">conversation_participation_recipient_ships&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="mf">56&lt;/span> &lt;span class="n">kB&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">user_relationships&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="mf">56&lt;/span> &lt;span class="n">kB&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">data_migrations&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="mf">48&lt;/span> &lt;span class="n">kB&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">config&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="mf">48&lt;/span> &lt;span class="n">kB&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">backups&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="mf">48&lt;/span> &lt;span class="n">kB&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">conversations&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="mf">40&lt;/span> &lt;span class="n">kB&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">bookmarks&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="mf">40&lt;/span> &lt;span class="n">kB&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">user_notes&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="mf">40&lt;/span> &lt;span class="n">kB&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">filters&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="mf">32&lt;/span> &lt;span class="n">kB&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">scheduled_activities&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="mf">32&lt;/span> &lt;span class="n">kB&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">registrations&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="mf">32&lt;/span> &lt;span class="n">kB&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">chat_message_references&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="mf">32&lt;/span> &lt;span class="n">kB&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">moderation_log&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="mf">32&lt;/span> &lt;span class="n">kB&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">password_reset_tokens&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="mf">24&lt;/span> &lt;span class="n">kB&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">push_subscriptions&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="mf">24&lt;/span> &lt;span class="n">kB&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">user_invite_tokens&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="mf">16&lt;/span> &lt;span class="n">kB&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">mfa_tokens&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="mf">16&lt;/span> &lt;span class="n">kB&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">announcement_read_relationships&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="mf">16&lt;/span> &lt;span class="n">kB&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">thread_mutes&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="mf">16&lt;/span> &lt;span class="n">kB&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">announcements&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="mf">16&lt;/span> &lt;span class="n">kB&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">report_notes&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="mf">16&lt;/span> &lt;span class="n">kB&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">chats&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="mf">16&lt;/span> &lt;span class="n">kB&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">data_migration_failed_ids&lt;/span> &lt;span class="o">|&lt;/span> &lt;span class="mf">16&lt;/span> &lt;span class="n">kB&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">(&lt;/span>&lt;span class="mf">42&lt;/span> &lt;span class="k">rows&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>ÂàóÂá∫Ë°åÊï∞Âíå size ÊéíÂâç‰∫îÁöÑË°®&lt;/p>
&lt;p>üåü &lt;strong>activities Ë°®&lt;/strong>&lt;/p>
&lt;p>type Â≠óÊÆµÁöÑÊâÄÊúâÂÄº&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-postgresql" data-lang="postgresql">&lt;span class="line">&lt;span class="cl">&lt;span class="n">pleroma&lt;/span>&lt;span class="o">=#&lt;/span> &lt;span class="k">SELECT&lt;/span> &lt;span class="k">DISTINCT&lt;/span> &lt;span class="k">data&lt;/span>&lt;span class="o">-&amp;gt;&amp;gt;&lt;/span>&lt;span class="s1">&amp;#39;type&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">FROM&lt;/span> &lt;span class="n">activities&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">?&lt;/span>&lt;span class="k">column&lt;/span>&lt;span class="o">?&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">------------
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="n">Follow&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">Block&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">Announce&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">Move&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">Delete&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">Undo&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">Create&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">EmojiReact&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">Remove&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">Update&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">Like&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">Add&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">Reject&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">Accept&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">(&lt;/span>&lt;span class="mf">14&lt;/span> &lt;span class="k">rows&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>ÂàóÂá∫ÂÄºÊòØ Announce ÁöÑÊâÄÊúâË°å&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-postgresql" data-lang="postgresql">&lt;span class="line">&lt;span class="cl">&lt;span class="k">SELECT&lt;/span> &lt;span class="o">*&lt;/span> &lt;span class="k">FROM&lt;/span> &lt;span class="n">activities&lt;/span> &lt;span class="k">WHERE&lt;/span> &lt;span class="k">data&lt;/span>&lt;span class="o">-&amp;gt;&amp;gt;&lt;/span>&lt;span class="s1">&amp;#39;type&amp;#39;&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s1">&amp;#39;Announce&amp;#39;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-postgresql" data-lang="postgresql">&lt;span class="line">&lt;span class="cl">&lt;span class="mf">.&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">bin&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">pleroma_ctl&lt;/span> &lt;span class="k">database&lt;/span> &lt;span class="k">vacuum&lt;/span> &lt;span class="k">full&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">SELECT&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="mf">.&lt;/span>&lt;span class="s">&amp;#34;actor&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="mf">.&lt;/span>&lt;span class="s">&amp;#34;data&amp;#34;&lt;/span>&lt;span class="o">-&amp;gt;&amp;gt;&lt;/span>&lt;span class="s1">&amp;#39;type&amp;#39;&lt;/span> &lt;span class="k">AS&lt;/span> &lt;span class="k">type&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="mf">.&lt;/span>&lt;span class="s">&amp;#34;updated_at&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">o&lt;/span>&lt;span class="mf">.&lt;/span>&lt;span class="s">&amp;#34;data&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">FROM&lt;/span> &lt;span class="s">&amp;#34;activities&amp;#34;&lt;/span> &lt;span class="k">AS&lt;/span> &lt;span class="n">a&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">INNER&lt;/span> &lt;span class="k">JOIN&lt;/span> &lt;span class="s">&amp;#34;objects&amp;#34;&lt;/span> &lt;span class="k">AS&lt;/span> &lt;span class="n">o&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">ON&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">o&lt;/span>&lt;span class="mf">.&lt;/span>&lt;span class="s">&amp;#34;data&amp;#34;&lt;/span>&lt;span class="o">-&amp;gt;&amp;gt;&lt;/span>&lt;span class="s1">&amp;#39;id&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">COALESCE&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">a&lt;/span>&lt;span class="mf">.&lt;/span>&lt;span class="s">&amp;#34;data&amp;#34;&lt;/span>&lt;span class="o">-&amp;gt;&lt;/span>&lt;span class="s1">&amp;#39;object&amp;#39;&lt;/span>&lt;span class="o">-&amp;gt;&amp;gt;&lt;/span>&lt;span class="s1">&amp;#39;id&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="mf">.&lt;/span>&lt;span class="s">&amp;#34;data&amp;#34;&lt;/span>&lt;span class="o">-&amp;gt;&amp;gt;&lt;/span>&lt;span class="s1">&amp;#39;object&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">WHERE&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="mf">.&lt;/span>&lt;span class="s">&amp;#34;data&amp;#34;&lt;/span>&lt;span class="o">-&amp;gt;&amp;gt;&lt;/span>&lt;span class="s1">&amp;#39;actor&amp;#39;&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s1">&amp;#39;https://pleroma.your.site/users/admin&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">OR&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="mf">.&lt;/span>&lt;span class="s">&amp;#34;data&amp;#34;&lt;/span>&lt;span class="o">-&amp;gt;&lt;/span>&lt;span class="s1">&amp;#39;to&amp;#39;&lt;/span> &lt;span class="o">?&lt;/span> &lt;span class="s1">&amp;#39;https://pleroma.your.site/users/admin&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">OR&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="mf">.&lt;/span>&lt;span class="s">&amp;#34;data&amp;#34;&lt;/span>&lt;span class="o">-&amp;gt;&lt;/span>&lt;span class="s1">&amp;#39;cc&amp;#39;&lt;/span> &lt;span class="o">?&lt;/span> &lt;span class="s1">&amp;#39;https://pleroma.your.site/users/admin&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">ORDER&lt;/span> &lt;span class="k">BY&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="mf">.&lt;/span>&lt;span class="s">&amp;#34;updated_at&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>üåü users Ë°®ÈáåÊúâÂæàÂ§öÂæàÂ§öÂè™Êúâ nickname ÁöÑÁî®Êà∑ÔºåÂÆÉ‰ª¨ÊâÄÂú®ÂÆû‰æãÊòØÁúüÂÆûÁöÑÔºå‰ΩÜÊòØ ID ‰∏çÊòØÔºåÊàëÊääËøô‰∫õË°åÂà†‰∫ÜÔºåÊöÇÊó∂ËøòÊ≤°Âá∫ÈóÆÈ¢ò&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-postgresql" data-lang="postgresql">&lt;span class="line">&lt;span class="cl">&lt;span class="k">SELECT&lt;/span> &lt;span class="o">*&lt;/span> &lt;span class="k">FROM&lt;/span> &lt;span class="n">users&lt;/span> &lt;span class="k">WHERE&lt;/span> &lt;span class="k">name&lt;/span> &lt;span class="k">IS&lt;/span> &lt;span class="k">NULL&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">DELETE&lt;/span> &lt;span class="k">FROM&lt;/span> &lt;span class="n">users&lt;/span> &lt;span class="k">WHERE&lt;/span> &lt;span class="k">name&lt;/span> &lt;span class="k">IS&lt;/span> &lt;span class="k">NULL&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>üåü Âà†Èô§‰∫Ü‰∏Ä‰∏™ bot ÁöÑËÆ∞ÂΩï&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-postgresql" data-lang="postgresql">&lt;span class="line">&lt;span class="cl">&lt;span class="n">pleroma&lt;/span>&lt;span class="o">=#&lt;/span> &lt;span class="k">SELECT&lt;/span> &lt;span class="o">*&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">FROM&lt;/span> &lt;span class="n">objects&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">WHERE&lt;/span> &lt;span class="k">data&lt;/span>&lt;span class="o">-&amp;gt;&amp;gt;&lt;/span>&lt;span class="s1">&amp;#39;actor&amp;#39;&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s1">&amp;#39;https://xx.ca/users/xxxBot&amp;#39;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">pleroma&lt;/span>&lt;span class="o">=#&lt;/span> &lt;span class="k">DELETE&lt;/span> &lt;span class="k">FROM&lt;/span> &lt;span class="n">objects&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">WHERE&lt;/span> &lt;span class="k">data&lt;/span>&lt;span class="o">-&amp;gt;&amp;gt;&lt;/span>&lt;span class="s1">&amp;#39;actor&amp;#39;&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s1">&amp;#39;https://xx.ca/users/xxxBot&amp;#39;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">DELETE&lt;/span> &lt;span class="mf">485&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>üåü Âà†Èô§‰∫Ü activities Ë°® 2023-06-15 ‰πãÂâç„ÄÅ‰∏éÊàëÊó†ËÆ®ËÆ∫ÂÖ≥Á≥ª„ÄÅ‰π¶Á≠æ‰ª•Â§ñÁöÑÂÜÖÂÆπ&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-postgresql" data-lang="postgresql">&lt;span class="line">&lt;span class="cl">&lt;span class="n">pleroma&lt;/span>&lt;span class="o">=#&lt;/span> &lt;span class="k">DELETE&lt;/span> &lt;span class="k">FROM&lt;/span> &lt;span class="n">activities&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">WHERE&lt;/span> &lt;span class="n">id&lt;/span> &lt;span class="k">NOT&lt;/span> &lt;span class="k">IN&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="k">SELECT&lt;/span> &lt;span class="n">activity_id&lt;/span> &lt;span class="k">FROM&lt;/span> &lt;span class="n">bookmarks&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">AND&lt;/span> &lt;span class="n">inserted_at&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="s1">&amp;#39;2023-06-15&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">AND&lt;/span> &lt;span class="n">id&lt;/span> &lt;span class="k">NOT&lt;/span> &lt;span class="k">IN&lt;/span> &lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">SELECT&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="mf">.&lt;/span>&lt;span class="n">id&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">FROM&lt;/span> &lt;span class="n">activities&lt;/span> &lt;span class="k">AS&lt;/span> &lt;span class="n">a&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">INNER&lt;/span> &lt;span class="k">JOIN&lt;/span> &lt;span class="n">objects&lt;/span> &lt;span class="k">AS&lt;/span> &lt;span class="n">o&lt;/span> &lt;span class="k">ON&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">o&lt;/span>&lt;span class="mf">.&lt;/span>&lt;span class="s">&amp;#34;data&amp;#34;&lt;/span>&lt;span class="o">-&amp;gt;&amp;gt;&lt;/span>&lt;span class="s1">&amp;#39;id&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">COALESCE&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">a&lt;/span>&lt;span class="mf">.&lt;/span>&lt;span class="s">&amp;#34;data&amp;#34;&lt;/span>&lt;span class="o">-&amp;gt;&lt;/span>&lt;span class="s1">&amp;#39;object&amp;#39;&lt;/span>&lt;span class="o">-&amp;gt;&amp;gt;&lt;/span>&lt;span class="s1">&amp;#39;id&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="mf">.&lt;/span>&lt;span class="s">&amp;#34;data&amp;#34;&lt;/span>&lt;span class="o">-&amp;gt;&amp;gt;&lt;/span>&lt;span class="s1">&amp;#39;object&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">WHERE&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="mf">.&lt;/span>&lt;span class="s">&amp;#34;data&amp;#34;&lt;/span>&lt;span class="o">-&amp;gt;&amp;gt;&lt;/span>&lt;span class="s1">&amp;#39;actor&amp;#39;&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s1">&amp;#39;https://ponderduck.cc/users/yaya&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">OR&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="mf">.&lt;/span>&lt;span class="s">&amp;#34;data&amp;#34;&lt;/span>&lt;span class="o">-&amp;gt;&lt;/span>&lt;span class="s1">&amp;#39;to&amp;#39;&lt;/span> &lt;span class="o">?&lt;/span> &lt;span class="s1">&amp;#39;https://ponderduck.cc/users/yaya&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">OR&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="mf">.&lt;/span>&lt;span class="s">&amp;#34;data&amp;#34;&lt;/span>&lt;span class="o">-&amp;gt;&lt;/span>&lt;span class="s1">&amp;#39;cc&amp;#39;&lt;/span> &lt;span class="o">?&lt;/span> &lt;span class="s1">&amp;#39;https://ponderduck.cc/users/yaya&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">DELETE&lt;/span> &lt;span class="mf">89430&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>üåü Âà†Èô§‰∫Ü objects Ë°®‰∏é‰ª•‰∏äÂÜÖÂÆπÂØπÂ∫îÁöÑË°å&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-postgresql" data-lang="postgresql">&lt;span class="line">&lt;span class="cl">&lt;span class="cm">/*
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm">ÂàõÂª∫‰∏Ä‰∏™‰∏¥Êó∂Ë°® temp_objects
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm">Êù•Â≠òÂÇ®ÈÇ£‰∫õÂú® activities Ë°®‰∏≠Êâæ‰∏çÂà∞ÂØπÂ∫îË°åÁöÑ objects Ë°®ÁöÑË°å
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm">*/&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">pleroma&lt;/span>&lt;span class="o">=#&lt;/span> &lt;span class="k">CREATE&lt;/span> &lt;span class="k">TEMPORARY&lt;/span> &lt;span class="k">TABLE&lt;/span> &lt;span class="n">temp_objects&lt;/span> &lt;span class="k">AS&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">SELECT&lt;/span> &lt;span class="n">o&lt;/span>&lt;span class="mf">.&lt;/span>&lt;span class="o">*&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">FROM&lt;/span> &lt;span class="n">objects&lt;/span> &lt;span class="n">o&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">LEFT&lt;/span> &lt;span class="k">JOIN&lt;/span> &lt;span class="n">activities&lt;/span> &lt;span class="n">a&lt;/span> &lt;span class="k">ON&lt;/span> &lt;span class="n">o&lt;/span>&lt;span class="mf">.&lt;/span>&lt;span class="k">data&lt;/span>&lt;span class="o">-&amp;gt;&amp;gt;&lt;/span>&lt;span class="s1">&amp;#39;id&amp;#39;&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="mf">.&lt;/span>&lt;span class="k">data&lt;/span>&lt;span class="o">-&amp;gt;&lt;/span>&lt;span class="s1">&amp;#39;object&amp;#39;&lt;/span>&lt;span class="o">-&amp;gt;&amp;gt;&lt;/span>&lt;span class="s1">&amp;#39;id&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">WHERE&lt;/span> &lt;span class="n">a&lt;/span>&lt;span class="mf">.&lt;/span>&lt;span class="k">data&lt;/span>&lt;span class="o">-&amp;gt;&lt;/span>&lt;span class="s1">&amp;#39;object&amp;#39;&lt;/span>&lt;span class="o">-&amp;gt;&amp;gt;&lt;/span>&lt;span class="s1">&amp;#39;id&amp;#39;&lt;/span> &lt;span class="k">IS&lt;/span> &lt;span class="k">NULL&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">SELECT&lt;/span> &lt;span class="mf">128652&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm">/*
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm">Êä•ÈîôÔºö
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm">ÊâßË°åÂà†Èô§Êìç‰ΩúÊó∂ËøùÂèç‰∫ÜÂ§ñÈîÆÁ∫¶Êùü
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm">objects Ë°®‰∏≠ÁöÑÊüê‰∫õË°å‰ªçÁÑ∂Ë¢´ deliveries Ë°®ÂºïÁî®ÔºåÂõ†Ê≠§Êó†Ê≥ïÁõ¥Êé•Âà†Èô§
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm">deliveries Ë°®ÊòØÁî®‰∫éË∑üË∏™Ê∂àÊÅØ‰º†ÈÄíÁöÑË°®ÔºåÈÄöÂ∏∏Âú® ActivityPub ÂçèËÆÆÁöÑÂÆûÁé∞‰∏≠‰ΩøÁî®
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm">ÂÆÉËÆ∞ÂΩï‰∫ÜÊ∂àÊÅØ‰º†ÈÄíÁöÑÁõ∏ÂÖ≥‰ø°ÊÅØÔºå‰æãÂ¶ÇÂèëÈÄÅÊñπ„ÄÅÊé•Êî∂Êñπ„ÄÅÊ∂àÊÅØÂÜÖÂÆπÁ≠â
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm">ÊØèÊù°ËÆ∞ÂΩï‰ª£Ë°®‰∏ÄÊ¨°Ê∂àÊÅØ‰º†ÈÄíÊàñ‰∫§‰∫í„ÄÇ
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm">Âú® Pleroma ‰∏≠Ôºådeliveries Ë°®Áî®‰∫éÂ≠òÂÇ®Ê∂àÊÅØÁöÑ‰º†ÈÄíÁä∂ÊÄÅÂíåÁõ∏ÂÖ≥‰ø°ÊÅØÔºå‰ª•Á°Æ‰øùÊ∂àÊÅØËÉΩÂ§üÊ≠£Á°ÆÂú∞‰º†ÈÄíÁªôÁõÆÊ†áÁî®Êà∑
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm">ÂÆÉ‰∏é objects Ë°®Âíå activities Ë°®‰πãÈó¥ÂèØËÉΩÂ≠òÂú®Â§ñÈîÆÂÖ≥Á≥ªÔºåÁî®‰∫é‰øùËØÅÊï∞ÊçÆÁöÑÂÆåÊï¥ÊÄß
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm">*/&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">pleroma&lt;/span>&lt;span class="o">=#&lt;/span> &lt;span class="k">DELETE&lt;/span> &lt;span class="k">FROM&lt;/span> &lt;span class="n">objects&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">WHERE&lt;/span> &lt;span class="n">id&lt;/span> &lt;span class="k">IN&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="k">SELECT&lt;/span> &lt;span class="n">id&lt;/span> &lt;span class="k">FROM&lt;/span> &lt;span class="n">temp_objects&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">ERROR&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="k">update&lt;/span> &lt;span class="k">or&lt;/span> &lt;span class="k">delete&lt;/span> &lt;span class="k">on&lt;/span> &lt;span class="k">table&lt;/span> &lt;span class="s">&amp;#34;objects&amp;#34;&lt;/span> &lt;span class="n">violates&lt;/span> &lt;span class="k">foreign&lt;/span> &lt;span class="k">key&lt;/span> &lt;span class="k">constraint&lt;/span> &lt;span class="s">&amp;#34;deliveries_object_id_fkey&amp;#34;&lt;/span> &lt;span class="k">on&lt;/span> &lt;span class="k">table&lt;/span> &lt;span class="s">&amp;#34;deliveries&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">DETAIL&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="k">Key&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">id&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mf">75072&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="k">is&lt;/span> &lt;span class="n">still&lt;/span> &lt;span class="n">referenced&lt;/span> &lt;span class="k">from&lt;/span> &lt;span class="k">table&lt;/span> &lt;span class="s">&amp;#34;deliveries&amp;#34;&lt;/span>&lt;span class="mf">.&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm">/*
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm">ÊâÄ‰ª•ÂÖàÂà†Èô§Ë¢´ deliveries Ë°®ÂºïÁî®ÁöÑË°å
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm">*/&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">pleroma&lt;/span>&lt;span class="o">=#&lt;/span> &lt;span class="k">DELETE&lt;/span> &lt;span class="k">FROM&lt;/span> &lt;span class="n">deliveries&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">WHERE&lt;/span> &lt;span class="n">user_id&lt;/span> &lt;span class="k">NOT&lt;/span> &lt;span class="k">IN&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="k">SELECT&lt;/span> &lt;span class="n">id&lt;/span> &lt;span class="k">FROM&lt;/span> &lt;span class="n">activities&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">DELETE&lt;/span> &lt;span class="mf">6372&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm">/*
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm">ÁªßÁª≠ÊâßË°åÂà†Èô§Êìç‰ΩúÂπ∂Âà†Èô§‰∏¥Êó∂Ë°®
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="cm">*/&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">pleroma&lt;/span>&lt;span class="o">=#&lt;/span> &lt;span class="k">DELETE&lt;/span> &lt;span class="k">FROM&lt;/span> &lt;span class="n">objects&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">WHERE&lt;/span> &lt;span class="n">id&lt;/span> &lt;span class="k">IN&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="k">SELECT&lt;/span> &lt;span class="n">id&lt;/span> &lt;span class="k">FROM&lt;/span> &lt;span class="n">temp_objects&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">DELETE&lt;/span> &lt;span class="mf">128652&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">pleroma&lt;/span>&lt;span class="o">=#&lt;/span> &lt;span class="k">DROP&lt;/span> &lt;span class="k">TABLE&lt;/span> &lt;span class="n">temp_objects&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">DROP&lt;/span> &lt;span class="k">TABLE&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>ÊúÄÂêé &lt;code>su pleroma -s $SHELL -lc &amp;quot;./bin/pleroma_ctl database vacuum full &amp;quot;&lt;/code>Ôºå‰ΩÜÊòØÔºÅSQL ÂëΩ‰ª§ÊúâÈóÆÈ¢òÔºåÂà†‰∫ÜÊàëÂ•ΩÂ§öÂòüÔºåÂëúÂëúÂëúÂì≠ÁùÄÂÄíÂú∞„ÄÇÈáçÊñ∞Áúã‰∫Ü‰∏Ä‰∏ãÊï∞ÊçÆÂ∫ìÂ§ßÂ∞èÔºåÁé∞Âú®ÂÄíÊòØÂèòÂæóËø∑‰Ω†‰∫ÜÔºå164 MB„ÄÇ‰ΩÜÊòØËøô‰∏ÄÂàáÁúüÁöÑÂÄºÂæóÂêó‚Ä¶‚Ä¶ÂÆåÂÖ®Âú®ÊàëËÆ°ÂàíÂ§ñÁöÑ‚Ä¶‚Ä¶&lt;/p>
&lt;h3 id="Â∏∏Áî®-psql-ÂëΩ‰ª§">Â∏∏Áî® psql ÂëΩ‰ª§&lt;/h3>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-postgresql" data-lang="postgresql">&lt;span class="line">&lt;span class="cl">&lt;span class="n">psql&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="n">U&lt;/span> &lt;span class="n">postgres&lt;/span> &lt;span class="o">#&lt;/span> &lt;span class="err">ÊåáÂÆöÁî®Êà∑ËøûÊé•&lt;/span>&lt;span class="n">PostgreSQL&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">psql&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="n">d&lt;/span> &lt;span class="n">postgres&lt;/span> &lt;span class="o">#&lt;/span> &lt;span class="err">ÊåáÂÆöÊï∞ÊçÆÂ∫ìËøûÊé•&lt;/span>&lt;span class="n">PostgreSQL&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">psql&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="n">h&lt;/span> &lt;span class="mf">127.0.0.1&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="n">p&lt;/span> &lt;span class="mf">5432&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="n">U&lt;/span> &lt;span class="n">pg&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="n">d&lt;/span> &lt;span class="n">postgres&lt;/span> &lt;span class="o">#&lt;/span> &lt;span class="err">ËøûÊé•Âà∞Êú¨Âú∞‰∏ªÊú∫Ôºà&lt;/span>&lt;span class="mf">127.0.0.1&lt;/span>&lt;span class="err">ÔºâÁöÑ&lt;/span> &lt;span class="n">PostgreSQL&lt;/span> &lt;span class="err">Êï∞ÊçÆÂ∫ìÊúçÂä°Âô®Ôºå‰ΩøÁî®Áî®Êà∑Âêç&lt;/span> &lt;span class="n">pg&lt;/span> &lt;span class="err">ËøûÊé•Âà∞Âêç‰∏∫&lt;/span> &lt;span class="n">postgres&lt;/span> &lt;span class="err">ÁöÑÊï∞ÊçÆÂ∫ì&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">\&lt;/span>&lt;span class="n">du&lt;/span> &lt;span class="o">#&lt;/span> &lt;span class="err">Êü•ÁúãÊâÄÊúâÁî®Êà∑&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">\&lt;/span>&lt;span class="n">l&lt;/span> &lt;span class="o">#&lt;/span> &lt;span class="err">Êü•ÁúãÊâÄÊúâÊï∞ÊçÆÂ∫ì&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">\&lt;/span>&lt;span class="n">c&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="n">dbname&lt;/span>&lt;span class="p">}&lt;/span> &lt;span class="o">#&lt;/span> &lt;span class="err">ÂàáÊç¢Âà∞Êï∞ÊçÆÂ∫ì&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">\&lt;/span>&lt;span class="n">dt&lt;/span> &lt;span class="o">#&lt;/span> &lt;span class="err">Êü•ÁúãÂΩìÂâçÊï∞ÊçÆÂ∫ìÁöÑÊâÄÊúâË°®&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">\&lt;/span>&lt;span class="n">d&lt;/span> &lt;span class="p">{&lt;/span>&lt;span class="n">tablename&lt;/span>&lt;span class="p">}&lt;/span> &lt;span class="o">#&lt;/span> &lt;span class="err">Êü•ÁúãÊåáÂÆöË°®&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">SHOW&lt;/span> &lt;span class="n">data_directory&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="o">#&lt;/span> &lt;span class="err">Êü•ÁúãÊï∞ÊçÆÁõÆÂΩï&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="err">\&lt;/span>&lt;span class="n">q&lt;/span> &lt;span class="o">#&lt;/span> &lt;span class="err">ÈÄÄÂá∫‰∫§‰∫íÊü•ËØ¢Ê®°Âºè&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div></description></item><item><title>Pleroma | Âú® Debian ‰∏äÊê≠Âª∫ pleroma ÂÆû‰æã</title><link>https://falasool.github.io/2023/new-pleroma-isntance-on-debian11/</link><pubDate>Sat, 03 Jun 2023 01:29:15 +0800</pubDate><guid>https://falasool.github.io/2023/new-pleroma-isntance-on-debian11/</guid><description>&lt;!-- raw HTML omitted -->
&lt;h2 id="ÂâçÁΩÆÊ≠•È™§">ÂâçÁΩÆÊ≠•È™§&lt;/h2>
&lt;h3 id="ÂÆâË£Ö‰æùËµñ">ÂÆâË£Ö‰æùËµñ&lt;/h3>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># Êõ¥Êñ∞&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">apt-get update
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># ÂÆâË£Ö‰æùËµñ&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">apt install unzip libncurses5 postgresql postgresql-contrib nginx snapd libmagic-dev
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">apt install imagemagick ffmpeg libimage-exiftool-perl
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="postgresql-ÊÄßËÉΩË∞É‰ºò">&lt;del>PostgreSQL ÊÄßËÉΩË∞É‰ºò&lt;/del>&lt;/h3>
&lt;p>&lt;del>Ê†πÊçÆ pgTune ‰øÆÊîπÈÖçÁΩÆÊñá‰ª∂&lt;/del>&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">vim /etc/postgresql/13/main/postgresql.conf
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>ÊàëÊää .conf ÊîπÂæóÂá∫Èîô‰∫ÜÔºåÊâÄ‰ª•Ëøô‰∏ÄÊ≠•Ê≤°ÂÅö&lt;/p>
&lt;p>ÈáçÂêØ PostgreSQL&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">systemctl restart postgresql
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="ÂÆâË£Ö-pleroma">ÂÆâË£Ö Pleroma&lt;/h2>
&lt;ol>
&lt;li>ÂàõÂª∫ Pleroma Áî®Êà∑&lt;/li>
&lt;/ol>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">adduser --system --shell /bin/false --home /opt/pleroma pleroma
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>ÂàõÂª∫ pleroma Áî®Êà∑ÔºåÊåáÂÆöÂÆ∂ÁõÆÂΩï‰∏∫ &lt;code>/opt/pleroma&lt;/code>ÔºåÁî®‰∫éÈÖçÁΩÆ pleroma ÁöÑÁéØÂ¢ÉÂíåÊñá‰ª∂ÔºåÂπ∂Á¶ÅÊ≠¢ÁôªÂΩï&lt;/p>
&lt;ol start="2">
&lt;li>Ê£ÄÊµãÁ≥ªÁªüÊû∂ÊûÑ‰∏é libc ÁâàÊú¨ÔºåÂπ∂Ê†πÊçÆÁªìÊûúËÆæÁΩÆÁéØÂ¢ÉÂèòÈáè FLAVOUR&lt;/li>
&lt;/ol>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">&lt;span class="nv">arch&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="k">$(&lt;/span>uname -m&lt;span class="k">)&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="k">if&lt;/span> &lt;span class="o">[&lt;/span> &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="nv">$arch&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;x86_64&amp;#34;&lt;/span> &lt;span class="o">]&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="k">then&lt;/span> &lt;span class="nv">arch&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;amd64&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="k">elif&lt;/span> &lt;span class="o">[&lt;/span> &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="nv">$arch&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;armv7l&amp;#34;&lt;/span> &lt;span class="o">]&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="k">then&lt;/span> &lt;span class="nv">arch&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;arm&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="k">elif&lt;/span> &lt;span class="o">[&lt;/span> &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="nv">$arch&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;aarch64&amp;#34;&lt;/span> &lt;span class="o">]&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="k">then&lt;/span> &lt;span class="nv">arch&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;arm64&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="k">else&lt;/span> &lt;span class="nb">echo&lt;/span> &lt;span class="s2">&amp;#34;Unsupported arch: &lt;/span>&lt;span class="nv">$arch&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span>&amp;gt;&lt;span class="p">&amp;amp;&lt;/span>2&lt;span class="p">;&lt;/span>&lt;span class="k">fi&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="k">if&lt;/span> getconf GNU_LIBC_VERSION&amp;gt;/dev/null&lt;span class="p">;&lt;/span>&lt;span class="k">then&lt;/span> &lt;span class="nv">libc_postfix&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="k">elif&lt;/span> &lt;span class="o">[&lt;/span> &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="k">$(&lt;/span>ldd 2&amp;gt;&lt;span class="p">&amp;amp;&lt;/span>1&lt;span class="p">|&lt;/span>head -c 9&lt;span class="k">)&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;musl libc&amp;#34;&lt;/span> &lt;span class="o">]&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="k">then&lt;/span> &lt;span class="nv">libc_postfix&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;-musl&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="k">elif&lt;/span> &lt;span class="o">[&lt;/span> &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="k">$(&lt;/span>find /lib/libc.musl*&lt;span class="p">|&lt;/span>wc -l&lt;span class="k">)&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span> &lt;span class="o">]&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="k">then&lt;/span> &lt;span class="nv">libc_postfix&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;-musl&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="k">else&lt;/span> &lt;span class="nb">echo&lt;/span> &lt;span class="s2">&amp;#34;Unsupported libc&amp;#34;&lt;/span>&amp;gt;&lt;span class="p">&amp;amp;&lt;/span>2&lt;span class="p">;&lt;/span>&lt;span class="k">fi&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="nb">echo&lt;/span> &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="nv">$arch$libc_postfix&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># ËæìÂá∫&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">amd64
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>ÊâÄ‰ª•ËÆæÁΩÆÁéØÂ¢ÉÂèòÈáè‰∏∫&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">&lt;span class="nb">export&lt;/span> &lt;span class="nv">FLAVOUR&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;amd64&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;ol start="3">
&lt;li>‰∏ãËΩΩ pleroma Êñá‰ª∂Âà∞ /tmp ÁõÆÂΩïÂπ∂Ëß£Âéã&lt;/li>
&lt;/ol>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">su pleroma -s &lt;span class="nv">$SHELL&lt;/span> -lc &lt;span class="s2">&amp;#34;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">curl &amp;#39;https://git.pleroma.social/api/v4/projects/2/jobs/artifacts/stable/download?job=&lt;/span>&lt;span class="nv">$FLAVOUR&lt;/span>&lt;span class="s2">&amp;#39; -o /tmp/pleroma.zip
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">unzip /tmp/pleroma.zip -d /tmp/
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;ol start="4">
&lt;li>ÁßªÂä®Êñá‰ª∂Âà∞ /opt/pleroma Âπ∂Âà†Èô§ /tmp&lt;/li>
&lt;/ol>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">su pleroma -s &lt;span class="nv">$SHELL&lt;/span> -lc &lt;span class="s2">&amp;#34;
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">mv /tmp/release/* /opt/pleroma
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">rmdir /tmp/release
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">rm /tmp/pleroma.zip
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;ol start="5">
&lt;li>ÂàõÂª∫ÂêÑÁßçÁõÆÂΩïÂèäËµãÊùÉÊìç‰Ωú uploads ÁõÆÂΩïÂπ∂ËµãÊùÉ&lt;/li>
&lt;/ol>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># uploads ÁõÆÂΩï &amp;amp; ËµãÊùÉ&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">mkdir -p /var/lib/pleroma/uploads
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">chown -R pleroma /var/lib/pleroma
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># static ÁõÆÂΩï &amp;amp; ËÆæÁΩÆÊâÄÊúâËÄÖ‰∏∫ pleroma&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">mkdir -p /var/lib/pleroma/static
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">chown -R pleroma /var/lib/pleroma
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># ÈÖçÁΩÆÊñá‰ª∂ÁõÆÂΩï &amp;amp; ËÆæÁΩÆÊâÄÊúâËÄÖ‰∏∫ pleroma&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">mkdir -p /etc/pleroma
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">chown -R pleroma /etc/pleroma
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;ol start="6">
&lt;li>ÁîüÊàêÈÖçÁΩÆÊñá‰ª∂&lt;/li>
&lt;/ol>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">su pleroma -s &lt;span class="nv">$SHELL&lt;/span> -lc &lt;span class="s2">&amp;#34;./bin/pleroma_ctl instance gen --output /etc/pleroma/config.exs --output-psql /tmp/setup_db.psql&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>ÂõûÁ≠îËã•Âπ≤ÈóÆÈ¢ò&lt;/p>
&lt;ol start="7">
&lt;li>ÂàõÂª∫ postgres Êï∞ÊçÆÂ∫ì&lt;/li>
&lt;/ol>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl"> su postgres -s &lt;span class="nv">$SHELL&lt;/span> -lc &lt;span class="s2">&amp;#34;psql -f /tmp/setup_db.psql&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;ol start="8">
&lt;li>Êõ¥Êñ∞Êï∞ÊçÆÂ∫ì schema&lt;/li>
&lt;/ol>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">su pleroma -s &lt;span class="nv">$SHELL&lt;/span> -lc &lt;span class="s2">&amp;#34;./bin/pleroma_ctl migrate&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;ol start="9">
&lt;li>ÂêØÂä®ÂÆû‰æã&lt;/li>
&lt;/ol>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">su pleroma -s $SHELL -lc &amp;#34;./bin/pleroma daemon&amp;#34;
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;ol start="10">
&lt;li>Á≠âÂæÖ‰∏Ä‰ºöÊ£ÄÊµãÂÆû‰æãËøêË°åÊÉÖÂÜµ&lt;/li>
&lt;/ol>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">curl http://localhost:4000/api/v1/instance
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;ol start="10">
&lt;li>ÊöÇÂÅúÂÆû‰æãËøêË°å&lt;/li>
&lt;/ol>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">su pleroma -s $SHELL -lc &amp;#34;./bin/pleroma stop&amp;#34;
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="ÈÄöÈÖçÁ¨¶-ssl-ËØÅ‰π¶Ëá™Âä®Áª≠Êúü">ÈÄöÈÖçÁ¨¶ SSL ËØÅ‰π¶Ëá™Âä®Áª≠Êúü&lt;/h2>
&lt;p>ÂÆâË£Ö certbot&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">snap install core
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">snap refresh core
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">snap install --classic certbot
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">ln -s /snap/bin/certbot /usr/bin/certbot
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">snap &lt;span class="nb">set&lt;/span> certbot trust-plugin-with-root&lt;span class="o">=&lt;/span>ok
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">snap install certbot-dns-cloudflare
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>ÊîæÁΩÆÂá≠ÊçÆ&lt;/p>
&lt;p>Token Âú® &lt;a class="link" href="https://dash.cloudflare.com/profile/api-tokens" target="_blank" rel="noopener"
>https://dash.cloudflare.com/profile/api-tokens&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
ÁîüÊàê&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">sudo mkdir -p /root/.secrets/
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sudo touch /root/.secrets/cloudflare.ini
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># Ê∑ªÂä†/.secretsÁõÆÂΩï‰∏écloudflare.iniÊñá‰ª∂&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sudo chmod &lt;span class="m">0700&lt;/span> /root/.secrets/
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sudo chmod &lt;span class="m">0400&lt;/span> /root/.secrets/cloudflare.ini
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># ÊåáÂÆöÊùÉÈôê&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">vim /root/.secrets/cloudflare.ini
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># Cloudflare API token used by Certbot&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nv">dns_cloudflare_api_token&lt;/span> &lt;span class="o">=&lt;/span> 0123456789abcdef0123456789abcdef01234567
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Áî≥ËØ∑ËØÅ‰π¶&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">certbot certonly &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> --dns-cloudflare &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> --dns-cloudflare-credentials ~/.secrets/cloudflare.ini &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> -d example.com
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> -d *.example.com
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-stylus" data-lang="stylus">&lt;span class="line">&lt;span class="cl">&lt;span class="err">certbot&lt;/span> &lt;span class="err">certonly&lt;/span> &lt;span class="err">\&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">--&lt;/span>&lt;span class="err">dns&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="err">cloudflare&lt;/span> &lt;span class="err">\&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">--&lt;/span>&lt;span class="err">dns&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="err">cloudflare&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="err">credentials&lt;/span> &lt;span class="o">~/&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nc">secrets&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="err">cloudflare&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nc">ini&lt;/span> &lt;span class="err">\&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">-&lt;/span>&lt;span class="err">d&lt;/span> &lt;span class="err">ponderduck&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nc">cc&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">-&lt;/span>&lt;span class="err">d&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nc">ponderduck&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nc">cc&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>ÊµãËØïËá™Âä®Âª∂Êúü&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">certbot renew --dry-run
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="nginx">Nginx&lt;/h2>
&lt;p>Â§çÂà∂ Pleroma ÁöÑ nginx ÈÖçÁΩÆÂà∞ nginx ÁõÆÂΩï&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">cp /opt/pleroma/installation/pleroma.nginx /etc/nginx/sites-available/pleroma.conf
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">ln -s /etc/nginx/sites-available/pleroma.conf /etc/nginx/sites-enabled/pleroma.conf
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>ÁºñËæë Pleroma ÁöÑ nginx ÈÖçÁΩÆÊñá‰ª∂ÔºåÊîπÊàêËá™Â∑±ÁöÑÂüüÂêç&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">vim /etc/nginx/sites-available/pleroma.conf
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>ËøôÈáåÊîπÊàê&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">location / &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="m">301&lt;/span> https://&amp;lt;domain&amp;gt;&lt;span class="nv">$request_uri&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>ÈáçÂêØ nginx&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">nginx -t
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">systemctl start nginx
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># or&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">nginx -s reload
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="ËÆæÁΩÆÁ≥ªÁªüÊúçÂä°">ËÆæÁΩÆÁ≥ªÁªüÊúçÂä°&lt;/h2>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">cp /opt/pleroma/installation/pleroma.service /etc/systemd/system/pleroma.service
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">systemctl start pleroma
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">systemctl &lt;span class="nb">enable&lt;/span> pleroma
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>ÂèØ‰ª•ËÆøÈóÆÂï¶&lt;/p>
&lt;h2 id="ÂàõÂª∫ÁÆ°ÁêÜÂëòË¥¶Êà∑">ÂàõÂª∫ÁÆ°ÁêÜÂëòË¥¶Êà∑&lt;/h2>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-perl" data-lang="perl">&lt;span class="line">&lt;span class="cl">&lt;span class="n">cd&lt;/span> &lt;span class="sr">/opt/&lt;/span>&lt;span class="n">pleroma&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">bin&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">su&lt;/span> &lt;span class="n">pleroma&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="n">s&lt;/span> &lt;span class="nv">$SHELL&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="nb">lc&lt;/span> &lt;span class="s">&amp;#34;./bin/pleroma_ctl user new &amp;lt;joeuser&amp;gt; &amp;lt;joeuser@sld.tld&amp;gt; --admin&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-perl" data-lang="perl">&lt;span class="line">&lt;span class="cl">&lt;span class="n">cd&lt;/span> &lt;span class="sr">/opt/&lt;/span>&lt;span class="n">pleroma&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">bin&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">su&lt;/span> &lt;span class="n">pleroma&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="n">s&lt;/span> &lt;span class="nv">$SHELL&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="nb">lc&lt;/span> &lt;span class="s">&amp;#34;./bin/pleroma_ctl user new admin admin@ponderduck.cc --admin&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="ÂèÇËÄÉ--Ëá¥Ë∞¢">ÂèÇËÄÉ &amp;amp; Ëá¥Ë∞¢&lt;/h2>
&lt;p>&lt;a class="link" href="https://suicablog.cobaltkiss.blue/posts/pleroma-installation-on-linux-using-otp-releases/" target="_blank" rel="noopener"
>Âú® Debian 10 / Ubuntu 20.04 ‰∏äÂÆâË£Ö Pleroma &lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
&lt;/p>
&lt;p>&lt;a class="link" href="https://suicablog.cobaltkiss.blue/posts/wildcard-with-cloudflare-using-certbot/" target="_blank" rel="noopener"
>ÈÄöÈÖçÁ¨¶ÂüüÂêçËØÅ‰π¶Áî≥ËØ∑‰∏éËá™Âä®Áª≠Ë¥πÔºàNginxÔºåDebian 10Ôºâ&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
&lt;/p>
&lt;p>&lt;a class="link" href="https://lily-is.land/infra/pleroma/-/blob/servant/docs/configuration/cheatsheet.md" target="_blank" rel="noopener"
>Configuration Cheat Sheet&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
&lt;/p></description></item><item><title>Pleroma | Ë¥≠‰π∞ÊúçÂä°Âô®Âèä‰πãÂêéË¶ÅÂÅö‰ªÄ‰πà</title><link>https://falasool.github.io/2023/buy-and-set-ups/</link><pubDate>Thu, 01 Jun 2023 23:29:38 +0800</pubDate><guid>https://falasool.github.io/2023/buy-and-set-ups/</guid><description>&lt;!-- raw HTML omitted -->
&lt;h2 id="Ë¥≠‰π∞ÊúçÂä°Âô®">Ë¥≠‰π∞ÊúçÂä°Âô®&lt;/h2>
&lt;p>ÈÄâ intel - ÁæéË•øÊú∫Êàø - Debian11 - 1C1G 25G SSD 1TB&lt;/p>
&lt;p>Ê∑ªÂä† SSHÔºåÁîüÊàêÂØÜÈí•&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">ssh-keygen -t rsa -b 4096 -C &amp;#34;example comment&amp;#34;
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>ÊâìÂç∞Âá∫ÂÖ¨Èí•ÂÜÖÂÆπÔºåÁ≤òË¥¥Ëøõ VPS ÊúçÂä°ÂïÜÁöÑÁïåÈù¢Âéª&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl"> cat /Users/userName/.ssh/id_rsa.pub
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Áî® SSH ÁªàÁ´ØËøúÁ®ãÁôªÂΩïÔºåÊµãËØï IP ‰∏≠ÂõΩÂ§ßÈôÜÊòØÂê¶ÂèØÁî®&lt;/p>
&lt;ul>
&lt;li>&lt;a class="link" href="http://ping.pe/" target="_blank" rel="noopener"
>http://ping.pe/&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
&lt;/li>
&lt;li>&lt;a class="link" href="https://ping.chinaz.com/" target="_blank" rel="noopener"
>https://ping.chinaz.com/&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
&lt;/li>
&lt;/ul>
&lt;h2 id="‰øÆÊîπÊúçÂä°Âô®Êó∂Âå∫">‰øÆÊîπÊúçÂä°Âô®Êó∂Âå∫&lt;/h2>
&lt;p>Êü•ÁúãÂΩìÂâçÊó∂Âå∫&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">admin@xxx:~# date
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Fri 02 Jun 2023 01:25:08 PM UTC
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>‰øÆÊîπÊó∂Âå∫ÔºåÁÑ∂ÂêéÂÜçÊ¨°Ê£ÄÊü•ÂΩìÂâçÊó∂Âå∫&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl"># Âà†Èô§ÈªòËÆ§Êó∂Âå∫
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">admin@xxx:~# rm -rf /etc/localtime
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"># ‰øÆÊîπ‰∏∫‰∏äÊµ∑
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">admin@xxx:~# ln -s /usr/share/zoneinfo/Asia/Shanghai /etc/localtime
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"># Ê£ÄÊü•
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">admin@xxx:~# date
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Fri 02 Jun 2023 01:27:14 PM CST
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="ÂÆâË£ÖÂ∏∏Áî®Â∑•ÂÖ∑">ÂÆâË£ÖÂ∏∏Áî®Â∑•ÂÖ∑&lt;/h2>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">apt update &amp;amp;&amp;amp; apt install curl wget screen tree git htop bash-completion fail2ban vim -y
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;ul>
&lt;li>
&lt;p>curlÔºöËØ∑Ê±Ç web ÊúçÂä°Âô®&lt;/p>
&lt;/li>
&lt;li>
&lt;p>wgetÔºö‰∏ãËΩΩËΩØ‰ª∂ÂåÖ&lt;/p>
&lt;/li>
&lt;li>
&lt;p>screenÔºöÁªàÁ´ØÁÆ°ÁêÜÂ∑•ÂÖ∑ÔºåÈöèÊâã &lt;code>screen -S name&lt;/code>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>treeÔºöÊòæÁ§∫ÁõÆÂΩïÁªìÊûÑ&lt;/p>
&lt;/li>
&lt;li>
&lt;p>htopÔºöÁõëÊéßËøõÁ®ã&lt;/p>
&lt;/li>
&lt;li>
&lt;p>bash-completionÔºöÂëΩ‰ª§Ëá™Âä®Ë°•ÂÖ®Â∑•ÂÖ∑ÔºåÊåâ [Tab][Tab]&lt;/p>
&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># ÂÆö‰Ωç bash-completion ÈÖçÁΩÆÊñá‰ª∂&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">find / -name &lt;span class="s2">&amp;#34;bash_completion.d&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">/etc/bash_completion.d
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># Ê∑ªÂä† docker ÁöÑËá™Âä®Ë°•ÂÖ®ÔºåÈáçÂêØ bash&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">cd&lt;/span> /etc/bash_completion.d
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">curl -L -O https://raw.githubusercontent.com/docker/compose/&lt;span class="k">$(&lt;/span>docker-compose version --short&lt;span class="k">)&lt;/span>/contrib/completion/bash/docker-compose
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;ul>
&lt;li>fail2banÔºöÈò≤Ê≠¢Êö¥ÂäõÁ†¥Ëß£ÊîªÂáªÔºåÂú® &lt;code>/etc/fail2ban/jail.conf&lt;/code> ‰øÆÊîπÈÖçÁΩÆÔºåÁÑ∂ÂêéÊøÄÊ¥ª&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># Ê£ÄÈ™åÊúâÊ≤°ÊúâÊ≠£Á°ÆÂêØÂä®&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">fail2ban-client ping
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># Êü•ÁúãÁõÆÂâçÂêØÁî®ÁöÑËßÑÂàô&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">fail2ban-client status
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># Êü•ÁúãÊüê‰∏™ËßÑÂàô‰∏ãË¢´Â∞ÅÁ¶ÅÁöÑÊ¨°Êï∞„ÄÅip&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">fail2ban-client status sshd
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="Êõ¥ÊîπÁªàÁ´ØÈ¢úËâ≤">Êõ¥ÊîπÁªàÁ´ØÈ¢úËâ≤&lt;/h2>
&lt;p>ËøõÂÖ• /etc/profile Êñá‰ª∂Ôºå&lt;code>vim /etc/profile&lt;/code>Ôºå‰øÆÊîπÂëΩ‰ª§Ë°åÊèêÁ§∫Á¨¶ÁöÑÈ¢úËâ≤ËÆæÁΩÆ&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">&lt;span class="nv">PS1&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s1">&amp;#39;[\[\e[32m\]\u\[\e[0m\]\[\e[35m\]@\[\e[0m\]\[\e[33m\]\h\[\e[0m\]\[\e[36m\] \W\[\e[0m\]]\$ &amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># Êõ¥Êñ∞Êñá‰ª∂&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">source&lt;/span> /etc/profile
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Ëß£ÈáäÔºöPS1ÂèòÈáè‰ª£Ë°®&amp;lt;Áî®Êà∑Âêç+‰∏ªÊú∫Âêç+Ë∑ØÂæÑÂêçÔºàÈïøË∑ØÂæÑÔºâ+ $&amp;gt;&lt;/p>
&lt;h2 id="Ê∑ªÂä†-swap">Ê∑ªÂä† SWAP&lt;/h2>
&lt;p>Á°ÆËÆ§ÊòØÂê¶Â∑≤Â≠òÂú® SWAP&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">free -m
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Êúâ Swap È°πËÄå‰∏î total Âàó‰∏ç‰∏∫Èõ∂ÔºåËØ¥Êòé Swap Â∑≤Â≠òÂú®ÔºåÂèØ‰ª•Ëá™Ë°å‰øÆÊîπÂàÜÂå∫ÂÆπÈáèÔºåÂèÇËÄÉÔºö‰∏∫ &lt;a class="link" href="https://www.vvave.net/archives/add-swap-and-repartition-swap-for-linux.html" target="_blank" rel="noopener"
>Linux Ê∑ªÂä† swap ÂàÜÂå∫Êàñ‰øÆÊîπ swap ÂàÜÂå∫ÂÆπÈáè&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
&lt;/p>
&lt;h2 id="Èò≤ÁÅ´Â¢ô">Èò≤ÁÅ´Â¢ô&lt;/h2>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">ufw allow OpenSSH
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">ufw &lt;span class="nb">enable&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">ufw allow http
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">ufw allow https
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">ufw allow 80/tcp
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">ufw allow 443/tcp
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">ufw status
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># or&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">ufw default deny incoming
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">ufw default allow outgoing
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">ufw allow ssh
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">ufw allow http
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">ufw allow https
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">ufw &lt;span class="nb">enable&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">ufw status numbered
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">ufw reload
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="ÂèÇËÄÉ--Ëá¥Ë∞¢">ÂèÇËÄÉ &amp;amp; Ëá¥Ë∞¢&lt;/h2>
&lt;p>&lt;a class="link" href="https://einverne.github.io/post/2015/12/things-to-do-after-buying-vps.html#change-default-shell" target="_blank" rel="noopener"
>Ë¥≠‰π∞ VPS ‰πãÂêéÈúÄË¶ÅÂÅöÁöÑ‰∫ãÊÉÖ&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
&lt;/p>
&lt;p>&lt;a class="link" href="https://einverne.github.io/post/2021/07/vps-benchmark.html" target="_blank" rel="noopener"
>VPS ÊÄßËÉΩÊµãËØï&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
&lt;/p>
&lt;p>&lt;a class="link" href="https://pullopen.github.io/%E5%9F%BA%E7%A1%80%E6%90%AD%E5%BB%BA/2020/10/19/Mastodon-on-Docker.html" target="_blank" rel="noopener"
>Â¶Ç‰ΩïÂà©Áî®DockerÊê≠Âª∫MastodonÂÆû‰æãÔºà‰∏ÄÔºâÔºöÂü∫Á°ÄÊê≠Âª∫ÁØá&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
&lt;/p></description></item><item><title>Pleroma | Áª¥Êä§Êó•Âøó(‰∫å)</title><link>https://falasool.github.io/2023/pleroma-operation-and-maintenance/</link><pubDate>Mon, 15 May 2023 18:52:31 +0800</pubDate><guid>https://falasool.github.io/2023/pleroma-operation-and-maintenance/</guid><description>&lt;p>ÂâçÊÉÖÔºöpostgreSQL Êï∞ÊçÆÂ∫ìËææÂà∞‰∫ÜÊÉä‰∫∫ÁöÑ 15GÔºåÊääÁ°¨ÁõòÊíëÁàÜ‰∫Ü‰∏îÊä¢‰øÆÊó†Êûú„ÄÇËøôÊòØÁÇ∏Á´ôÈáçÊù•ÂêéÁöÑËøêÁª¥Êó•Âøó„ÄÇ&lt;a class="link" href="https://ponder.lol/2023/pleroma-operation-and-maintenance2/" target="_blank" rel="noopener"
>Pleroma | Áª¥Êä§Êó•Âøó(‰∏Ä)&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
Â∑≤ËÆ∞ÂΩïÁöÑÂÜÖÂÆπ‰∏çÂÜçÈáçÂ§ç&lt;/p>
&lt;!-- raw HTML omitted -->
&lt;h2 id="Êï∞ÊçÆÂ∫ìÁõ∏ÂÖ≥">Êï∞ÊçÆÂ∫ìÁõ∏ÂÖ≥&lt;/h2>
&lt;ol>
&lt;li>ÁôªÂΩïÊï∞ÊçÆÂ∫ìÔºåÊä•ÈîôÔºöpsql: error: FATAL: Peer authentication failed for user &amp;ldquo;postgres&amp;rdquo;&lt;/li>
&lt;/ol>
&lt;p>ÊåâÁÖß &lt;a class="link" href="https://stackoverflow.com/questions/18664074/getting-error-peer-authentication-failed-for-user-postgres-when-trying-to-ge" target="_blank" rel="noopener"
>https://stackoverflow.com/questions/18664074/getting-error-peer-authentication-failed-for-user-postgres-when-trying-to-ge&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-diff" data-lang="diff">&lt;span class="line">&lt;span class="cl"># ‰øÆÊîπÈÖçÁΩÆÊñá‰ª∂ÔºàÊîπÊàê md5 ‰πüÂèØ‰ª•Ôºå‰ΩÜÊòØ trust ËÉΩÂÖçÂØÜÁôªÂΩïÔºâ
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">vim /etc/postgresql/13/main/pg_hba.conf
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="gi">+ local all postgres trust
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="gi">&lt;/span># ÈáçÂêØÊï∞ÊçÆÂ∫ì
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">service postgresql restart
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;ol start="2">
&lt;li>&lt;a class="link" href="https://blog.debula.ml/" target="_blank" rel="noopener"
>@debula&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
Âíå &lt;a class="link" href="https://seviche.cc/about" target="_blank" rel="noopener"
>@Seviche&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
Â∏ÆÂøôÊèêÂèñ‰∫ÜÊàëÁöÑËøúÁ®ãÁºìÂ≠ò orzÔºåËÆ∞ÂΩï‰∏Ä‰∏ãÔºö&lt;/li>
&lt;/ol>
&lt;p>‰ªäÂ§©Â∞ùËØï‰∫Ü‰∏Ä‰∏ã ÔºåÂú® JSON ‰∏≠ÂèØ‰ª•‰ΩøÁî® &lt;code>-&amp;gt;&amp;gt;&lt;/code> Êù•ÊèêÂèñ jsonb ÁöÑ key ÂØπÂ∫îÁöÑ valueÔºåÊØîÂ¶ÇÔºö&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">select data from activities where data-&amp;gt;&amp;gt;&amp;#39;actor&amp;#39; = &amp;#39;https://ponderduck.cc/users/yaya&amp;#39; order by data-&amp;gt;&amp;gt;&amp;#39;published&amp;#39;
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>ÂèØ‰ª•ÊèêÂèñÁî®Êà∑ÊâÄÊúâÁöÑ activitiesÔºåÂÜç join ‰∏Ä‰∏ã objects Â∞±ÂæóÂà∞‰∫ÜÁªìÊûúÔºö&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">SELECT a.&amp;#34;actor&amp;#34;, a.&amp;#34;data&amp;#34;-&amp;gt;&amp;gt;&amp;#39;type&amp;#39; AS type, a.&amp;#34;updated_at&amp;#34;, o.&amp;#34;data&amp;#34;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">FROM &amp;#34;activities&amp;#34; AS a
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">INNER JOIN &amp;#34;objects&amp;#34; AS o
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">ON (o.&amp;#34;data&amp;#34;-&amp;gt;&amp;gt;&amp;#39;id&amp;#39;) = COALESCE(a.&amp;#34;data&amp;#34;-&amp;gt;&amp;#39;object&amp;#39;-&amp;gt;&amp;gt;&amp;#39;id&amp;#39;, a.&amp;#34;data&amp;#34;-&amp;gt;&amp;gt;&amp;#39;object&amp;#39;)
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">WHERE a.&amp;#34;data&amp;#34;-&amp;gt;&amp;gt;&amp;#39;actor&amp;#39; = &amp;#39;https://ponderduck.cc/users/yaya&amp;#39;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">OR a.&amp;#34;data&amp;#34;-&amp;gt;&amp;#39;to&amp;#39; ? &amp;#39;https://ponderduck.cc/users/yaya&amp;#39;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">OR a.&amp;#34;data&amp;#34;-&amp;gt;&amp;#39;cc&amp;#39; ? &amp;#39;https://ponderduck.cc/users/yaya&amp;#39;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">ORDER BY a.&amp;#34;updated_at&amp;#34; LIMIT 5;
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>ÊúÄÂêéÂÜç copy Âà∞Êú¨Âú∞ÁõÆÂΩïÂ∞±Â•Ω‰∫ÜÔΩû&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">copy(SELECT ...) to &amp;#39;/var/lib/postgresql/yaya.csv&amp;#39; (FORMAT &amp;#39;csv&amp;#39;, DELIMITER &amp;#39;,&amp;#39;, HEADER true, NULL &amp;#39;UNKOWN&amp;#39;, ENCODING &amp;#39;UTF8&amp;#39;);
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>ÊàëÂØºÂá∫ÁöÑÂåÖÊã¨Êî∂ËóèÂíåÂà´‰∫∫ÁöÑ‰∫íÂä®ÔºàÂõûÂ§ç/Êî∂Ëóè/ËΩ¨ÂèëÔºâÔºåÂ¶ÇÊûúÂè™Ë¶ÅÂàõÂª∫ÁöÑËØùÔºö&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">pleroma=# select count(data) from activities where data-&amp;gt;&amp;gt;&amp;#39;actor&amp;#39; = &amp;#39;https://ponderduck.cc/users/yaya&amp;#39; and data-&amp;gt;&amp;gt;&amp;#39;type&amp;#39; = &amp;#39;Create&amp;#39;;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> count
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">\-------
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> 1624
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">(1 row)
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>‰πüÂèØ‰ª•ÁúãËøôÁØáË∂ÖÊ£íÁöÑÂçöÂÆ¢Ôºö&lt;a class="link" href="https://blog.debula.ml/index.php/archives/5/#1.%E7%A4%BE%E4%BA%A4%E7%BD%91%E7%BB%9C%EF%BC%9APleroma" target="_blank" rel="noopener"
>Á§æ‰∫§ÁΩëÁªúÔºöPleroma&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
&lt;/p>
&lt;ol start="3">
&lt;li>ÂÆöÊúüÊ∏ÖÁêÜÊï∞ÊçÆÂ∫ìÁöÑ objects&lt;/li>
&lt;/ol>
&lt;h2 id="Á£ÅÁõò">Á£ÅÁõò&lt;/h2>
&lt;h3 id="Ëá™Âä®Ê∏ÖÁêÜ-tmp-ÁõÆÂΩï">Ëá™Âä®Ê∏ÖÁêÜ tmp ÁõÆÂΩï&lt;/h3>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl"># ÊâìÂºÄÁ≥ªÁªüÁ∫ßÂà´ÁöÑ crontab
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">crontab -e
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"># Âú®Êñá‰ª∂Êú´Â∞æÁ≤òË¥¥‰øùÂ≠ò‰ª•‰∏ãÂëΩ‰ª§ÔºàÊØèÂ§© 00:00 Âà†Èô§ ÊúÄËøë‰∏âÂ§©Êú™‰ΩøÁî®Âπ∂‰∏çÂ±û‰∫é root Áî®Êà∑ÁöÑÊñá‰ª∂Ôºâ
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">0 0 * * * sudo find /tmp -type f ! -user root -atime +3 -delete
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">[xxx@xxx ~]# psql -U postgres
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">psql (13.11 (Debian 13.11-0+deb11u1))
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Type &amp;#34;help&amp;#34; for help.
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">postgres=# SELECT pg_size_pretty( pg_database_size(&amp;#39;pleroma&amp;#39;) );
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> pg_size_pretty
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">----------------
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> 576 MB
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">(1 row)
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="admin-fe">Admin-FE&lt;/h2>
&lt;p>settings/LoggerÔºöÊääÊó•ÂøóÁ∫ßÂà´Êîπ‰∏∫ &lt;code>:warn&lt;/code>&lt;/p>
&lt;h2 id="ÂèÇËÄÉ--Ëá¥Ë∞¢">ÂèÇËÄÉ &amp;amp; Ëá¥Ë∞¢&lt;/h2>
&lt;p>&lt;a class="link" href="https://www.myfreax.com/tmp-directory-in-linux/" target="_blank" rel="noopener"
>Linux ‰∏¥Êó∂ÁõÆÂΩï /tmp ‰∏é /var/tmp&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
&lt;/p>
&lt;p>&lt;a class="link" href="https://navicat.com/en/company/aboutus/blog/673-design-select-queries-using-navicat-s-query-builder" target="_blank" rel="noopener"
>https://navicat.com/en/company/aboutus/blog/673-design-select-queries-using-navicat-s-query-builder&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
&lt;/p></description></item><item><title>Pleroma | Áª¥Êä§Êó•Âøó(‰∏Ä)</title><link>https://falasool.github.io/2023/pleroma-operation-and-maintenance2/</link><pubDate>Mon, 15 May 2023 12:52:31 +0800</pubDate><guid>https://falasool.github.io/2023/pleroma-operation-and-maintenance2/</guid><description>&lt;p>Êê≠Âª∫Ê≠•È™§ÂÆåÂÖ®ÂèÇËÄÉ &lt;a class="link" href="https://suicablog.cobaltkiss.blue/posts/pleroma-installation-on-linux-using-otp-releases/" target="_blank" rel="noopener"
>Âú® Debian 10 / Ubuntu 20.04 ‰∏äÂÆâË£Ö Pleroma&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
ÔºåÊÑüË∞¢ SuicaÔºÅ&lt;/p>
&lt;h2 id="ÂÖ≥Èó≠ÂºÄÂêØÊ≥®ÂÜå">ÂÖ≥Èó≠/ÂºÄÂêØÊ≥®ÂÜå&lt;/h2>
&lt;p>Settings &amp;gt; Instance &amp;gt; Registrations open&lt;/p>
&lt;p>ÔºàÁ´ôÁÇπÂêçÁß∞„ÄÅÂ≠óÊï∞‰∏äÈôê„ÄÅÊäïÁ•®ÈÄâÈ°π‰∏äÈôê„ÄÅÂ∞ÅÁ¶ÅÂÖ∂ÂÆÉÂÆû‰æãÁ≠âÁ≠âÈÉΩÂú® &lt;code>instance&lt;/code>Ôºâ&lt;/p>
&lt;h2 id="Êõ¥Êç¢ÂÆû‰æãÂõæÊ†á">Êõ¥Êç¢ÂÆû‰æãÂõæÊ†á&lt;/h2>
&lt;p>ÂàÜ‰∏∫‰∏âÊ≠•Ôºö&lt;/p>
&lt;ul>
&lt;li>ÂáÜÂ§áÂ•Ω LOGO Êñá‰ª∂&lt;/li>
&lt;li>ÊâæÂà∞Êîæ favicon ÁöÑ‰ΩçÁΩÆ&lt;/li>
&lt;li>‰∏ä‰º†&lt;/li>
&lt;/ul>
&lt;p>ÂÖ∑‰ΩìÊù•ËØ¥Ôºö&lt;/p>
&lt;p>ÊâæÂà∞Êú¨Âú∞Ë¶Å‰∏ä‰º†ÁöÑÂõæÁâáÁöÑÁªùÂØπË∑ØÂæÑÔºå‰æãÂ¶ÇÔºö&lt;code>/Users/user/Pictures/favicon.png&lt;/code>&lt;/p>
&lt;p>ÂÆö‰ΩçÊúçÂä°Âô®‰∏≠ favicon ‰ΩçÁΩÆ&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">find / -type f -iname favicon.png
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;blockquote>
&lt;p>ÂèÇÊï∞ËØ¥ÊòéÔºö&lt;/p>
&lt;p>&lt;code>find&lt;/code> ÂëΩ‰ª§ÔºöÊ†πÊçÆÁî®Êà∑ÊåáÂÆöÁöÑË°®ËææÂºèÂú®ÁõÆÂΩïÂ±ÇÊ¨°ÁªìÊûÑ‰∏≠ÊêúÁ¥¢Êñá‰ª∂ÂíåÁõÆÂΩï&lt;/p>
&lt;p>&lt;code>/&lt;/code>ÔºöÂú®Ê†πÁõÆÂΩïËåÉÂõ¥ÂÜÖÊêúÁ¥¢&lt;/p>
&lt;p>&lt;code>-type f&lt;/code>ÔºöÊåáÂÆöÊñá‰ª∂Á±ªÂûã Â∏∏ËßÑÊñá‰ª∂&lt;/p>
&lt;p>&lt;code>-iname&lt;/code>ÔºöÁõÆÊ†áÊñá‰ª∂ÂêçÔºà‰∏çÂå∫ÂàÜÂ§ßÂ∞èÂÜôÔºâ&lt;/p>
&lt;/blockquote>
&lt;p>ÂæóÂà∞ favcion ÁöÑË∑ØÂæÑ&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">/opt/pleroma/lib/pleroma-2.4.5-2-gd8e32646/priv/static/favicon.png
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>‰∏ä‰º†ÂõæÊ†áÔºöÂè¶ÂºÄ‰∏Ä‰∏™ÁªàÁ´ØÁ™óÂè£ÔºàÂõ†‰∏∫ÂΩìÂâçÁªàÁ´ØÂ∑≤ÁªèÁôªÂΩï‰∫ÜÊúçÂä°Âô®ÔºåÂú®ÊúçÂä°Âô®ÈáåÊü•ÊâæËøòÊú™‰∏ä‰º†ÁöÑÊñá‰ª∂ÊòØÊâæ‰∏çÂà∞ÁöÑÔºâÔºåÊâßË°å&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">rsync /Users/user/Pictures/favicon.png admin@149.248.0.119:/opt/pleroma/lib/pleroma-2.4.5-2-gd8e32646/priv/static/favicon.png
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;blockquote>
&lt;p>ÂèÇÊï∞ËØ¥ÊòéÔºö&lt;/p>
&lt;p>scp &amp;lt;Êú¨Âú∞Êñá‰ª∂Ë∑ØÂæÑ&amp;gt;&amp;lt; vpsÁî®Êà∑Âêç@ÊúçÂä°Âô®IP&amp;gt;:&amp;lt;ÁõÆÊ†áË∑ØÂæÑ&amp;gt;&lt;/p>
&lt;/blockquote>
&lt;p>‰ª•ÂèäÔºåÁΩëÈ°µ logo Âú® Settings &amp;gt; Frontend ÔºåËÆ∞ÂæóÂèñÊ∂à Settings &amp;gt; Frontend &amp;gt; Logo mask&lt;/p>
&lt;p>Âà∑Êñ∞ÁΩëÈ°µÔºåÂõæÊ†áÊõ¥ÊîπÂÆåÊØï üéâ&lt;/p>
&lt;h2 id="ÊÄé‰πàÊç¢‰∏Ä‰∏™ÂâçÁ´Ø">ÊÄé‰πàÊç¢‰∏Ä‰∏™ÂâçÁ´Ø&lt;/h2>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl"># ‰∏ãËΩΩÂà∞ /tmp
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">cd /tmp &amp;amp;&amp;amp; curl -L https://gitlab.com/soapbox-pub/soapbox-fe/-/jobs/artifacts/v3.0.0-beta.1/download?job=build-production -o soapbox-fe.zip
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"># Ëß£ÂéãÂà∞ /var/lib/pleroma
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">busybox unzip soapbox-fe.zip -o -d /var/lib/pleroma
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Âà∑Êñ∞ÁΩëÈ°µ&lt;/p>
&lt;h2 id="Ëá™ÂÆö‰πâË°®ÊÉÖ">Ëá™ÂÆö‰πâË°®ÊÉÖ&lt;/h2>
&lt;p>Ë°®ÊÉÖÊù•Ê∫êÔºö&lt;/p>
&lt;p>&lt;a class="link" href="https://emojos.in/" target="_blank" rel="noopener"
>https://emojos.in/&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
&lt;/p>
&lt;p>&lt;a class="link" href="https://slackmojis.com/" target="_blank" rel="noopener"
>https://slackmojis.com/&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
&lt;/p>
&lt;p>&lt;a class="link" href="https://fedi.absturztau.be/emoji-packs/" target="_blank" rel="noopener"
>https://fedi.absturztau.be/emoji-packs/&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
&lt;/p>
&lt;p>&lt;a class="link" href="https://stickersurge.com/sticker-packs" target="_blank" rel="noopener"
>https://stickersurge.com/sticker-packs&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
&lt;/p>
&lt;p>ÊàñËÄÖ &lt;a class="link" href="https://pullopen.github.io/%E7%AB%99%E7%82%B9%E7%BB%B4%E6%8A%A4/2020/11/26/mastodon-manage.html" target="_blank" rel="noopener"
>Â¶Ç‰ΩïË£ÖÈ•∞‰Ω†ÁöÑÁ´ôÁÇπÔºöËá™ÂÆö‰πâCSS„ÄÅ‰∏≠ÁªßÁ´ôÂíåËá™ÂÆö‰πâË°®ÊÉÖ&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
ÈáåÊèêÂà∞ÁöÑ„ÄåÂÅ∑Ë°®ÊÉÖÁ•ûÂô®„Äç&lt;/p>
&lt;p>ÊääÂÅ∑Êù•ÁöÑË°®ÊÉÖÔºà&amp;hellip;ÔºâÈÄöËøá SSH ÂÆ¢Êà∑Á´ØÁöÑ SFTP ÂäüËÉΩ‰∏ä‰º†Âà∞ÊúçÂä°Âô®ÁöÑ &lt;code>/var/lib/pleroma/static/emoji&lt;/code> ÁõÆÂΩï‰∏ãÔºàÊàñËÄÖ‰Ω†ÁöÑËá™ÂÆö‰πâË∑ØÂæÑÔºâ&lt;/p>
&lt;p>Âú® Admin FE ÁöÑ Settings &amp;gt; Emoji &amp;gt; Settings &amp;gt; Shortcode globs ÈáåÊ∑ªÂä†Ë°®ÊÉÖÂåÖÁõÆÂΩïÁöÑË∑ØÂæÑÔºåÊØîÂ¶ÇÔºö&lt;code>/emoji/**/*.png&lt;/code>„ÄÅ&lt;code>/emoji/**/*.gif&lt;/code> ÔºåÊÑèÂë≥ÁùÄ emoji ÂèäÂÖ∂Â≠êÁõÆÂΩï‰∏ãÊâÄÊúâ png/gif Ê†ºÂºèÁöÑÊñá‰ª∂ÈÉΩ‰ºöË¢´ËßÜ‰ΩúËá™ÂÆö‰πâË°®ÊÉÖÂåÖ&lt;/p>
&lt;p>ÁÇπÂáª Reload emojiÔºåOK&lt;/p>
&lt;p>&lt;a class="link" href="https://stickersurge.com/pack/8bit" target="_blank" rel="noopener"
>https://stickersurge.com/pack/8bit&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
&lt;/p>
&lt;p>ÊàëËßâÂæóËøôÁªÑË°®ÊÉÖÂåÖÂ•ΩÂ•ΩÁ¨ëü§≠&lt;/p>
&lt;h2 id="ÊîæÂ§ß-emoji">ÊîæÂ§ß Emoji&lt;/h2>
&lt;p>&lt;a class="link" href="https://kyo.iroiro.party/posts/pleroma-largemoji/" target="_blank" rel="noopener"
>Pleroma-fe ÁöÑ emoji ÊîæÂ§ßÈÖçÁΩÆÔºàÔºüÔºâ&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
&lt;/p>
&lt;h2 id="ÂÆû‰æãÂ±ïÁ§∫È°µÈù¢">ÂÆû‰æãÂ±ïÁ§∫È°µÈù¢&lt;/h2>
&lt;p>Âú® Settings &amp;gt; Frontend &amp;gt; Redirect root no login ÈáåÊîπÊàê &lt;code>/about&lt;/code>&lt;/p>
&lt;p>Âú® Admin FE &amp;gt; Settings &amp;gt; Others ÊîπÁ´ôÁÇπËßÑÂàô&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">Hello!
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Ponderduck is a private instance and is not normally open for registration, so if you would like to join, please contact the admin with your fediverse account.
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Thanks to those who have helped me in the build process! Sending lots of love and respect!
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">See the Pleroma documentation for more information.
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Á¶ÅÊ≠¢Êú™È™åËØÅÁî®Êà∑ÊµèËßàÊó∂Èó¥Á∫øÔºöSettings &amp;gt; Instance &amp;gt; Public/Timelines/Profiles/Activites Ê†πÊçÆÈúÄË¶ÅÊõ¥Êîπ&lt;/p>
&lt;h2 id="Ëá™ÂÆö‰πâ‰∏ªÈ¢ò">Ëá™ÂÆö‰πâ‰∏ªÈ¢ò&lt;/h2>
&lt;p>Ëé∑Âèñ‰∏ªÈ¢ò or Ëá™Âà∂Ôºö&lt;/p>
&lt;blockquote>
&lt;p>&lt;a class="link" href="https://fediverse.eu.org/discussion/27/%E4%BA%94%E5%88%86%E9%92%9F%E8%AE%BE%E8%AE%A1%E4%B8%80%E4%B8%AA%E6%BC%82%E4%BA%AE%E7%9A%84pleroma%E4%B8%BB%E9%A2%98" target="_blank" rel="noopener"
>‰∫îÂàÜÈíüËÆæËÆ°‰∏Ä‰∏™ÊºÇ‰∫ÆÁöÑpleroma‰∏ªÈ¢ò&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
&lt;/p>
&lt;p>&lt;a class="link" href="https://mikan.bangdream.moe/2022/11/21/recommend-settings-for-pleroma/" target="_blank" rel="noopener"
>ÂÖ≥‰∫é Docker ‰∏ã Pleroma ÂÆû‰æãÈÉ®ÁΩ≤ÁöÑ‰∏Ä‰∫õÊé®ËçêËÆæÁΩÆ&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
&lt;/p>
&lt;p>ÊàñËÄÖ Google „ÄåPleroma FE theme json„Äç&lt;/p>
&lt;/blockquote>
&lt;p>‰∏Ä‰∫õÊºÇ‰∫Æ‰∏ªÈ¢òÂ±ïÁ§∫Ôºö&lt;/p>
&lt;p>&lt;a class="link" href="https://mindpalace.michaelis.website/tech/pleroma-theme.html" target="_blank" rel="noopener"
>https://mindpalace.michaelis.website/tech/pleroma-theme.html&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
&lt;/p>
&lt;p>&lt;a class="link" href="https://plthemes.vulpes.one/" target="_blank" rel="noopener"
>https://plthemes.vulpes.one/&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
&lt;/p>
&lt;p>&lt;a class="link" href="https://suicablog.cobaltkiss.blue/posts/themes-gallery/" target="_blank" rel="noopener"
>https://suicablog.cobaltkiss.blue/posts/themes-gallery/&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
&lt;/p>
&lt;p>Ê∑ªÂä†‰∏ªÈ¢òÁöÑÊ≠•È™§Ôºö&lt;/p>
&lt;ul>
&lt;li>
&lt;p>ÊâæÂà∞ themes Êñá‰ª∂Â§π &lt;code>find / -type d -iname themes&lt;/code>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Êää‰∏ãËΩΩÁöÑ &lt;code>.json&lt;/code> Êñá‰ª∂Ê∑ªÂä†Âà∞ÁõÆÊ†áÁõÆÂΩïÔºåÊØîÂ¶ÇÊàëÊ∑ªÂä†Âà∞‰∫Ü &lt;code>/var/lib/pleroma/static/static/themes&lt;/code>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>ÁÑ∂ÂêéÂú® &lt;code>/var/lib/pleroma/static/static/styles.json&lt;/code> ÊääÂàöÂàöÁöÑËá™ÂÆö‰πâ‰∏ªÈ¢òÊ∑ªÂä†ËøõÂéªÔºåÊåâÂ¶Ç‰∏ãÊ†ºÂºè&lt;/p>
&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-json" data-lang="json">&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;takeabreak&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="s2">&amp;#34;/static/themes/takeabreak.json&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;break&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="s2">&amp;#34;/static/themes/break.json&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Âà∑Êñ∞ÁΩëÈ°µÔºåÂú®ËÆæÁΩÆÈáåÊâæÂà∞Ëá™ÂÆö‰πâ‰∏ªÈ¢òÔºåÂèØ‰ª•Áî®‰∫Ü&lt;/p>
&lt;p>Êú¨Á´ôÈªòËÆ§‰∏ªÈ¢òÂú® Admin FE/Pleroma FE ÈáåÊîπÔºåË∑ØÂæÑÔºöSettings &amp;gt; Frontend &amp;gt; Themes&lt;/p>
&lt;h2 id="ËøûÊé•‰∏≠Áªß">ËøûÊé•‰∏≠Áªß&lt;/h2>
&lt;blockquote>
&lt;p>‰∏≠ÁªßÁöÑÁÆÄ‰ªã„ÄÅÈáçË¶ÅÊÄßÂíå‰∏≠Êñá‰∏≠ÁªßÊé®ËçêÔºöhttps://mstdn.one/@list/106729842177738917&lt;/p>
&lt;p>Âä†‰∏ç‰∏äÊüê‰∫õ‰∏≠ÁªßÔºå‰ΩÜÊòØÂèàÊÉ≥tl‰∏äÂá∫Áé∞Êõ¥Â§öÂòüÊñáÊÄé‰πàÂäûÔºü&lt;/p>
&lt;ul>
&lt;li>KanaÂëäËØâÊàë‰∏Ä‰∏™ÂäûÊ≥ïÔºöÂØπ‰∫é Pleroma ÂÆû‰æãËÄåË®ÄÔºåÊää https://PleromaÂÆû‰æãÂüüÂêç/relay ÂΩì‰Ωú‰∏≠ÁªßËøûÊé•Êù•ËæìÂÖ•ÊòØÂèØ‰ª•ÂÖ≥Ê≥®Ëøô‰∏™ÂÆû‰æãÁöÑ„ÄÇ&lt;/li>
&lt;li>ÊâÄ‰ª•ÔºåÊàë‰ª¨ÂèØ‰ª•ËÆøÈóÆ Ôºàhttps://the-federation.info/pleroma ÔºâÂíåÔºàhttps://fedidb.org/network ÔºâËøô‰∏§‰∏™fediverseÈªÑÈ°µÔºåÊâãÂä®Ê∑ªÂä†Ëá™Â∑±ÂøÉ‰ª™ÁöÑpleromaÂÆû‰æã„ÄÇÂèØ‰ª•‰∏ÄÂè£Ê∞îÂÖ≥Ê≥®ÊâÄÊúâÁöÑ‰∏≠ÊñápleromaÔºàÂõ†‰∏∫Â§™Â∞ëÔºâÔºåËøòÂèØ‰ª•ÂÖ≥Ê≥®Âá†‰∏™Â§¥ÈÉ®Â§ñÊñáÂÆû‰æãÔºàbae.stÁöÑ‰∫∫ÂèëÈªÑÂõæ‰∏çÈÄâNFSWÔºÅÔºâ&lt;/li>
&lt;/ul>
&lt;p>‚Äî‚ÄîÊù•Ëá™ &lt;a class="link" href="https://dasgelobteland.github.io/posts/22pleroma/" target="_blank" rel="noopener"
>ÊàëÁöÑpleromaÊê≠Âª∫Á¨îËÆ∞&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
&lt;/p>
&lt;/blockquote>
&lt;p>Âá†‰∏™‰∏≠Êñá‰∏≠ÁªßÔºöhttps://mstdn.one/@list/106729842177738917&lt;/p>
&lt;h2 id="Â§á‰ªΩ">Â§á‰ªΩ&lt;/h2>
&lt;p>Pleroma ÈúÄË¶ÅÂ§á‰ªΩÁöÑÂú∞ÊñπÊúâ‰∏â‰∏™Ôºö&lt;/p>
&lt;ul>
&lt;li>&lt;code>/etc/pleroma&lt;/code>ÔºöÂ≠òÂÇ®ÂêØÂä®Êó∂ÁöÑÈÖçÁΩÆÊñá‰ª∂„ÄÇÂ¶ÇÊûú‰Ω†ÂºÄÂêØ‰∫ÜÊï∞ÊçÆÂ∫ìÂ≠òÂÇ®ÈÖçÁΩÆÔºå‰πüÂèØ‰ª•‰∏çÁî®Â§á‰ªΩÔºõ&lt;/li>
&lt;li>&lt;code>/var/lib/pleroma&lt;/code>ÔºöÂ≠òÂÇ®Áî®Êà∑ÂàõÂª∫ÁöÑÈùôÊÄÅÊñá‰ª∂ÔºàËá™ÂÆö‰πâË°®ÊÉÖ„ÄÅÂ§¥ÂÉè„ÄÅ‰∏ä‰º†ÁöÑÊñá‰ª∂„ÄÅÂâçÁ´Ø„ÄÅ‚Ä¶‚Ä¶ÔºâÔºåÂ¶ÇÊûú‰∏çÊòØÁªèÂ∏∏‰∏ä‰º†Êñá‰ª∂ÔºåÂèØ‰ª•ÊåâÊúàÂ§á‰ªΩÔºõ&lt;/li>
&lt;li>PostgreSQL ‰∏≠ÁöÑ pleroma Êï∞ÊçÆÂ∫ìÔºåÂèØ‰ª•ÈÄöËøá &lt;code>pg_dump&lt;/code> Â§á‰ªΩÔºö&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">sudo -Hu postgres pg_dump -d pleroma --format=custom -f /var/lib/postgresql/pleroma.pgdump
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="Áª≠ÊúüsslËØÅ‰π¶">Áª≠ÊúüSSLËØÅ‰π¶&lt;/h2>
&lt;p>Ê†πÊçÆ &lt;a class="link" href="[https://eff-certbot.readthedocs.io/en/stable/using.html#renewing-certificates]%28https://blog.csdn.net/wanghao_sh/article/details/124977429%29" >ÂÆòÊñπÊñáÊ°£&lt;/a>
&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">apt-get update
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">apt install snapd
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">snap install core
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">snap install hello-world
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">hello-world
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">snap install --classic certbot
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">snap set certbot trust-plugin-with-root=ok
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">snap install certbot-dns-cloudflare
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>ÔºàÔºüÊúâÁÇπÂõ∞ÊÉëÔºå‰∏äÈù¢ÊäòËÖæ‰∫Ü‰∏ÄÂ§ßÂ†ÜÔºåÊúÄÂêéÁÆÄÁÆÄÂçïÂçïÊï≤‰∏™ &lt;code>certbot&lt;/code> ÁÑ∂ÂêéË∑üÁùÄÈÄâÂ∞±Â•Ω‰∫ÜÔºâ&lt;/p>
&lt;h2 id="Â∏∏Áî®ÂëΩ‰ª§">Â∏∏Áî®ÂëΩ‰ª§&lt;/h2>
&lt;p>Êü•ÁúãÊúçÂä°Áä∂ÊÄÅ&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">systemctl status &lt;span class="o">[&lt;/span>options&lt;span class="o">]&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Êü•ÁúãÂÜÖÂ≠ò&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">top
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Êü•ÁúãË¥üËΩΩ&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">htop
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>&lt;a class="link" href="https://www.onitroad.com/jc/linux/how-to-install-htop-on-debian-linux-using-apt-get.html" target="_blank" rel="noopener"
>Â¶Ç‰ΩïÂú®Debian Linux‰∏äÂÆâË£Öhtop&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
&lt;/p>
&lt;h2 id="502-bad-gateway">502 Bad Gateway&lt;/h2>
&lt;p>Êü•Áúã Nginx ÈîôËØØÊó•Âøó&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">vim /var/log/nginx/error.log
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">[error] 825#825 :*8459 connect() failed (111: Connection refused)
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">while connecting to upstream, client: x.x.x.x, server: ponderduck.cc,
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">request: &amp;#34;POST /inbox HTTP/2.0&amp;#34;,
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">upstream: &amp;#34;http:127.0.0.1:4000/inbox&amp;#34;,
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">host: &amp;#34;ponderduck.cc&amp;#34;
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;blockquote>
&lt;p>ÂàÜÊûêÔºöclientËØ∑Ê±ÇËµÑÊ∫êÊó∂ÔºåËΩ¨ÂèëÂà∞127.0.0.1:4000Âéª‰∫Ü&lt;/p>
&lt;/blockquote>
&lt;p>Ê£ÄÊü•4000Á´ØÂè£ÔºåËøîÂõû‰∏∫Á©∫&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">telnet &amp;lt;ip&amp;gt; &lt;span class="m">4000&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>netstatÊ≤°ÊúâÂèëÁé∞Âç†Áî®Á´ØÂè£4000ÁöÑÁ®ãÂ∫è&lt;/p>
&lt;p>ÈôÑ‰∏ä Debula ÂéüËØùÔºö&lt;/p>
&lt;blockquote>
&lt;p>OTPÂÆâË£ÖÁöÑPleromaÈªòËÆ§ÁõëÂê¨ÁöÑÊòØÊú¨Êú∫ÁöÑ127.0.0.1:4000
‰πüÂ∞±ÊòØËØ¥ÔºåÂú®VPS‰∏ä‰Ω†ÂèØ‰ª•Áõ¥Êé•ÈÄöËøá &lt;a class="link" href="http://127.0.0.1:4000/" target="_blank" rel="noopener"
>http://127.0.0.1:4000&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
ËÆøÈóÆ PleromaÔºåÊØîÂ¶Ç
curl -v http://127.0.0.1:4000/api/v1/instance&lt;/p>
&lt;p>NginXË¥üË¥£ÊääÂ§ñÈÉ®ÁöÑËøûÊé•ËØ∑Ê±ÇËΩ¨ÂèëÂà∞ 127.0.0.1:4000ÔºåÂæóÂà∞ÂìçÂ∫îÂêéËΩ¨ÂèëÂõûÂéª &lt;!-- raw HTML omitted -->&lt;/p>
&lt;p>Â¶ÇÊûú‰Ω†Áî® netstat Ê≤°ÂèëÁé∞ 4000 Á´ØÂè£ÁöÑÁ®ãÂ∫èÔºåËØ¥Êòé Pleroma ÊåÇ‰∫ÜÔºåËØ•ÂéªÊ£ÄÊü• Pleroma ÁöÑÈîôËØØÊó•Âøó &lt;img src="https://bucket.alive.bar/cache/custom_emojis/images/000/047/971/original/c7b0bea715cd48c1.png"
loading="lazy"
alt=":ablobsweats:"
>&lt;/p>
&lt;p>Ôºà‰∏çËøáÁ°ÆÂÆûÂæàÂ•áÊÄ™ÔºåOTPÁâàÊú¨Â∫îËØ•‰ºöËá™Âä®ÈáçÂêØÁöÑ‚Ä¶‚Ä¶Ôºâ&lt;/p>
&lt;/blockquote>
&lt;p>pleroma‰ΩçÁΩÆ /opt/pleroma&lt;/p>
&lt;p>Êü•ÁúãpleromaÊó•Âøó&lt;code>journalctl -u pleroma&lt;/code>,‰∏∫Á©∫&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">-- Logs begin at Wed 2023-03-08 16:18:56 HKT, end at Wed 2023-03-08 19:38:34 HKT. --
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">-- No entries --
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>‰∫éÊòØÂéª &lt;code>/var/log/syslog&lt;/code> ÁúãÊó•ÂøóÔºåÈÉΩÊòØinfoÔºåÂ•ΩÂÉè‰πüÊ≤°‰ªÄ‰πàÈóÆÈ¢ò&lt;/p>
&lt;p>ÈáçÂêØ‰πãÂêéËé´ÂêçÂÖ∂Â¶ôÂ•Ω‰∫Ü&lt;/p>
&lt;p>Ëøá‰∫Ü4Â§©ÔºåÂèà502‰∫Ü‚Ä¶‚Ä¶&lt;/p>
&lt;p>Update: 20230528ÂÜçÊ¨° 502&lt;/p>
&lt;p>Ê£ÄÊü•ËøõÁ®ãÊòØÂê¶Â≠òÂú®ÔºåÂ≠òÂú®&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">ps aux &lt;span class="p">|&lt;/span> grep pleroma
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Êü•Áúã pleroma Êó•Âøó&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">journalctl -u pleroma
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">pleroma: cat: write error: No space left on device
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">pleroma: ERROR: Cannot start release because it could not write /opt/pleroma/tmp/pleroma-2.4.5-2-gd8e32646-2
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Ê≤°ÊúâË∂≥Â§üÁ©∫Èó¥ÂÜôÂÖ•ËøêË°åÊó∂ÈÖçÁΩÆÊñá‰ª∂&lt;/p>
&lt;p>Êü•ÁúãÂÜÖÂ≠ò‰ΩøÁî®ÊÉÖÂÜµ&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">free -m
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> total used free shared buff/cache available
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Mem: 987 144 117 30 724 634
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Swap: 2399 3 2396
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Êü•ÁúãÁ£ÅÁõò‰ΩøÁî®ÊÉÖÂÜµÔºàÊª°‰∫ÜËÄ∂&amp;hellip;&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">df -h
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Filesystem Size Used Avail Use% Mounted on
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">/dev/vda1 24G 24G 0 100% /
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Êü•ÁúãÂêÑ‰∏™Êñá‰ª∂Âç†Áî®Â§ßÂ∞è&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="nb">cd&lt;/span> /
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">du -sh *
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">2.4G swapfile
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">2.7G usr
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">19G var
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># Ê∏ÖÁ©∫Êó•ÂøóÔºåÁ®çÂæÆËÖæÂá∫‰∏ÄÁÇπÁ©∫Èó¥‰∫Ü&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">cat /dev/null &amp;gt; filename
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>/usr/lib/postgresql/11/bin/pg_ctl&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">/etc/postgresql/11/main#
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">.
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">‚îú‚îÄ‚îÄ conf.d
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">‚îú‚îÄ‚îÄ environment
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">‚îú‚îÄ‚îÄ pg_ctl.conf
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">‚îú‚îÄ‚îÄ pg_hba.conf
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">‚îú‚îÄ‚îÄ pg_ident.conf
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">‚îú‚îÄ‚îÄ postgresql.conf
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">‚îî‚îÄ‚îÄ start.conf
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Êï∞ÊçÆÂ∫ìÂ∏∏Áî®ÂëΩ‰ª§&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># ÁôªÂΩï PG Êï∞ÊçÆÂ∫ì&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">psql -U postgres
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># Êü•ÁúãÊâÄÊúâÊï∞ÊçÆÂ∫ì&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">\l&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># ËøõÂÖ•ÊüêÊï∞ÊçÆÂ∫ì&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">\c&lt;/span> pg-name
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># Êü•ÁúãÊüêÊï∞ÊçÆÂ∫ì‰∏≠ÁöÑÊâÄÊúâË°®Âêç&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">select&lt;/span> tablename from pg_tables&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># ÈÄÄÂá∫Êï∞ÊçÆÂ∫ì&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">ctrl + z
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Êü•ÁúãÊï∞ÊçÆÂ∫ìÂ§ßÂ∞èÔºåÊòØÂ∞èÊúçÂä°Âô®‰∏çËÉΩÊâøÂèó‰πãÈáç&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">postgres=# SELECT pg_size_pretty( pg_database_size(&amp;#39;pleroma&amp;#39;) );
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> pg_size_pretty
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">----------------
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> 14 GB
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">(1 row)
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>ÂçáÁ∫ßÊúçÂä°Âô®ÔºåÁÑ∂ÂêéÊü•ÁúãÁ£ÅÁõòÂç†Áî®ÊÉÖÂÜµ&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">df -h
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Filesystem Size Used Avail Use% Mounted on
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">/dev/vda1 52G 23G 27G 46% /
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Êü•Áúã postgresql Êó•Âøó&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">vim /var/log/postgresql/postgresql.log
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>ÂàõÂª∫Êï∞ÊçÆÂ∫ìÊñá‰ª∂ÁöÑÂ§á‰ªΩÁõÆÂΩïÂπ∂ËµãÊùÉ&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">mkdir -p /pleromabackup
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">chmod 777 /pleromabackup
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>ÂÖÅËÆ∏ pleroma Áî®Êà∑ÂÖçÂØÜÁôªÂΩïÊï∞ÊçÆÂ∫ì&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">vim /etc/postgresql/11/main/pg_hba.conf
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">host replication repl 127.0.0.1/32 md5
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Â§á‰ªΩÊï∞ÊçÆÂ∫ì&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># ÂàáÊç¢Áî®Êà∑‰∏∫ postgres&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">su - postgres
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># ÁôªÂΩïÊï∞ÊçÆÂ∫ì&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">psql -U postgres
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># Â§á‰ªΩ&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nv">postgres&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="c1"># \! pg_dump pleroma -f /pleromabackup/pleroma.pgdump&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Âà†Èô§ 15 Â§©ÂâçÁöÑÂ§ñÁ´ôÁºìÂ≠òÔºàËøô‰∏™ n Â§©ÊòØÂú® Admin FE - settings - instance - Remote post retention days Èáå‰øÆÊîπÁöÑÔºâ&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-shell" data-lang="shell">&lt;span class="line">&lt;span class="cl">su pleroma -s &lt;span class="nv">$SHELL&lt;/span> -lc &lt;span class="s2">&amp;#34;./bin/pleroma_ctl database prune_objects&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">11:32:27.912 &lt;span class="o">[&lt;/span>info&lt;span class="o">]&lt;/span> Pruning objects older than &lt;span class="m">15&lt;/span> days
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Â¶ÇÊûúÊä•ÈîôÔºö&lt;code>‚Äìrpc-eval : RPC failed with reason :nodedown&lt;/code>ÔºåÂèØËÉΩÊòØÂõ†‰∏∫Ê≤°ÂêØÂä® Pleroma„ÄÇÊÑüË∞¢ &lt;a class="link" href="https://seviche.cc/" target="_blank" rel="noopener"
>Seviche&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
!!&lt;/p>
&lt;p>Êï¥ÁêÜÊï∞ÊçÆÂ∫ì&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">su pleroma -s &lt;span class="nv">$SHELL&lt;/span> -lc &lt;span class="s2">&amp;#34;./bin/pleroma_ctl database vacuum full&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>0530ÊâßË°åËÆ∞ÂΩï&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl"># ÈáçÊñ∞ÁîüÊàêÊï∞ÊçÆÂ∫ìÈÖçÁΩÆÊñá‰ª∂
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">su pleroma -s $SHELL -lc &amp;#34;./bin/pleroma_ctl instance gen --output /tmp/config.exs --output-psql /tmp/setup_db.psql&amp;#34;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"># Ê∏ÖÁ©∫Êï∞ÊçÆÂ∫ì
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sudo -Hu postgres psql -c &amp;#39;DROP DATABASE pleroma;&amp;#39;;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">DROP DATABASE
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sudo -Hu postgres psql -c &amp;#39;DROP USER pleroma;&amp;#39;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">DROP ROLE
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"># Êé•‰∏ãÊù•ËØ•ÈáçÂª∫Êï∞ÊçÆÂ∫ì‰∫Ü
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sudo -Hu postgres psql -f /tmp/setup_db.psql
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"># ÈáçÂª∫ÂêéÁöÑÊï∞ÊçÆÂ∫ìsize
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">postgres=# SELECT pg_size_pretty( pg_database_size(&amp;#39;pleroma&amp;#39;) );
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> pg_size_pretty
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">----------------
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> 8045 kB
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">(1 row)
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"># ÊÅ¢Â§çÊï∞ÊçÆ16:17-
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sudo -u postgres psql pleroma &amp;lt; /pleromabackup/pleroma.pgdump
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="ÂèÇËÄÉ--Ëá¥Ë∞¢">ÂèÇËÄÉ &amp;amp; Ëá¥Ë∞¢&lt;/h2>
&lt;p>&lt;a class="link" href="https://im.happytoo.cyou/posts/2302%E7%BB%99%E6%88%91%E7%9A%84pleroma%E6%B7%BB%E5%8A%A0%E8%A1%A8%E6%83%85%E5%8C%85/" target="_blank" rel="noopener"
>pleroma‰∏≠Ê∑ªÂä†Ëá™ÂÆö‰πâË°®ÊÉÖÂåÖ&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
&lt;/p>
&lt;p>&lt;a class="link" href="https://dasgelobteland.github.io/posts/23pleroma/" target="_blank" rel="noopener"
>https://dasgelobteland.github.io/posts/23pleroma/&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
&lt;/p>
&lt;p>&lt;a class="link" href="https://blog.debula.ml/index.php/archives/5/#1.%E7%A4%BE%E4%BA%A4%E7%BD%91%E7%BB%9C%EF%BC%9APleroma" target="_blank" rel="noopener"
>Á§æ‰∫§ÁΩëÁªúÔºöPleroma&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
&lt;/p>
&lt;p>&lt;a class="link" href="https://bigshans.github.io/post/troubleshoot-pleroma/" target="_blank" rel="noopener"
>https://bigshans.github.io/post/troubleshoot-pleroma/&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
&lt;/p>
&lt;p>&lt;a class="link" href="https://wiki.iroiro.party/doku.php?id=start&amp;amp;do=index" target="_blank" rel="noopener"
>https://wiki.iroiro.party/doku.php?id=start&amp;do=index&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
&lt;/p>
&lt;p>Psql Âç†Êª°Á£ÅÁõòÊÄé‰πàÂäûÔºö&lt;/p>
&lt;p>&lt;a class="link" href="https://dba.stackexchange.com/questions/17057/i-need-to-run-vacuum-full-with-no-available-disk-space" target="_blank" rel="noopener"
>https://dba.stackexchange.com/questions/17057/i-need-to-run-vacuum-full-with-no-available-disk-space&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
&lt;/p></description></item><item><title>Misskey ÂÆû‰æãÊê≠Âª∫ÊïôÁ®ã</title><link>https://falasool.github.io/2022/misskey/</link><pubDate>Sat, 19 Nov 2022 20:19:15 +0800</pubDate><guid>https://falasool.github.io/2022/misskey/</guid><description>&lt;p>Êú¨Ê¨°Êê≠Âª∫‰ΩøÁî® Ubuntu 22.10 Á≥ªÁªü&lt;/p>
&lt;h2 id="Ë¥≠‰π∞-vps">Ë¥≠‰π∞ VPS&lt;/h2>
&lt;p>‚ö†Ô∏è‰∏çË¶Å‰π∞Êú∫ÊàøÂú®Â§ßÈôÜÁöÑÊúçÂä°ÂïÜ VPS ‚ö†Ô∏è&lt;/p>
&lt;p>Âú®Â§áÊ°àÈÄöËøá‰πãÂâç 80 Âíå 443 Á´ØÂè£ÊòØÂ∞ÅÁ¶ÅÁöÑ -&amp;gt; Êó†Ê≥ïÁî≥ËØ∑ SSL ËØÅ‰π¶ -&amp;gt; Misskey ÈúÄË¶Å SSL ÊâçËÉΩËÆøÈóÆÔºåGG&lt;/p>
&lt;p>ÔºàÂç≥‰ΩøÊ≤°ÊúâËøô‰∏™ÈóÆÈ¢òÔºå‰π∞Â§ßÈôÜËäÇÁÇπÁöÑÊúçÂä°Âª∫Á´ô‰πüÊòØ‰∏ÄÁßçËá™ÊùÄË°å‰∏∫Ôºâ&lt;/p>
&lt;h3 id="Ê≥®ÂÜå">Ê≥®ÂÜå&lt;/h3>
&lt;p>Ê≥®ÂÜåVultr Ë¥¶Âè∑ÔºåÂÖÖÂÄº&lt;/p>
&lt;p>&lt;img src="https://raw.githubusercontent.com/Falasool/blog-pic-bed/main/blog/misskey1.png"
loading="lazy"
alt="image-20221120012614543"
>&lt;/p>
&lt;h3 id="ÂàõÂª∫-vps">ÂàõÂª∫ VPS&lt;/h3>
&lt;p>&lt;img src="https://raw.githubusercontent.com/Falasool/blog-pic-bed/main/blog/image-20221120012203832.png"
loading="lazy"
alt="image-20221120012203832"
>&lt;/p>
&lt;ul>
&lt;li>
&lt;p>ÈÄâ Cloud Compute&lt;/p>
&lt;/li>
&lt;li>
&lt;p>CPU ÈÄâ AMD Âíå Intel ÈÉΩË°å&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Êú∫Êàø‰ΩçÁΩÆÈÄâÊã©Êó•Êú¨„ÄÅÊñ∞Âä†Âù°„ÄÅÁæéË•øÈÉΩË°åÔºå‰∏ÄËà¨‰∏çÊé®ËçêÊ¨ßÊ¥≤ÔºàÂØπ‰∫é‰∏≠ÂõΩÂõΩÂÜÖÔºâ&lt;/p>
&lt;/li>
&lt;li>
&lt;p>ÈÄâÊã©Êìç‰ΩúÁ≥ªÁªüÔºöUbuntu 22.10 x64&lt;/p>
&lt;/li>
&lt;li>
&lt;p>ÈÄâÊã© SizeÔºö$5 ÁöÑ 1C1G1TB Â•óÈ§êÔºàËÆ∞ÂæóÂãæÈÄâ No ThanksÔºâ&lt;/p>
&lt;/li>
&lt;li>
&lt;p>ÂÖ≥Èó≠Ëá™Âä®Â§á‰ªΩÔºåÁúÅ $1&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Additional FeaturesÔºöÂãæÈÄâ Enable IPv6&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Ê∑ªÂä† SSH Keys&lt;/p>
&lt;/li>
&lt;/ul>
&lt;!-- raw HTML omitted -->
&lt;p>ÊâìÂºÄÂëΩ‰ª§Ë°åÔºåËæìÂÖ•&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">ssh-keygen -t rsa -b &lt;span class="m">4096&lt;/span> -C &lt;span class="s2">&amp;#34;Example comment&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Âú®ËøôË°åÊèêÁ§∫ÂêéÈù¢ËæìÂÖ•‰Ω†ÊÉ≥Ë¶Å‰øùÂ≠òÂØÜÈí•ÁöÑË∑ØÂæÑ&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">Generating public/private rsa key pair.
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Enter file in which to save the key (/home/example_user/.ssh/id_rsa):
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>ÊàëËæìÂÖ•ÔºàuuÊòØÊàëÁöÑÁîµËÑëÁî®Êà∑ÂêçÔºâ&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">/home/uu/.ssh/id_rsa_vultr
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>ÊâÄ‰ª•Âú® &lt;code>/.ssh&lt;/code> ÁõÆÂΩï‰∏ãÂèØ‰ª•ÊâæÂà∞ &lt;code>id_rsa_vultr&lt;/code> Âíå &lt;code>id_rsa_vultr.pub&lt;/code> Êñá‰ª∂ÔºåÂÆÉ‰ª¨ÂàÜÂà´ÊòØÁßÅÈí•ÂíåÂÖ¨Èí•&lt;/p>
&lt;p>Êé•‰∏ãÊù•Ë¶ÅÊääÂÖ¨Èí•ÂÜÖÂÆπÊ∑ªÂä†Âà∞ vultr Âéª&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># ËøõÂÖ•.ssh ÁõÆÂΩï&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">cd&lt;/span> .ssh
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># ÊâìÂç∞Êñá‰ª∂ÂÜÖÂÆπ&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">cat id_rsa_vultr.pub
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;!-- raw HTML omitted -->
&lt;ul>
&lt;li>ËøôÊó∂Â∫ïÈÉ®‰ªòÊ¨æÊ†èÂ∫îËØ•ÊòæÁ§∫ &lt;code>$5.00/month&lt;/code> ÔºåÁÇπÂáª &lt;code>Deploy Now&lt;/code> Á°ÆËÆ§ÂàõÂª∫ÊúçÂä°Âô®ÔºåÁ≠âÂæÖ‰∏Ä‰ºöÔºåÁ≠â Status ÂèòÊàê Running Â∞±Â•Ω‰∫Ü&lt;/li>
&lt;/ul>
&lt;p>&lt;img src="https://raw.githubusercontent.com/Falasool/blog-pic-bed/main/blog/misskey2-1.png"
loading="lazy"
alt="image-20221120012909994"
>&lt;/p>
&lt;p>ÁÇπÂáªÂàöÂàöÂàõÂª∫ÁöÑ VPSÔºåÁúãÂà∞Â¶Ç‰∏ãÁïåÈù¢„ÄÇ&lt;/p>
&lt;p>Â∑¶‰∏ãËßíÁöÑ IP Address„ÄÅUsername„ÄÅPassword ÊòØÂæÖ‰ºöËøûÊé•ÊúçÂä°Âô®ÁöÑÊó∂ÂÄôÔºåË¶ÅÁî®Âà∞ÁöÑ SSH ËøûÊé•‰ø°ÊÅØ&lt;/p>
&lt;p>&lt;img src="https://raw.githubusercontent.com/Falasool/blog-pic-bed/main/blog/misskey3.png"
loading="lazy"
alt="image-20221120013010174"
>&lt;/p>
&lt;ol>
&lt;li>ÁôªÂΩï VNCÔºöÊü•ÁúãÊéßÂà∂Âè∞&lt;/li>
&lt;li>ÂÖ≥Êú∫ÔºöÂ∞±ÂíåÂÖ≥ÁîµËÑë‰∏ÄÊ†∑ÔºàÂÖ≥Êú∫ÁöÑÊó∂ÂÄô‰ªçÁÑ∂Âú®ËÆ°Ë¥πÂì¶ÔºÅÔºâ&lt;/li>
&lt;li>ÈáçÂêØÔºöÂ∞±ÂíåÈáçÂêØÁîµËÑë‰∏ÄÊ†∑&lt;/li>
&lt;li>ÈáçË£ÖÁ≥ªÁªüÔºöÊääÊúçÂä°Âô®ÈáçÁΩÆÊàêÂàöÂàõÂª∫Êó∂ÁöÑÁä∂ÊÄÅ&lt;/li>
&lt;li>ÈîÄÊØÅ/Âà†Èô§ÔºöÈîÄÊØÅ‰∫ÜÊúçÂä°Âô®Â∞±‰∏çËÆ°Ë¥π‰∫ÜÔºåÊï∞ÊçÆ‰∏¢Â§±ÔºåÊó†Ê≥ïÊâæÂõû&lt;/li>
&lt;/ol>
&lt;p>SnapshotsÔºöÂø´ÁÖßÔºåÊåáÂ∞ÜÂΩìÂâç VPS ÁöÑÁä∂ÊÄÅ‰øùÂ≠ò‰∏ãÊù•ÔºåÂØπ VPS ËøõË°åÂÆåÊï¥Â§á‰ªΩ&lt;/p>
&lt;p>ÊúçÂä°Âô®ÂàõÂª∫ÂÆåÊàê&lt;/p>
&lt;h3 id="Ê£ÄÊü•-ip">Ê£ÄÊü• IP&lt;/h3>
&lt;p>Ping ‰∏Ä‰∏ã IP&lt;/p>
&lt;p>&lt;img src="https://raw.githubusercontent.com/Falasool/blog-pic-bed/main/blog/misskey4.png"
loading="lazy"
alt="image-20221120013147886"
>&lt;/p>
&lt;p>Áî®Ê£ÄÊü•Â∑•ÂÖ∑ÊØîÂ¶Ç &lt;a class="link" href="https://ip112.cn/" target="_blank" rel="noopener"
>https://ip112.cn/&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
Ê£ÄÊü• IPÔºåÊ≠§ IP ÂèØÁî®&lt;/p>
&lt;p>&lt;img src="https://raw.githubusercontent.com/Falasool/blog-pic-bed/main/blog/misskey5.png"
loading="lazy"
alt="image-20221120013305544"
>&lt;/p>
&lt;p>ÂÖ∂ÂÆÉÊµãËØïÂ∑•ÂÖ∑&lt;/p>
&lt;ul>
&lt;li>&lt;a class="link" href="http://ping.pe/" target="_blank" rel="noopener"
>http://ping.pe/&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
‚Äî ÂÖ®ÁêÉËäÇÁÇπ PingÔºåÂåÖÊã¨‰∏≠ÂõΩÁöÑ‰∏âÂ§ßËøêËê•ÂïÜ&lt;/li>
&lt;li>&lt;a class="link" href="http://ping.chinaz.com/" target="_blank" rel="noopener"
>http://ping.chinaz.com/&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
‚Äî Ping Ê£ÄÊµã‰∏≠ÂõΩÂ§ßÈôÜÁöÑËÆøÈóÆÊÉÖÂÜµ&lt;/li>
&lt;/ul>
&lt;h2 id="ÂüüÂêç">ÂüüÂêç&lt;/h2>
&lt;p>Âú®ÂüüÂêçÂïÜ &lt;a class="link" href="https://www.dynadot.com/zh/" target="_blank" rel="noopener"
>Dynadot&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
Ê≥®ÂÜåË¥¶Âè∑Ôºå‰π∞‰∏Ä‰∏™ÂüüÂêç&lt;/p>
&lt;h3 id="Ëß£ÊûêÂüüÂêç">Ëß£ÊûêÂüüÂêç&lt;/h3>
&lt;p>‰æùÊ¨°ÁÇπÂáª&lt;/p>
&lt;p>&lt;img src="https://raw.githubusercontent.com/Falasool/blog-pic-bed/main/blog/misskey6.png"
loading="lazy"
alt="image-20221120013439245"
>&lt;/p>
&lt;p>ÊöÇÂÅú‚è∏Ô∏è&lt;/p>
&lt;p>Âéª &lt;a class="link" href="https://dash.cloudflare.com/" target="_blank" rel="noopener"
>CloudFlare&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
Ê≥®ÂÜåÁôªÂΩïË¥¶Âè∑Ôºå‰æùÊ¨°Êìç‰ΩúÔºö&lt;/p>
&lt;p>Ê∑ªÂä†Êñ∞Á´ôÁÇπ&lt;/p>
&lt;p>&lt;img src="https://raw.githubusercontent.com/Falasool/blog-pic-bed/main/blog/misskey7.png"
loading="lazy"
alt="image-20221120013614146"
>&lt;/p>
&lt;p>ËæìÂÖ•‰Ω†ÁöÑÂüüÂêç&lt;/p>
&lt;p>&lt;img src="https://raw.githubusercontent.com/Falasool/blog-pic-bed/main/blog/misskey8.png"
loading="lazy"
alt="image-20221120013635155"
>&lt;/p>
&lt;p>ÈÄâÊã©ÂÖçË¥πÊñπÊ°à&lt;/p>
&lt;p>Ê∑ªÂä† DNS Ëß£ÊûêËÆ∞ÂΩï&lt;/p>
&lt;!-- raw HTML omitted -->
&lt;ul>
&lt;li>
&lt;p>&lt;code>*&lt;/code> ÊòØÈÄöÈÖçÁ¨¶ÔºåÊÑèÊÄùÊòØÊàëÁöÑ‰∫åÁ∫ßÂüüÂêçÔºåxxx.ponderduck.cc ÁöÑ DNS Ëß£Êûê‰πü‰∏ÄËµ∑Ë¢´Êé•ÁÆ°‰∫Ü„ÄÇ‰∏çÁî®Êàë‰∏Ä‰∏™‰∏Ä‰∏™ËÆæÁΩÆ&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Á¨¨‰∫åË°åÊòØÂüüÂêçÊú¨‰Ωì&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;code>www&lt;/code> ËÆ©ËæìÂÖ• &lt;a class="link" href="https://www.ponderduck.cc" target="_blank" rel="noopener"
>www.ponderduck.cc&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
‰πüËÉΩËÆøÈóÆ&lt;/p>
&lt;/li>
&lt;/ul>
&lt;p>Â§çÂà∂ CloudFlare Êèê‰æõÁöÑ‰∏§‰∏™ÂêçÁß∞ÊúçÂä°Âô®ÔºåÂ°´Ëøõ Dynadot ÁöÑ DNS ËÆæÁΩÆÔºå‰øùÂ≠ò&lt;/p>
&lt;!-- raw HTML omitted -->
&lt;p>ÂõûÂà∞ CloudFlare ÁÇπÂáª &lt;code>Done, check nameservers&lt;/code>ÔºåÁ≠â‰∏Ä‰ºö&lt;/p>
&lt;!-- raw HTML omitted -->
&lt;p>&lt;del>ÊµãËØïÔºåping ‰Ω†ÁöÑÂüüÂêçÔºåËøîÂõûÊúçÂä°Âô® IP ËØ¥ÊòéËß£ÊûêÁîüÊïà&lt;/del>&lt;/p>
&lt;!-- raw HTML omitted -->
&lt;p>ÂºÄÂêØÂÆåÂÖ® SSLÔºåÂê¶ÂàôËÆøÈóÆÁ´ôÁÇπ‰ºöÊä•„ÄåÈáçÂÆöÂêëÊ¨°Êï∞ËøáÂ§ö„ÄçÁöÑÈîôËØØ&lt;/p>
&lt;p>&lt;img src="https://falasool.github.io/Library/Application%20Support/typora-user-images/image-20221121185003309.png"
loading="lazy"
alt="image-20221121185003309"
>&lt;/p>
&lt;p>‚úÖÂüüÂêçËß£ÊûêÂÆåÊàê&lt;/p>
&lt;h2 id="ÊúçÂä°Âô®Âü∫Á°ÄÈÖçÁΩÆ">ÊúçÂä°Âô®Âü∫Á°ÄÈÖçÁΩÆ&lt;/h2>
&lt;p>&lt;strong>ÂØπÂì™‰∏ÄÊ≠•‰∏çËá™‰ø°ÔºåÂèØ‰ª•Âú®ÂºÄÂßãÂÅö‰πãÂâçÂÖàÂéªÊúçÂä°Âô®ÁÆ°ÁêÜÈù¢ÊùøÂàõÂª∫‰∏Ä‰∏™Âø´ÁÖßÔºàsnapshotsÔºâÔºåÂø´ÁÖßÂ∞±ÊòØÂ≠òÊ°£ÁÇπ&lt;/strong>&lt;/p>
&lt;h3 id="ËøúÁ®ãËøûÊé•">ËøúÁ®ãËøûÊé•&lt;/h3>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">ssh root@101.113.22.42 &lt;span class="c1"># Êç¢Êàê‰Ω†ÁöÑipÂú∞ÂùÄÔºåÂõûËΩ¶&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>ÁÑ∂ÂêéÊääÂØÜÁ†Å‰ªé vultr Â§çÂà∂ËøáÊù•ÂõûËΩ¶Ôºå‰ºöÁúãÂà∞Á±ª‰ººËøôÊ†∑ÁöÑÊèêÁ§∫Â∞±Ë°®Á§∫ËøûÊé•ÊúçÂä°Âô®ÊàêÂäü&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">Welcome to Ubuntu 22.10 &lt;span class="o">(&lt;/span>GNU/Linux 5.19.0-23-generic x86_64&lt;span class="o">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> * Documentation: https://help.ubuntu.com
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> * Management: https://landscape.canonical.com
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> * Support: https://ubuntu.com/advantage
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> ...ÁúÅÁï•‰∏ÄÈÉ®ÂàÜÂÜÖÂÆπ...
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">root@vultr:~#
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="ÂÆâÂÖ®ËÆæÁΩÆ">ÂÆâÂÖ®ËÆæÁΩÆ&lt;/h3>
&lt;p>Âõ†‰∏∫ root ÊùÉÈôêÂ§™Â§™Â§™Âº∫Â§ßÔºå‰∏∫‰∫ÜÈÅøÂÖçÂ©¥ÂÑøÔºàÊàëÔºâÊãøÊ†∏Ê≠¶Âô®ÂèëÂ∞ÑÊåâÈíÆÁöÑÊÉÖÂÜµÂá∫Áé∞ÔºåÂàõÂª∫‰∏Ä‰∏™ÊôÆÈÄöÁî®Êà∑Êó•Â∏∏‰ΩøÁî®&lt;/p>
&lt;h4 id="Êñ∞Âª∫ÊôÆÈÄöÁî®Êà∑Âπ∂ËÆæÂÆöÂØÜÁ†Å">Êñ∞Âª∫ÊôÆÈÄöÁî®Êà∑Âπ∂ËÆæÂÆöÂØÜÁ†Å&lt;/h4>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">adduser vpsadmin &lt;span class="c1"># vpsadminÊòØÁî®Êà∑Âêç&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>ÁÑ∂ÂêéËæìÂÖ•ÂØÜÁ†Å - Á°ÆËÆ§ÂØÜÁ†ÅÔºàÂ§™ÁÆÄÂçï‰ºöË¢´ÊãíÁªù==Ôºâ&lt;/p>
&lt;!-- raw HTML omitted -->
&lt;h4 id="Ëµã‰∫à-vpsadmin-‰ΩøÁî®-sudo-Êåá‰ª§ÁöÑÊùÉÈôê">Ëµã‰∫à „Äåvpsadmin„Äç ‰ΩøÁî® sudo Êåá‰ª§ÁöÑÊùÉÈôê&lt;/h4>
&lt;p>‰ªÄ‰πàÊòØ su Âíå sudo ËØ∑ÁúãÔºö&lt;a class="link" href="https://blog.gtwang.org/linux/sudo-su-command-tutorial-examples/" target="_blank" rel="noopener"
>Linux ÁöÑ su Ëàá sudo Êåá‰ª§ÊïôÂ≠∏ËàáÁØÑ‰æã&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">sudo adduser vpsadmin sudo
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Âè¶Â§ñÂºÄ‰∏Ä‰∏™ÁªàÁ´ØÁ™óÂè£ÔºåÁôªÂΩï vpsadmin Ë¥¶Âè∑&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">ssh vpsadmin@185.202.62.49 &lt;span class="c1"># Êç¢Êàê‰Ω†ÁöÑIPÔºåÂõûËΩ¶ÔºåÁÑ∂ÂêéËæìÂÖ•ÂØÜÁ†Å&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>È™åËØÅÊòØÂê¶Ëé∑Âæó sudo ÊùÉÈôê&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">sudo ls -al /root
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>ËøîÂõûÁ±ª‰ººÂÜÖÂÆπÔºàÂ±ïÁ§∫ &lt;code>/root&lt;/code> ÁõÆÂΩï‰∏ãÁöÑËµÑÊñôÔºâÂ∞±Ë°®Á§∫ÊàêÂäü‰∫Ü&lt;/p>
&lt;!-- raw HTML omitted -->
&lt;h4 id="ÂèØÈÄâsshÂÖçÂØÜÁôªÂΩï">[ÂèØÈÄâ]SSHÂÖçÂØÜÁôªÂΩï&lt;/h4>
&lt;p>ÊØèÊ¨°ÁôªÂΩï vpsadmin ÈÉΩË¶ÅÊâãÂä®ËæìÂØÜÁ†ÅÂæàÈ∫ªÁÉ¶ÔºåËÆæÁΩÆ‰∏Ä‰∏ãÂÖçÂØÜÁôªÂΩï&lt;/p>
&lt;p>Âú® Tabby ËÆæÁΩÆ - Profiles &amp;amp; connections - &lt;code>+ New profile&lt;/code> - SSH connection&lt;/p>
&lt;!-- raw HTML omitted -->
&lt;h4 id="Á¶ÅÊ≠¢-root-ÁôªÂΩï">Á¶ÅÊ≠¢ root ÁôªÂΩï&lt;/h4>
&lt;p>ÔºàÁ¶ÅÁî®Ê†∏ÊåâÈíÆÔºâ&lt;/p>
&lt;p>ÁôªÂΩï root Ë¥¶Êà∑ÔºåËæìÂÖ•&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">nano /etc/ssh/sshd_config
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>‰ΩøÁî® &lt;code>control + W&lt;/code> ËøõÂÖ•ÊêúÁ¥¢Ê®°ÂºèÔºåËæìÂÖ• &lt;code>PerimitRootLogin&lt;/code> Âπ∂ÂõûËΩ¶ÔºåÊâæÂà∞ÊâÄÂú®Ë°åÔºåÊîπÊàêÔºàËÆ∞ÂæóË¶ÅÂèñÊéâÊ≥®Èáä &lt;code>#&lt;/code>ÔºÅÔºÅÔºâ&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">PermitRootLogin: no
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>*prohibit-password/without-password ÊÑè‰∏∫Á¶ÅÊ≠¢ÂØÜÁ†ÅÁôªÂΩï&lt;/p>
&lt;p>‰ΩøÁî® &lt;code>control + O&lt;/code>Ôºå‰øùÂ≠òÊõ¥ÊîπÔºå&lt;code>control + X&lt;/code> ÈÄÄÂá∫&lt;/p>
&lt;p>ÈáçÊñ∞ÂêØÂä® SSH ÊúçÂä°&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">sudo /etc/init.d/ssh restart
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>&lt;strong>ÊâìÂºÄ‰∏Ä‰∏™Êñ∞Á™óÂè£&lt;/strong>ÔºåÂ∞ùËØïÁî® root ÁôªÂΩïÔºåËøîÂõû Permission denied&amp;hellip;&lt;/p>
&lt;!-- raw HTML omitted -->
&lt;p>‚úÖÊàêÂäüÁ¶ÅÊ≠¢ root ÁôªÂΩï&lt;/p>
&lt;p>‰ªéÁé∞Âú®ÂºÄÂßãÔºåÁî®„Äåvpsadmin„ÄçËøô‰∏™Ë¥¶Êà∑ËøúÁ®ãËøûÊé• VPS Âêß&lt;/p>
&lt;h3 id="Êê≠Âª∫ÁéØÂ¢É">Êê≠Âª∫ÁéØÂ¢É&lt;/h3>
&lt;h4 id="‰øÆÊîπÊúçÂä°Âô®Êó∂Èó¥">‰øÆÊîπÊúçÂä°Âô®Êó∂Èó¥&lt;/h4>
&lt;p>Êü•ÁúãÊó∂Èó¥&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">timedatectl
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;!-- raw HTML omitted -->
&lt;p>ÂàóÂá∫ÊâÄÊúâÊó∂Âå∫&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">timedatectl list-timezones
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;!-- raw HTML omitted -->
&lt;p>ÊîπÊàêÈ¶ôÊ∏Øüá≠üá∞&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">sudo timedatectl set-timezone Asia/Hong_Kong
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h4 id="ÂÆâË£ÖÂ∏∏Áî®ÂëΩ‰ª§">ÂÆâË£ÖÂ∏∏Áî®ÂëΩ‰ª§&lt;/h4>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">sudo apt-get install curl wget screen tree -y
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>*curlÁî®‰∫éËØ∑Ê±Ç Web ÊúçÂä°Âô®&lt;/p>
&lt;p>*wgetÁî®Êù•‰∏ãËΩΩËΩØ‰ª∂ÂåÖ&lt;/p>
&lt;p>*screenÁî®‰∫éÂëΩ‰ª§Ë°åÁªàÁ´ØÁöÑÁ™óÂè£ÂàáÊç¢&lt;/p>
&lt;p>*treeÁî®‰∫éÊòæÁ§∫ÂΩìÂâçÊñá‰ª∂Â§πÁöÑÁõÆÂΩïÁªìÊûÑ&lt;/p>
&lt;p>ÔºàÂ¶ÇÊûú‰Ω†ÊúâÂÖ∂ÂÆÉË¶ÅÁî®ÁöÑ‰πü‰∏ÄËµ∑Âä†ËøõÊù•ÔºåÊàñËÄÖË¶ÅÁî®‰∫ÜÂÜçÁî®Ëøô‰∏™ÂëΩ‰ª§ÂçïÁã¨ÂÆâË£Ö‰πüÂèØ‰ª•Ôºâ&lt;/p>
&lt;h4 id="Ê∑ªÂä†-swap">Ê∑ªÂä† SWAP&lt;/h4>
&lt;p>swap ÊòØ Linux ‰∏≠ÁöÑËôöÊãüÂÜÖÂ≠òÔºåÁî®‰∫éÂú®Áâ©ÁêÜÂÜÖÂ≠ò‰∏çË∂≥ÁöÑÊÉÖÂÜµ‰∏ãÂÇ®Â≠ò‰∏¥Êó∂Êï∞ÊçÆÔºåÂèØ‰ª•ÊèêÂçáÂ∞èÂÜÖÂ≠ò VPS ÁöÑËøêË°åÊïàÁéá&lt;/p>
&lt;p>Á°ÆËÆ§ÊòØÂê¶Â∑≤Â≠òÂú® SWAP&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">free -m
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;!-- raw HTML omitted -->
&lt;p>Êúâ Swap È°πËÄå‰∏î total Âàó‰∏ç‰∏∫Èõ∂ÔºåËØ¥Êòé Swap Â∑≤Â≠òÂú®ÔºåÂèØ‰ª•Ëá™Ë°å‰øÆÊîπÂàÜÂå∫ÂÆπÈáèÔºåÂèÇËÄÉÔºö‰∏∫ &lt;a class="link" href="https://www.vvave.net/archives/add-swap-and-repartition-swap-for-linux.html" target="_blank" rel="noopener"
>Linux Ê∑ªÂä† swap ÂàÜÂå∫Êàñ‰øÆÊîπ swap ÂàÜÂå∫ÂÆπÈáè&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
&lt;/p>
&lt;h4 id="ÈÖçÁΩÆÈò≤ÁÅ´Â¢ô">ÈÖçÁΩÆÈò≤ÁÅ´Â¢ô&lt;/h4>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">sudo ufw allow OpenSSH
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sudo ufw &lt;span class="nb">enable&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>ÊâìÂºÄÈò≤ÁÅ´Â¢ô&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">sudo ufw allow http
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sudo ufw allow https
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>ÊâìÂºÄ 80„ÄÅ443 ÁöÑÁ´ØÂè£&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">sudo ufw allow 80/tcp
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sudo ufw allow 443/tcp
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>ÔºàÂÖ∂ÂÆÉÊúçÂä°ÈúÄË¶ÅÁöÑÁ´ØÂè£‰πüÁî® &lt;code>sudo ufw allow xx/tcp&lt;/code> ÂºÄÂêØÔºâ&lt;/p>
&lt;p>È™åËØÅÈò≤ÁÅ´Â¢ôÊòØÂê¶ÊâìÂºÄÔºåÁ´ØÂè£ÊòØÂê¶ÂºÄÂêØ&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">sudo ufw status
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;!-- raw HTML omitted -->
&lt;p>ÂíåÂÖ∂ÂÆÉÊúçÂä°ÂïÜ‰∏çÂêåÔºåVultr Ê≤°ÊúâÈªòËÆ§Èò≤ÁÅ´Â¢ôËÆæÁΩÆÔºåÊâÄ‰ª•Ë¶ÅËá™Â∑±ÂºÄÂêØ&lt;/p>
&lt;p>Âú® Vultr Ê∑ªÂä†Èò≤ÁÅ´Â¢ôËßÑÂàô&lt;/p>
&lt;!-- raw HTML omitted -->
&lt;!-- raw HTML omitted -->
&lt;!-- raw HTML omitted -->
&lt;h4 id="ÂÆâË£Ö-docker-Âíå-docker-compose">ÂÆâË£Ö Docker Âíå Docker Compose&lt;/h4>
&lt;p>*Compose ÊòØ Docker ÁöÑ‰∏Ä‰∏™ÂëΩ‰ª§Ë°åÂ∑•ÂÖ∑ÔºåÈÄöËøá yml Êñá‰ª∂ÂÆö‰πâ„ÄÅÂàõÂª∫„ÄÅÁÆ°ÁêÜÂ§öÂÆπÂô®ÁöÑ Docker Â∫îÁî®&lt;/p>
&lt;p>Ë∑üÁùÄ &lt;a class="link" href="https://www.51cto.com/article/715086.html" target="_blank" rel="noopener"
>Â¶Ç‰ΩïÂú® Ubuntu 22.04 LTS ‰∏≠ÂÆâË£Ö Docker Âíå Docker Compose&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
‰∏ùÊªëÂÆåÊàêÂÆâË£Ö&lt;/p>
&lt;p>Êé®ËçêÔºö&lt;a class="link" href="https://ostechnix.com/getting-started-with-docker/" target="_blank" rel="noopener"
>Docker Commands Tutorial | Getting Started With Docker In Linux&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
&lt;/p>
&lt;h5 id="‰øÆÊîπ-docker-ÈÖçÁΩÆ">‰øÆÊîπ Docker ÈÖçÁΩÆ&lt;/h5>
&lt;p>Docker ÁöÑÈÖçÁΩÆÊñá‰ª∂Ë∑ØÂæÑÊòØ &lt;code>/etc/docker/daemon.json&lt;/code>ÔºåÈúÄË¶ÅÊâãÂä®ÂàõÂª∫Ôºö&lt;/p>
&lt;p>ËøõÂÖ• &lt;code>/etc/docker&lt;/code> ÁõÆÂΩï&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="nb">cd&lt;/span> /etc/docker
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Áî® vim ÁºñËæë &lt;code>daemon.json&lt;/code> Êñá‰ª∂&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">sudo vim daemon.json
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>ËøõÂÖ• vim ÂêéËæìÂÖ•Â¶Ç‰∏ãÂÜÖÂÆπÔºåËøôÊÆµ‰ª£Á†Å‰ºöÂ¢ûÂä†‰∏ÄÊÆµËá™ÂÆö‰πâÂÜÖÁΩë IPv6 Âú∞ÂùÄÔºåÂºÄÂêØÂÆπÂô®ÁöÑ IPv6 ÂäüËÉΩÔºåÈôêÂà∂Êó•ÂøóÊñá‰ª∂ÁöÑÂ§ßÂ∞èÔºà20MÔºâÔºåÈôêÂà∂Êó•ÂøóÊñá‰ª∂Êï∞ÈáèÔºåÈò≤Ê≠¢ Docker Êó•ÂøóËøáÂ§öÂç†Áî®Á°¨Áõò&lt;/p>
&lt;p>Ôºà‰ª£Á†ÅÊù•Ëá™&lt;a class="link" href="https://u.sb/debian-install-docker/" target="_blank" rel="noopener"
>ÁÉßÈ•ºÂçöÂÆ¢&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
Ôºâ&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-json" data-lang="json">&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;log-driver&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;json-file&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;log-opts&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;max-size&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;20m&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;max-file&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;3&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;ipv6&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">true&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;fixed-cidr-v6&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;fd00:dead:beef:c0::/80&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;experimental&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="kc">true&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;ip6tables&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="kc">true&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>‚ö†Ô∏è vim ÂíåÊôÆÈÄöÈîÆÂÖ•Áï•Êúâ‰∏çÁî®&lt;/p>
&lt;ul>
&lt;li>
&lt;p>È¶ñÂÖà &lt;code>I&lt;/code> ËøõÂÖ•ÁºñËæëÊ®°ÂºèÔºåËæìÂÖ•ÂÜÖÂÆπÔºàÊ≥®ÊÑèÊ†ºÂºèÔºöÂ§ßÊã¨Âè∑ &lt;code>{}&lt;/code> ÈáåÁöÑÂÜÖÂÆπÈô§‰∫ÜÊúÄÂêé‰∏ÄË°åÔºåÈÉΩÂøÖÈ°ªÁî®Ëã±ÊñáÈÄóÂè∑ &lt;code>,&lt;/code> ÁªìÂ∞æÔºâ&lt;/p>
&lt;/li>
&lt;li>
&lt;p>ÂÆåÊàêËæìÂÖ•ÂêéÔºåÊåâ &lt;code>esc&lt;/code> ÂõûÂà∞‰∏ÄËà¨Ê®°Âºè&lt;/p>
&lt;/li>
&lt;li>
&lt;p>ËæìÂÖ• &lt;code>:wq&lt;/code> ÔºåÂõûËΩ¶ÔºàÊÑè‰∏∫‰øùÂ≠ò-Á¶ªÂºÄÔºâ&lt;/p>
&lt;/li>
&lt;li>
&lt;p>‰∏çÊîæÂøÉÂèØ‰ª•ÂÜçÊ¨°ËøõÂÖ• daemon.json Ê£ÄÊü•ÊòØÂê¶ÊàêÂäüÂÜôÂÖ•ÔºåÊïàÊûúÁ±ª‰ººÔºö&lt;/p>
&lt;/li>
&lt;/ul>
&lt;!-- raw HTML omitted -->
&lt;p>‰∫ÜËß£Ôºö&lt;a class="link" href="https://www.runoob.com/linux/linux-vim.html" target="_blank" rel="noopener"
>Linux vi/vim ÊòØ‰ªÄ‰πàÔºåÊÄé‰πà‰ΩøÁî®&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
&lt;/p>
&lt;p>ÈáçÂêØ Docker ÊúçÂä°&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">sudo systemctl daemon-reload
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sudo systemctl restart docker
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h5 id="Ê£ÄÊü•-docker-ÊòØÂê¶Ê≠£Âú®ËøêË°å">Ê£ÄÊü• Docker ÊòØÂê¶Ê≠£Âú®ËøêË°å&lt;/h5>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">sudo systemctl status docker
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;!-- raw HTML omitted -->
&lt;p>Êç¢‰∏™ÊñπÂºèÔºåÂÜçÊµãËØï‰∏Ä‰∏ã&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">sudo docker run hello-world
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;!-- raw HTML omitted -->
&lt;p>Áªà‰∫éÊàêÂäü‰∫Ü üò≠&lt;/p>
&lt;h2 id="misskey">Misskey&lt;/h2>
&lt;h3 id="ÂàõÂª∫ÂÆâË£ÖÁõÆÂΩï">ÂàõÂª∫ÂÆâË£ÖÁõÆÂΩï&lt;/h3>
&lt;p>‰πãÂâçÁªô Docker ÁöÑÊï∞ÊçÆÂíåÈÖçÁΩÆÊñá‰ª∂Êñ∞Âª∫‰∏Ä‰∏™ÁõÆÂΩï &lt;code>docker_data&lt;/code>ÔºåËøô‰∏™Êñá‰ª∂Â§πÂ∞±ÊòØÂåÖ‰ΩèÊï¥‰∏™ Misskey ÁöÑÁõíÂ≠ê&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">sudo mkdir -p data/docker_data
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>ËøõÂÖ•ÁõÆÂΩï&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="nb">cd&lt;/span> data/docker_data
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>ÂàõÂª∫ misskey Êñá‰ª∂Â§π&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">sudo mkdir misskey
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="ÈÖçÁΩÆÂÆâË£ÖÊñá‰ª∂">ÈÖçÁΩÆÂÆâË£ÖÊñá‰ª∂&lt;/h3>
&lt;p>ËøõÂÖ• misskey Êñá‰ª∂Â§π&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="nb">cd&lt;/span> misskey
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>ÂàõÂª∫Âπ∂ÁºñËæë yml Êñá‰ª∂ÔºåËÆ©ÂÆÉÂéªÈÉ®ÁΩ≤&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">sudo vim docker-compose.yml
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Êåâ &lt;code>I&lt;/code>ÔºåÂàáÊç¢Âà∞ÁºñËæëÊ®°ÂºèÔºåÊää‰ª•‰∏ãÂÜÖÂÆπÁ≤òË¥¥ËøõÂéª&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-yml" data-lang="yml">&lt;span class="line">&lt;span class="cl">&lt;span class="c"># Misskey minimal deploy config&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">version&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s2">&amp;#34;3&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">services&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">web&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">restart&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">unless-stopped&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c"># alwaysÊÑèÂë≥ÁùÄËá™Âä®ÈáçÂêØÔºåËØ∑Ê≥®ÊÑèÂ¶ÇÊûúÊÇ®ÂØπÊÇ®ÁöÑÈÖçÁΩÆÊ≤°Êúâ‰ø°ÂøÉÔºåËØ∑‰∏çË¶ÅÂºÄÂêØËøô‰∏™ÈÄâÈ°πÔºå‰ª•ÈÅøÂÖçËøõÁ®ãÂ¥©Ê∫ÉÂèçÂ§çÈáçÂêØËÄóË¥πÂ§ßÈáèËµÑÊ∫êÔºÅ&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">image&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">misskey/misskey:latest&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c"># ËøôÈáå‰ΩøÁî®‰∫ÜÂÆòÊñπÈïúÂÉèÔºå‰ª•ÈÅøÂÖçÊú¨Âú∞ÊûÑÂª∫Êó∂ËµÑÊ∫ê‰∏çË∂≥ÁöÑÈóÆÈ¢ò&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">container_name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">misskey_web&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c"># ÂÆπÂô®ÂêçÔºåÊñπ‰æøÁÆ°ÁêÜÔºåÊÇ®ÂèØ‰ª•Ëá™Ë°å‰øÆÊîπ‰∏∫ÊÇ®ËßâÂæóÂêàÈÄÇÁöÑÂÜÖÂÆπ&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">links&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">db&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">redis&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">ports&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="s2">&amp;#34;3001:3001&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">networks&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">internal_network&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">external_network&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">volumes&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">./config:/misskey/.config:ro&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c"># Áî®‰∫éÊò†Â∞ÑÈÖçÁΩÆÊñá‰ª∂ÔºåËØ∑Ê†πÊçÆÊÇ®ÁöÑÂÆûÈôÖÈÖçÁΩÆÊù•ÂÜ≥ÂÆöÊñá‰ª∂Â§πÂêçÁß∞ÔºåËÆæÂÆö‰∏∫Âè™ËØªÂç≥ÂèØÔºõ&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">./files:/misskey/files&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c"># Áî®Êà∑‰∏ä‰º†Âà∞Êú¨Âú∞ÁöÑÊñá‰ª∂ÔºåÂ¶ÇÊûúÊÇ®‰∏ÄÂºÄÂßãÂ∞±Êé•ÂÖ•Â§ñÈÉ®Â≠òÂÇ®ÔºàÂ¶ÇwasabiÊàñÊòØAWS S3ÔºâÊÇ®ÂèØ‰ª•ÂøΩÁï•ËøôÂùóÈÖçÁΩÆ&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">redis&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">restart&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">unless-stopped&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">image&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">redis:latest&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">container_name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">misskey_redis&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">networks&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">internal_network&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">volumes&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">./redis:/data&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c"># redisÊï∞ÊçÆÂ∫ìÁöÑÊï∞ÊçÆÊñá‰ª∂Â§πÊò†Â∞ÑÔºåÂàõÂª∫ÂêéÈªòËÆ§Âú® ./redis Êñá‰ª∂Â§π‰∏≠&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">db&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">restart&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">unless-stopped&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">image&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">postgres:12.2-alpine&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">container_name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">misskey_db&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">networks&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">internal_network&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">env_file&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">./config/docker.env&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c"># ÈúÄË¶Å‰ΩøÁî®ÈÖçÁΩÆÊñá‰ª∂‰∏≠ËÆæÁΩÆÁöÑ Docker ÁéØÂ¢ÉÂèòÈáè&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">volumes&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">./db:/var/lib/postgresql/data&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c"># ‰∏ªÊï∞ÊçÆÂ∫ìÁöÑÊï∞ÊçÆÊñá‰ª∂Â§πÊò†Â∞ÑÔºåÂàõÂª∫ÂêéÈªòËÆ§Âú® ./db Êñá‰ª∂Â§π‰∏≠&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">networks&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">internal_network&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c"># ÂÜÖÈÉ®ÁΩëÁªú&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">internal&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kc">true&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">external_network&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c"># Â§ñÈÉ®ÁΩë&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Êåâ &lt;code>esc&lt;/code> ÔºåÊåâ &lt;code>:wq&lt;/code> ÔºåÂõûËΩ¶Ôºà‰øùÂ≠ò-ÈÄÄÂá∫Ôºâ&lt;/p>
&lt;p>ÂàõÂª∫ &lt;code>config/default.yml&lt;/code> ÁõÆÂΩïÂπ∂ËøõÂÖ• yml Êñá‰ª∂‰∏≠&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">sudo mkdir config
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">cd&lt;/span> config
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sudo vim default.yml
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Êåâ &lt;code>I&lt;/code>ÔºåÂàáÊç¢Âà∞ÁºñËæëÊ®°ÂºèÔºåÂ°´ÂÖ•‰ª•‰∏ãÂÜÖÂÆπ&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-yml" data-lang="yml">&lt;span class="line">&lt;span class="cl">&lt;span class="c">#‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c"># Misskey configuration&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c">#‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c"># ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c">#‚îÄ‚îÄ‚îÄ‚îò URL ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c"># Final accessible URL seen by a user.&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">url&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">https://ponderduck.cc/ &lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c"># Ê≥®ÊÑèÊîπÊàêËá™Â∑±ÊúÄÂêéÂèçÂêë‰ª£ÁêÜÊÉ≥Ë¶ÅÁöÑÁΩëÂùÄ&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c"># ONCE YOU HAVE STARTED THE INSTANCE, DO NOT CHANGE THE&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c"># URL SETTINGS AFTER THAT!&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c"># ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c">#‚îÄ‚îÄ‚îÄ‚îò Port and TLS settings ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c">#&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c"># Misskey requires a reverse proxy to support HTTPS connections.&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c">#&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c"># +----- https://example.tld/ ------------+&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c"># +------+ |+-------------+ +----------------+|&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c"># | User | ---&amp;gt; || Proxy (443) | ---&amp;gt; | Misskey (3000) ||&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c"># +------+ |+-------------+ +----------------+|&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c"># +---------------------------------------+&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c">#&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c"># You need to set up a reverse proxy. (e.g. nginx)&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c"># An encrypted connection with HTTPS is highly recommended&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c"># because tokens may be transferred in GET requests.&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c"># The port that your Misskey server should listen on.&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">port&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="m">3001&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c"># ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c">#‚îÄ‚îÄ‚îÄ‚îò PostgreSQL configuration ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">db&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">host&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">db&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">port&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="m">5432&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c"># Database name&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">db&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">misskey&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c"># Auth&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">user&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">example-misskey-user&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">pass&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">example-misskey-pass&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c"># Whether disable Caching queries&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c">#disableCache: true&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c"># Extra Connection options&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c">#extra:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c"># ssl: true&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c"># ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c">#‚îÄ‚îÄ‚îÄ‚îò Redis configuration ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">redis&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">host&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">redis&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">port&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="m">6379&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c">#family: 0 # 0=Both, 4=IPv4, 6=IPv6&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c">#pass: example-pass&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c">#prefix: example-prefix&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="c">#db: 1&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c"># ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c">#‚îÄ‚îÄ‚îÄ‚îò Elasticsearch configuration ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c">#elasticsearch:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c"># host: localhost&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c"># port: 9200&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c"># ssl: false&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c"># user: &lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c"># pass: &lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c"># ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c">#‚îÄ‚îÄ‚îÄ‚îò ID generation ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c"># You can select the ID generation method.&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c"># You don&amp;#39;t usually need to change this setting, but you can&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c"># change it according to your preferences.&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c"># Available methods:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c"># aid ... Short, Millisecond accuracy&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c"># meid ... Similar to ObjectID, Millisecond accuracy&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c"># ulid ... Millisecond accuracy&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c"># objectid ... This is left for backward compatibility&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c"># ONCE YOU HAVE STARTED THE INSTANCE, DO NOT CHANGE THE&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c"># ID SETTINGS AFTER THAT!&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">id&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s1">&amp;#39;aid&amp;#39;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c"># ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c">#‚îÄ‚îÄ‚îÄ‚îò Other configuration ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c"># Whether disable HSTS&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c">#disableHsts: true&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c"># Number of worker processes&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c">#clusterLimit: 1&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c"># Job concurrency per worker&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c"># deliverJobConcurrency: 128&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c"># inboxJobConcurrency: 16&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c"># Job rate limiter&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c"># deliverJobPerSec: 128&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c"># inboxJobPerSec: 16&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c"># Job attempts&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c"># deliverJobMaxAttempts: 12&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c"># inboxJobMaxAttempts: 8&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c"># IP address family used for outgoing request (ipv4, ipv6 or dual)&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c">#outgoingAddressFamily: ipv4&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c"># Syslog option&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c">#syslog:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c"># host: localhost&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c"># port: 514&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c"># Proxy for HTTP/HTTPS&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c">#proxy: http://127.0.0.1:3128&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c">#proxyBypassHosts: [&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c"># &amp;#39;example.com&amp;#39;,&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c"># &amp;#39;192.0.2.8&amp;#39;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c">#]&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c"># Proxy for SMTP/SMTPS&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c">#proxySmtp: http://127.0.0.1:3128 # use HTTP/1.1 CONNECT&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c">#proxySmtp: socks4://127.0.0.1:1080 # use SOCKS4&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c">#proxySmtp: socks5://127.0.0.1:1080 # use SOCKS5&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c"># Media Proxy&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c">#mediaProxy: https://example.com/proxy&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c"># Proxy remote files (default: false)&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c">#proxyRemoteFiles: true&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c"># Sign to ActivityPub GET request (default: false)&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c">#signToActivityPubGet: true&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c">#allowedPrivateNetworks: [&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c"># &amp;#39;127.0.0.1/32&amp;#39;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c">#]&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c"># Upload or download file size limits (bytes)&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="c">#maxFileSize: 262144000&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Êåâ &lt;code>esc&lt;/code> ÔºåÊåâ &lt;code>:wq&lt;/code> ÔºåÂõûËΩ¶Ôºà‰øùÂ≠ò-ÈÄÄÂá∫Ôºâ&lt;/p>
&lt;p>ËøõÂÖ• env Êñá‰ª∂&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">sudo vim docker.env
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Êåâ &lt;code>I&lt;/code>ÔºåÂàáÊç¢Âà∞ÁºñËæëÊ®°ÂºèÔºåÂ°´ÂÜôÂ¶Ç‰∏ãÂÜÖÂÆπ&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-yaml" data-lang="yaml">&lt;span class="line">&lt;span class="cl">&lt;span class="c"># db settings&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="l">POSTGRES_PASSWORD=example-misskey-pass&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="l">POSTGRES_USER=example-misskey-user&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="l">POSTGRES_DB=misskey&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="ÈÉ®ÁΩ≤">ÈÉ®ÁΩ≤&lt;/h3>
&lt;p>ËøòËÆ∞ÂæóÊàëËØ¥„ÄåÂàõÂª∫Âπ∂ÁºñËæë yml Êñá‰ª∂ÔºåËÆ©ÂÆÉÂéªÈÉ®ÁΩ≤„ÄçÂêóÔºü&lt;/p>
&lt;p>Áé∞Âú®Êñá‰ª∂Â∑≤ÁªèÈÖçÁΩÆÂÆåÊØï‰∫ÜÔºåÊòØÊó∂ÂÄôËÆ©ÂÆÉË∑ëËµ∑Êù•‰∫ÜÔºÅ&lt;/p>
&lt;p>ÂèåÊâãÂêàÂçÅüôè&lt;/p>
&lt;p>ÂàáÊç¢Âà∞‰∏ä‰∏ÄÁ∫ßÁõÆÂΩï&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="nb">cd&lt;/span> ..
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>ÂàùÂßãÂåñÊï∞ÊçÆÂ∫ì&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">sudo docker-compose run --rm web yarn run init
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>ÂêéÂè∞ÂêØÂä®È°πÁõÆÂÆπÂô®&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">sudo docker-compose up -d
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="ËÆøÈóÆÁ´ôÁÇπ">ËÆøÈóÆÁ´ôÁÇπ&lt;/h3>
&lt;p>Êü•ÁúãÁ´ØÂè£Áä∂ÊÄÅ&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">sudo lsof -i:&amp;lt;port&amp;gt;
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>ÂÅáÂ¶ÇËøô‰∏™Á´ØÂè£‰∏çËÉΩÁî®ÔºåÈÇ£Â∞±Êç¢‰∏Ä‰∏™„ÄÇ&lt;/p>
&lt;p>Êñ∞Á´ØÂè£Ë¶ÅÂú®ÊúçÂä°ÂïÜÈò≤ÁÅ´Â¢ô„ÄÅufw ÂëΩ‰ª§„ÄÅ&lt;code>default.yml&lt;/code> Âíå &lt;code>docker-compose.yml&lt;/code> ÈáåÈÉΩÂºÄÂêØ„ÄÅÊîπËøáÊù•&lt;/p>
&lt;p>ÁÑ∂ÂêéÈáçÂêØ Docker&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">sudo docker-compose restart &lt;span class="o">[&lt;/span>ÊåáÂÆöÊúçÂä°ÁöÑÂÆπÂô®&lt;span class="o">]&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>ÂÆåÊàêËøô‰∏ÄÊ≠•‰πãÂêéÔºåÂ∞ùËØïÁî® IP ËÆøÈóÆÁ´ôÁÇπÂêß&lt;/p>
&lt;p>Âú®ÊµèËßàÂô®ËæìÂÖ• &lt;code>http://&amp;lt;ip&amp;gt;:&amp;lt;port&amp;gt;&lt;/code>ÔºàIP ÂèØ‰ª•Áî® &lt;code>curl ip.sb&lt;/code> ËøîÂõûÔºâ&lt;/p>
&lt;!-- raw HTML omitted -->
&lt;p>ÔºàÔºõ&lt;/p>
&lt;p>ËøòÊúâ‰∏§‰∏™‰ªªÂä°&lt;/p>
&lt;ul>
&lt;li>SSL ËØÅ‰π¶&lt;/li>
&lt;li>ÂèçÂêë‰ª£ÁêÜ&lt;/li>
&lt;/ul>
&lt;h3 id="nginx">Nginx&lt;/h3>
&lt;h4 id="ÂÆâË£Ö-nginx">ÂÆâË£Ö Nginx&lt;/h4>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">sudo apt update
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sudo apt install nginx
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Ë∞ÉÊï¥Èò≤ÁÅ´Â¢ôÔºåÂÖÅËÆ∏ Nginx ÊúçÂä°ÈÄöËøá&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">sudo ufw allow &lt;span class="s1">&amp;#39;Nginx HTTP&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sudo ufw allow &lt;span class="s1">&amp;#39;Nginx HTTPS&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sudo ufw allow &lt;span class="s1">&amp;#39;Nginx FULL&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Êü•ÁúãÊõ¥ÊîπÁªìÊûú&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">sudo ufw status
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Êü•Áúã Nginx Áä∂ÊÄÅÔºàÊòØ active Â∞±Ë°åÔºâ&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">systemctl status nginx
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Âú®ÊµèËßàÂô®ËæìÂÖ• http://your_vps_ipÔºåËøîÂõû Nginx ÈªòËÆ§È°µÈù¢&lt;/p>
&lt;!-- raw HTML omitted -->
&lt;p>ËÆ© Nginx Âú®Á≥ªÁªüÂêØÂä®Êó∂Ëá™Âä®ÂêØÂä®&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">sudo systemctl &lt;span class="nb">enable&lt;/span> nginx
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h4 id="ËÆæÁΩÆÊúçÂä°Âô®Âùó">ËÆæÁΩÆÊúçÂä°Âô®Âùó&lt;/h4>
&lt;p>ÂàõÂª∫Á´ôÁÇπÂØπÂ∫îÁõÆÂΩï&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">sudo mkdir -p /var/www/ponderduck.cc/html
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>‰ΩøÁî®&lt;code>$USER&lt;/code>ÁéØÂ¢ÉÂèòÈáèÂàÜÈÖçÁõÆÂΩïÁöÑÊâÄÊúâÊùÉ&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">sudo chown -R $USER:$USER /var/www/ponderduck.cc/html
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Â¶ÇÊûúÊàë‰ª¨Ê≤°Êúâ‰øÆÊîπËá™Â∑±ÁöÑ&lt;code>umask&lt;/code>ÂÄºÔºåÈÇ£‰πà Web Ê†πÁõÆÂΩïÁöÑÊùÉÈôêÂ∫îËØ•Ê≠£Á°ÆÔºåÊàë‰ª¨ÂèØ‰ª•ÈÄöËøáËæìÂÖ•‰ª•‰∏ãÂëΩ‰ª§Êù•Á°ÆËÆ§Ôºö&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">sudo chmod -R &lt;span class="m">755&lt;/span> /var/www/ponderduck.cc
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>ÁºñËæë&lt;code>index.html&lt;/code>&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">sudo vim /var/www/ponderduck.cc/html/index.html
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Ê∑ªÂä†‰ª•‰∏ãÁ§∫‰æãHTML&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-html" data-lang="html">&lt;span class="line">&lt;span class="cl">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">html&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">head&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">title&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>Welcome to ponderduck.cc!&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">title&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">head&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">body&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">h1&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>Success! The ponderduck.cc server block is working!&lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">h1&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">&amp;lt;/&lt;/span>&lt;span class="nt">body&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>‰∏∫ Nginx ÂàõÂª∫‰∏Ä‰∏™ÊúçÂä°Âô®Âùó&lt;/p>
&lt;p>ÂàõÂª∫‰∏Ä‰∏™Êñ∞Êñá‰ª∂&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">sudo vim /etc/nginx/sites-available/ponderduck.conf
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Ê∑ªÂä†‰ª•‰∏ãÂÜÖÂÆπ&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">server &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> listen 80&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> listen &lt;span class="o">[&lt;/span>::&lt;span class="o">]&lt;/span>:80&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> root /var/www/ponderduck.cc/html&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> index index.html index.htm index.nginx-debian.html&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> server_name ponderduck.cc www.ponderduck.cc&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> location / &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> try_files &lt;span class="nv">$uri&lt;/span> &lt;span class="nv">$uri&lt;/span>/ &lt;span class="o">=&lt;/span>404&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>ÈÄöËøá ls ÂëΩ‰ª§Âú®&lt;code>sites-enabled&lt;/code>ÁõÆÂΩïÊñ∞Âª∫‰∏Ä‰∏™ÈìæÊé•ÔºåÂ•ΩËÆ© Nginx Âú®ÂêØÂä®ËøáÁ®ã‰∏≠‰ºöËØªÂèñËøô‰∏™ÁõÆÂΩïÔºö&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">sudo ln -s /etc/nginx/sites-available/ponderduck.conf /etc/nginx/sites-enabled/
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>ÊâìÂºÄÊñá‰ª∂Ôºö&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">sudo vim /etc/nginx/nginx.conf
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>ÊâæÂà∞&lt;code>server_names_hash_bucket_size&lt;/code>Êåá‰ª§Âπ∂Âà†Èô§&lt;code>#&lt;/code>Á¨¶Âè∑Ôºö&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">...
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">http &lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> ...
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> server_names_hash_bucket_size 64&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> ...
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">...
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Êé•‰∏ãÊù•ÔºåÊµãËØï‰ª•Á°Æ‰øùÊàë‰ª¨Âú® Nginx Êñá‰ª∂‰∏≠ÁöÑÊîπÂä®ÔºåÊ≤°Êúâ‰ªª‰ΩïÈóÆÈ¢òÔºö&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">sudo nginx -t
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Â¶ÇÊûúÊ≤°Êúâ‰ªª‰ΩïÈóÆÈ¢òÔºåËØ∑ÈáçÊñ∞ÂêØÂä® NginxÔºö&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">sudo systemctl restart nginx
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Áé∞Âú®ÈÄöËøá &lt;a class="link" href="http://ponderduck.cc" target="_blank" rel="noopener"
>http://ponderduck.cc&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
ËÆøÈóÆÊúçÂä°Âô®ÁöÑÊó∂ÂÄôÔºåNginx ‰ºöÊåáÂêëÊàë‰ª¨ÂàöÂàöÊ∑ªÂä†ÁöÑÈÇ£‰∏™ HTML È°µÈù¢&lt;/p>
&lt;h4 id="ssl">SSL&lt;/h4>
&lt;h5 id="ÂÆâË£Ö-certbot">ÂÆâË£Ö Certbot&lt;/h5>
&lt;p>Êàë‰ª¨ÈúÄË¶ÅËé∑ÂæóË¢´‰ø°‰ªªÁöÑËØÅ‰π¶ÊéàÊùÉ‰∏≠ÂøÉÔºà CA ÔºâÁ≠æÂèëÁöÑÂÆâÂÖ®ËØÅ‰π¶„ÄÇLet‚Äôs Encrypt ÊòØ ISRG Ôºà Internet Security Research Group Ôºå‰∫íËÅîÁΩëÂÆâÂÖ®Á†îÁ©∂Â∞èÁªÑÔºâÁöÑÁªÑÁªáÊé®Âá∫ÁöÑÂÖçË¥πÂÆâÂÖ®ËØÅ‰π¶ËÆ°Âàí„ÄÇ&lt;/p>
&lt;p>ISRG ÁöÑÂèëËµ∑ËÄÖ EFF ÔºàÁîµÂ≠êÂâçÂì®Âü∫Èáë‰ºöÔºâ‰∏∫ Let‚Äôs Encrypt È°πÁõÆÂèëÂ∏É‰∫Ü‰∏Ä‰∏™ÂÆòÊñπÁöÑÂÆ¢Êà∑Á´Ø Certbot ÔºåÂà©Áî®ÂÆÉÂèØ‰ª•ÂÆåÂÖ®Ëá™Âä®ÂåñÁöÑËé∑Âèñ„ÄÅÈÉ®ÁΩ≤ÂíåÊõ¥Êñ∞ÂÆâÂÖ®ËØÅ‰π¶&lt;/p>
&lt;p>ÂÆâË£Ö Certbot&lt;/p>
&lt;p>Âéª &lt;a class="link" href="https://certbot.eff.org/" target="_blank" rel="noopener"
>ÂÆòÁΩë&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
ÈÄâÊã©ÊàëÊ≠£Âú®‰ΩøÁî®ÁöÑ Web ÊúçÂä°Âô®ÔºàNginxÔºâÂíåÊìç‰ΩúÁ≥ªÁªüÔºàUbuntu 20ÔºâÔºåÊìç‰ΩúÂØπÂ∫îÁöÑÂÆâË£ÖÊ≠•È™§&lt;/p>
&lt;p>Ubuntu Ëá™Â∏¶ SnapÔºåÁî® Snap ÂÆâË£Ö Certbot&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">sudo snap install --classic certbot
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Áî® ln ÂëΩ‰ª§ÂàõÂª∫Á¨¶Âè∑ËøûÊé•ÔºåÂ∞Ü Certbot Âä†ÂÖ• PATH ÁéØÂ¢ÉÂèòÈáè‰∏≠&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">sudo ln -s /snap/bin/certbot /usr/bin/certbot
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h5 id="ÁîüÊàê-ssl-ËØÅ‰π¶">ÁîüÊàê SSL ËØÅ‰π¶&lt;/h5>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">sudo certbot --nginx -d www.ponderduck.cc
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>ËæìÂÖ•ÈÇÆÁÆ±Âú∞ÂùÄÔºåÁî®‰∫éÊé•Êî∂ÈÇÆ‰ª∂&lt;/p>
&lt;p>ËæìÂÖ• &lt;code>Y&lt;/code>ÔºåÂêåÊÑèÂçèËÆÆÔºõËØ¢ÈóÆÊòØÂê¶Êé•Êî∂ÂâçÂì®Âü∫Èáë‰ºöÁöÑÈÇÆ‰ª∂ÔºåÊé•‰∏çÊé•Êî∂ÈÉΩË°å&lt;/p>
&lt;p>ËøîÂõûÔºàÊ≥®ÊÑèËØÅ‰π¶ÂÇ®Â≠ò‰ΩçÁΩÆÔºâ&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">Successfully received certificate.
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Certificate is saved at: /etc/letsencrypt/live/www.ponderduck.cc/fullchain.pem
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Key is saved at: /etc/letsencrypt/live/www.ponderduck.cc/privkey.pem
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">This certificate expires on 2023-02-18.
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">These files will be updated when the certificate renews.
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Certbot has set up a scheduled task to automatically renew this certificate in the background.
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Let&amp;rsquo;s Encrypt ÁöÑ SSL ËØÅ‰π¶‰ºöÂú® 90 Â§©ÂêéËøáÊúüÔºå‰ΩÜÊòØ Certbot ‰ºöËá™Âä®Áª≠ËÆ¢&lt;/p>
&lt;p>ÊµãËØïËØÅ‰π¶Ëá™Âä®Áª≠ËÆ¢ÊòØÂê¶ÁîüÊïà&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">sudo certbot renew --dry-run
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>ËøîÂõû‚¨áÔ∏èËØ¥ÊòéÂ∑≤ÁîüÊïà&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">Simulating renewal of an existing certificate for www.ponderduck.cc
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>ÊâæÂà∞Â≠òÊîæÁ´ôÁÇπËØÅ‰π¶ÁöÑÁõÆÂΩï&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">sudo ls /etc/letsencrypt/live
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>ÊàëÁöÑÊòØ&lt;code>www.ponderduck.cc &lt;/code>&lt;/p>
&lt;p>Êü•ËØ¢ËØÅ‰π¶&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">sudo ls /etc/letsencrypt/live/www.ponderduck.cc
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>ËøîÂõûÊñá‰ª∂Âêç&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">cert.pem chain.pem fullchain.pem privkey.pem
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Âêé‰∏§‰∏™Ë¶ÅÊ∑ªÂä†Âà∞ Nginx ÈÖçÁΩÆÊñá‰ª∂ &lt;code>.conf&lt;/code> Èáå&lt;/p>
&lt;h4 id="ÂèçÂêë‰ª£ÁêÜ">ÂèçÂêë‰ª£ÁêÜ&lt;/h4>
&lt;p>‰øÆÊîπÁΩëÁ´ôÈÖçÁΩÆÊñá‰ª∂&lt;/p>
&lt;p>ÂèÇËÄÉ &lt;a class="link" href="https://misskey-hub.net/en/docs/admin/nginx.html" target="_blank" rel="noopener"
>ÂÆòÁΩëÊñáÊ°£&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
Ôºå‰ª•‰∏ãÊòØÊàëÁöÑÂÆåÊï¥Êñá‰ª∂ÂÜÖÂÆπ&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl"># For WebSocket
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">map $http_upgrade $connection_upgrade {
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> default upgrade;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &amp;#39;&amp;#39; close;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">}
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">proxy_cache_path /tmp/nginx_cache levels=1:2 keys_zone=cache1:16m max_size=1g inactive=720m use_temp_path=off;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">server {
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> listen 80;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> listen [::]:80;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> server_name www.ponderduck.cc ponderduck.cc;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> # For SSL domain validation
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> root /var/www/html;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> location /.well-known/acme-challenge/ { allow all; }
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> location /.well-known/pki-validation/ { allow all; }
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> location / { return 301 https://$server_name$request_uri; }
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">}
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">server {
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> listen [::]:443 ssl http2;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> listen 443 ssl http2;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> server_name ponderduck.cc www.ponderduck.cc;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> ssl_session_cache shared:ssl_session_cache:10m;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> # ssl
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> ssl_certificate /etc/letsencrypt/live/www.ponderduck.cc/fullchain.pem;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> ssl_certificate_key /etc/letsencrypt/live/www.ponderduck.cc/privkey.pem;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> include /etc/letsencrypt/options-ssl-nginx.conf;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> ssl_dhparam /etc/letsencrypt/ssl-dhparams.pem;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> ssl_stapling on;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> ssl_stapling_verify on;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> # Change to your upload limit
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> client_max_body_size 80m;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> # ÂØπ&amp;#34;/&amp;#34;ÂêØÁî®ÂèçÂêë‰ª£ÁêÜ
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> location / {
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> # ÊåáÂÆöËΩ¨ÂèëÂú∞ÂùÄ
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> proxy_pass http://127.0.0.1:3001;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> proxy_set_header Host $host;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> proxy_http_version 1.1;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> proxy_redirect off;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> proxy_set_header Upgrade $http_upgrade;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> proxy_set_header Connection $connection_upgrade;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> proxy_cache cache1;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> proxy_cache_lock on;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> proxy_cache_use_stale updating;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> add_header X-Cache $upstream_cache_status;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> }
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">}
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Êé•‰∏ãÊù•ÔºåÊµãËØï‰ª•Á°Æ‰øùÊàë‰ª¨Âú® Nginx Êñá‰ª∂‰∏≠ÁöÑÊîπÂä®ÔºåÊ≤°Êúâ‰ªª‰ΩïÈóÆÈ¢òÔºö&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">sudo nginx -t
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>ÊúâÈóÆÈ¢òÁöÑËØùÊåâÁÖßÊèêÁ§∫‰øÆÊîπÔºåÂÅöÂÆå‰πãÂêéÔºåÈáçÊñ∞ÂêØÂä® NginxÔºö&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">sudo systemctl restart nginx
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Áé∞Âú® SSL ËØÅ‰π¶ÂíåÂèçÂêë‰ª£ÁêÜÈÉΩÁîüÊïà‰∫ÜÔºåÂ∞ùËØïÁî®ÂüüÂêçËÆøÈóÆÁ´ôÁÇπ&lt;/p>
&lt;!-- raw HTML omitted -->
&lt;p>ÂÆåÊàêüéâ&lt;/p>
&lt;p>Ê≥®ÂÜå‰∏Ä‰∏™Ë¥¶Âè∑ÔºåÂõûÂà∞ÂëΩ‰ª§Ë°åÂ∑•ÂÖ∑ÊääÂÆÉËÆæÁΩÆ‰∏∫ÁÆ°ÁêÜÂëò&lt;/p>
&lt;h2 id="Êó•Â∏∏Áª¥Êä§">Êó•Â∏∏Áª¥Êä§&lt;/h2>
&lt;h3 id="Êõ¥Êñ∞">Êõ¥Êñ∞&lt;/h3>
&lt;p>Docker-compose ÈÉ®ÁΩ≤&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="nb">cd&lt;/span> data/docker_data/misskey
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">docker-compose down
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">cp -r /root/data/docker_data/misskey /root/data/docker_data/misskey.archive &lt;span class="c1"># ‰∏á‰∫ãÂÖàÂ§á‰ªΩÔºå‰ª•Èò≤‰∏á‰∏ÄÔºåÂÖ∂ÂÆûËøôËæπÊ≤°ÂøÖË¶ÅÔºåÂõ†‰∏∫Êàë‰ª¨Ê≤°ÊúâÊò†Â∞ÑÂà∞Êú¨Âú∞Êñá‰ª∂Â§π&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">docker-compose pull
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">docker-compose up -d &lt;span class="c1"># ËØ∑‰∏çË¶Å‰ΩøÁî®docker-compose stopÊù•ÂÅúÊ≠¢ÂÆπÂô®ÔºåÂõ†‰∏∫Ëøô‰πàÂÅöÈúÄË¶ÅÈ¢ùÂ§ñÁöÑÊó∂Èó¥Á≠âÂæÖÂÆπÂô®ÂÅúÊ≠¢Ôºõdocker-compose up -dÁõ¥Êé•ÂçáÁ∫ßÂÆπÂô®Êó∂‰ºöËá™Âä®ÂÅúÊ≠¢Âπ∂Á´ãÂàªÈáçÂª∫Êñ∞ÁöÑÂÆπÂô®ÔºåÂÆåÂÖ®Ê≤°ÊúâÂøÖË¶ÅÊµ™Ë¥πÈÇ£‰∫õÊó∂Èó¥„ÄÇ&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">docker image prune &lt;span class="c1"># prune ÂëΩ‰ª§Áî®Êù•Âà†Èô§‰∏çÂÜç‰ΩøÁî®ÁöÑ docker ÂØπË±°„ÄÇÂà†Èô§ÊâÄÊúâÊú™Ë¢´ tag Ê†áËÆ∞ÂíåÊú™Ë¢´ÂÆπÂô®‰ΩøÁî®ÁöÑÈïúÂÉè&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>ÊèêÁ§∫Ôºö&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">WARNING! This will remove all dangling images.
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Are you sure you want to continue? [y/N]
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>ËæìÂÖ• &lt;code>y&lt;/code>&lt;/p>
&lt;h3 id="Âç∏ËΩΩ">Âç∏ËΩΩ&lt;/h3>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">cd /root/data/docker_data/misskey
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">docker-compose down
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">rm -rf /root/data/docker_data/misskey # ÂÆåÂÖ®Âà†Èô§Êò†Â∞ÑÂà∞Êú¨Âú∞ÁöÑÊï∞ÊçÆ
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="Âà†Èô§ÊóßÊï∞ÊçÆ">Âà†Èô§ÊóßÊï∞ÊçÆ&lt;/h3>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">docker system prune
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="Á£ÅÁõòÁ©∫Èó¥ÂàÜÊûêÂèäÊ∏ÖÁêÜ">Á£ÅÁõòÁ©∫Èó¥ÂàÜÊûêÂèäÊ∏ÖÁêÜ&lt;/h3>
&lt;p>ÂÜÖÂÆπ‰∏ªË¶ÅÊù•Ê∫êÔºöhttps://www.cnblogs.com/jing99/p/10487174.html&lt;/p>
&lt;p>ÊúâÊó∂ÂÄôË¶ÅÁî® &lt;code>sudo&lt;/code>&lt;/p>
&lt;h4 id="df-ÂëΩ‰ª§">df ÂëΩ‰ª§&lt;/h4>
&lt;p>ÂèØ‰ª•Êü•Áúã‰∏ÄÁ∫ßÊñá‰ª∂Â§πÂ§ßÂ∞è„ÄÅ‰ΩøÁî®ÊØî‰æã„ÄÅÊ°£Ê°àÁ≥ªÁªüÂíåÊåÇÂÖ•dian&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">[root@oms ~]# df -Th
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Filesystem Type Size Used Avail Use% Mounted on
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">/dev/vda1 ext4 40G 35G 3.1G 92% /
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">devtmpfs devtmpfs 1.9G 0 1.9G 0% /dev
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">tmpfs tmpfs 1.9G 0 1.9G 0% /dev/shm
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">tmpfs tmpfs 1.9G 191M 1.7G 11% /run
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">tmpfs tmpfs 1.9G 0 1.9G 0% /sys/fs/cgroup
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">tmpfs tmpfs 379M 0 379M 0% /run/user/0
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>‰∏É‰∏™Â≠óÊÆµÂàÜÂà´‰∏∫Ê°£Ê°àÁ≥ªÁªü„ÄÅÁ±ªÂûã„ÄÅËØ•ÂàÜÂâ≤Âå∫ÁöÑÂÆπÈáè„ÄÅÂ∑≤‰ΩøÁî®ÁöÑÂ§ßÂ∞è„ÄÅÂâ©‰∏ãÁöÑÂ§ßÂ∞è„ÄÅ‰ΩøÁî®ÁöÑÁôæÂàÜÊØîÂíåÊåÇÂÖ•ÁÇπ&lt;/p>
&lt;h4 id="duÂëΩ‰ª§">duÂëΩ‰ª§&lt;/h4>
&lt;p>Áî®Êù•Êü•ÁúãÁõÆÂΩïÊàñÊñá‰ª∂ÊâÄÂç†Áî®Á£ÅÁõòÁ©∫Èó¥ÁöÑÂ§ßÂ∞è„ÄÇÂ∏∏Áî®ÈÄâÈ°πÁªÑÂêà‰∏∫Ôºö&lt;code>du -sh [ÁõÆÂΩï]&lt;/code>&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">du -s ÁõÆÂΩï | sort -rn #ËøôÊòØÊåâÂ≠óËäÇÊéíÂ∫è
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">du -sh ÁõÆÂΩï | sort -rn #ËøôÊòØÊåâÂÖÜÔºàMÔºâÊù•ÊéíÂ∫è
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">#Áî±‰∫é-shÂ§ßÂ∞èÊòæÁ§∫ÁúãËµ∑Êù•ÊòØ‰π±ÁöÑÔºåÂõ†Ê≠§Âª∫ËÆÆ‰ΩøÁî®du -s|sort -nr
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">du -s ÁõÆÂΩï | sort -rn | head #ÈÄâÂá∫ÊéíÂú®ÂâçÈù¢ÁöÑ10‰∏™
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">du -s ÁõÆÂΩï | sort -rn | tail #ÈÄâÂá∫ÊéíÂú®ÂêéÈù¢ÁöÑ10‰∏™
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Â∏∏Áî®ÈÄâÈ°π&lt;/p>
&lt;blockquote>
&lt;p>-hÔºö‰ª•‰∫∫Á±ªÂèØËØªÁöÑÊñπÂºèÊòæÁ§∫&lt;/p>
&lt;p>-aÔºöÊòæÁ§∫ÁõÆÂΩïÂç†Áî®ÁöÑÁ£ÅÁõòÁ©∫Èó¥Â§ßÂ∞èÔºåËøòË¶ÅÊòæÁ§∫ÂÖ∂‰∏ãÁõÆÂΩïÂíåÊñá‰ª∂Âç†Áî®Á£ÅÁõòÁ©∫Èó¥ÁöÑÂ§ßÂ∞è&lt;/p>
&lt;p>-sÔºöÂè™ÊòæÁ§∫&lt;strong>ÁõÆÂΩïÂç†Áî®ÁöÑÁ£ÅÁõòÁ©∫Èó¥&lt;/strong>Â§ßÂ∞èÔºå‰∏çÊòæÁ§∫ÂÖ∂Â≠êÁõÆÂΩïÂíåÊñá‰ª∂Âç†Áî®ÁöÑÁ£ÅÁõòÁ©∫Èó¥Â§ßÂ∞è&lt;/p>
&lt;p>-cÔºöÊòæÁ§∫Âá†‰∏™&lt;strong>ÁõÆÂΩïÊàñÊñá‰ª∂Âç†Áî®ÁöÑÁ£ÅÁõò&lt;/strong>Á©∫Èó¥Â§ßÂ∞èÔºåËøòË¶ÅÁªüËÆ°ÂÆÉ‰ª¨ÁöÑÊÄªÂíå&lt;/p>
&lt;p>&amp;ndash;apparent-sizeÔºöÊòæÁ§∫ÁõÆÂΩïÊàñÊñá‰ª∂Ëá™Ë∫´ÁöÑÂ§ßÂ∞è(Êñá‰ª∂ÊàñÁõÆÂΩïÂç†Áî®Á£ÅÁõòÁ©∫Èó¥ÁöÑÂ§ßÂ∞è‰∏éÂÆÉ‰ª¨Ëá™Ë∫´Â§ßÂ∞èÊúâÊó∂ÂÄôÂπ∂ÈùûÂÆåÂÖ®‰∏ÄËá¥)&lt;/p>
&lt;p>-l ÔºöÁªüËÆ°Á°¨ÈìæÊé•Âç†Áî®Á£ÅÁõòÁ©∫Èó¥ÁöÑÂ§ßÂ∞è&lt;/p>
&lt;p>-LÔºöÁªüËÆ°Á¨¶Âè∑ÈìæÊé•ÊâÄÊåáÂêëÁöÑÊñá‰ª∂Âç†Áî®ÁöÑÁ£ÅÁõòÁ©∫Èó¥Â§ßÂ∞è„ÄÇ&lt;/p>
&lt;/blockquote>
&lt;h4 id="rm-ÂëΩ‰ª§">rm ÂëΩ‰ª§&lt;/h4>
&lt;p>ÊÖéÁî®&lt;/p>
&lt;p>‰ª•‰∏ãÂæÖÂÅöÔºö&lt;/p>
&lt;p>&lt;a class="link" href="https://fediverse.eu.org/discussion/15/%E7%BB%99%E6%96%B0%E7%AB%99%E9%95%BF-%E5%BB%BA%E7%AB%99%E5%90%8E%E5%8F%AF%E5%8F%82%E8%80%83%E7%9A%84%E8%BF%90%E7%BB%B4%E5%8F%8A%E8%A3%85%E4%BF%AE%E7%9B%B8%E5%85%B3%E6%93%8D%E4%BD%9C#latest" target="_blank" rel="noopener"
>https://fediverse.eu.org/discussion/15/%E7%BB%99%E6%96%B0%E7%AB%99%E9%95%BF-%E5%BB%BA%E7%AB%99%E5%90%8E%E5%8F%AF%E5%8F%82%E8%80%83%E7%9A%84%E8%BF%90%E7%BB%B4%E5%8F%8A%E8%A3%85%E4%BF%AE%E7%9B%B8%E5%85%B3%E6%93%8D%E4%BD%9C#latest&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
&lt;/p>
&lt;p>&lt;a class="link" href="https://pullopen.github.io/tags/#Mastodon" target="_blank" rel="noopener"
>https://pullopen.github.io/tags/#Mastodon&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
&lt;/p>
&lt;ul>
&lt;li>Êâ´ÊèèÂá∫‰∏çÂ±û‰∫é‰ªª‰ΩïÂ™í‰ΩìÈôÑ‰ª∂ÁöÑÊñá‰ª∂Âπ∂ÁßªÈô§‰ªñ‰ª¨&lt;/li>
&lt;li>Ê∏ÖÈô§ÁºìÂ≠òÂ≠òÂÇ®&lt;/li>
&lt;li>‰ªéÊï∞ÊçÆÂ∫ì‰∏≠Âà†Èô§Êú™Ë¢´ÂºïÁî®ÁöÑÂòüÊñáÔºå‰æãÂ¶ÇÊù•Ëá™‰∏≠ÁªßÁöÑÊàñÊù•Ëá™Êú¨Âú∞Áî®Êà∑‰∏çÂÜçÂÖ≥Ê≥®ÁöÑÁî®Êà∑ÁöÑÂòüÊñáÔºåÂêåÊó∂Ê≤°ÊúâË¢´ÂõûÂ§çÁöÑÊàñ‰ª•ÂÖ∂‰ªñÊñπÂºè‰∏é‰πã‰∫íÂä®ÁöÑ&lt;/li>
&lt;/ul>
&lt;h3 id="Â∏∏Áî®ÂëΩ‰ª§">Â∏∏Áî®ÂëΩ‰ª§&lt;/h3>
&lt;p>Êü•Áúã docker ÂÆπÂô®Áä∂ÊÄÅ&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">sudo docker container stats
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="ÂÖ∂ÂÆÉÂèÇËÄÉ">ÂÖ∂ÂÆÉÂèÇËÄÉ&lt;/h2>
&lt;p>&lt;a class="link" href="https://blog.laoda.de/archives/getting-started-with-linux" target="_blank" rel="noopener"
>mjjÁâàÁöÑlinuxÂÖ•Èó®ÊïôÁ®ã&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
&lt;/p>
&lt;p>&lt;a class="link" href="https://weirenxue.github.io/2021/06/17/user_linux_sudo/" target="_blank" rel="noopener"
>[User] Linux Êñ∞Â¢û‰ΩøÁî®ËÄÖ‰∏¶Ë≥¶‰∫àÂÖ∂‰ΩøÁî® sudo ÁöÑÊ¨äÈôê&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
&lt;/p>
&lt;p>&lt;a class="link" href="https://blog.laoda.de/archives/how-to-secure-a-linux-server" target="_blank" rel="noopener"
>‰øùÊä§Â•Ω‰Ω†ÁöÑÂ∞èÈ∏°ÔºÅ‰øùÂßÜÁ∫ßÊúçÂä°Âô®ÂÆâÂÖ®ÊïôÁ®ãÔºÅ&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
&lt;/p>
&lt;p>&lt;a class="link" href="https://blog.laoda.de/archives/docker-compose-install-misskey#5.3-%E5%AE%89%E8%A3%85nginxproxymanager" target="_blank" rel="noopener"
>„ÄêÂ•ΩÁé©ÂÑøÁöÑDockerÈ°πÁõÆ„Äë10ÂàÜÈíüÊê≠Âª∫‰∏Ä‰∏™Âéª‰∏≠ÂøÉÂåñÂæÆÂçöÂπ≥Âè∞‚Äî‚ÄîMisskey ÔΩú‰∫åÊ¨°ÂÖÉÈ£éÊ†º„ÄÅËÅîÈÇ¶ÂÆáÂÆô&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
&lt;/p>
&lt;p>&lt;a class="link" href="https://candinya.com/posts/minimal-misskey-docker-deploy/" target="_blank" rel="noopener"
>‰ΩøÁî®DockerÊúÄÂ∞èÂåñÈÉ®ÁΩ≤Misskey&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
&lt;/p>
&lt;p>&lt;a class="link" href="https://eri.cx/build-your-own-decentralized-social-platform-misskey/" target="_blank" rel="noopener"
>Êê≠Âª∫Â±û‰∫éËá™Â∑±ÁöÑÂéª‰∏≠ÂøÉÂåñÁ§æ‰∫§Âπ≥Âè∞ Misskey&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
&lt;/p>
&lt;p>&lt;a class="link" href="https://kalacloud.com/blog/how-to-install-nginx-on-ubuntu-20-04/#%E7%AC%AC5%E6%AD%A5%E8%AE%BE%E7%BD%AE%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%9D%97server-block" target="_blank" rel="noopener"
>Â¶Ç‰ΩïÂú® Ubuntu 20.04 ‰∏≠ÂÆâË£ÖÂíåÈÖçÁΩÆ Nginx&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
&lt;/p>
&lt;p>&lt;a class="link" href="https://zxuqian.cn/install-nginx-on-ubuntu-20-04/" target="_blank" rel="noopener"
>Nginx ÊïôÁ®ãÔºöÂ¶Ç‰ΩïÂú® Ubuntu 20.04 ‰∏ãÂÆâË£ÖÂπ∂ÈÖçÁΩÆ Nginx&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
&lt;/p>
&lt;p>&lt;a class="link" href="https://www.myfreax.com/secure-nginx-with-let-s-encrypt-on-ubuntu-20-04/" target="_blank" rel="noopener"
>Â¶Ç‰ΩïÂú®Ubuntu 20.04 NginxÈÖçÁΩÆLet&amp;rsquo;s Encrypt SSLËØÅ‰π¶&lt;/a>
&lt;span style="white-space: nowrap;">&lt;svg width=".7em" height=".7em" viewBox="0 0 21 21"
xmlns="http://www.w3.org/2000/svg">
&lt;path d="m13 3l3.293 3.293l-7 7l1.414 1.414l7-7L21 11V3z" fill="currentColor" />
&lt;path d="M19 19H5V5h7l-2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-5l-2-2v7z"
fill="currentColor">
&lt;/svg>&lt;/span>
&lt;/p></description></item><item><title>Pleroma | ÂºÄÂêØÈÇÆ‰ª∂ÊúçÂä°ÔºàZOHOÔºâ</title><link>https://falasool.github.io/2022/zoho-mail-services/</link><pubDate>Fri, 21 Oct 2022 23:29:38 +0800</pubDate><guid>https://falasool.github.io/2022/zoho-mail-services/</guid><description>&lt;!-- raw HTML omitted -->
&lt;p>Âú® zoho.com Ê≥®ÂÜåË¥¶Âè∑ÔºåÈÄâÊã© Free PlanÔºåAdd an existing domainÔºåÊé•ÁùÄÂéªÈ™åËØÅÂüüÂêç&lt;/p>
&lt;p>Âú®ÂüüÂêçÊâòÁÆ°ÂïÜÔºàÊØîÂ¶Ç CloudflareÔºâÊ∑ªÂä†‰∏ÄÊù° TXT ËÆ∞ÂΩïÁÑ∂ÂêéÈ™åËØÅ&lt;/p>
&lt;p>&lt;img src="https://cdn.jsdelivr.net/gh/Falasool/blog-pic-bed@main//blog202306020051407.png"
loading="lazy"
alt="image-20230602005133357"
>&lt;/p>
&lt;p>Êé•ÁùÄÂ°´ÂÜô‰ªªÊÑèÂüüÂêçÂâçÁºÄÔºåÊØîÂ¶Ç adminÔºåÂÆåÊàêÂàõÂª∫„ÄÇË∑≥ËøáËÆæÁΩÆ GroupsÔºåÊù•Âà∞ DNS MappingÔºåÂêåÊ†∑Â°´ÂÜô&lt;/p>
&lt;p>&lt;img src="https://cdn.jsdelivr.net/gh/Falasool/blog-pic-bed@main//blog202306020104815.png"
loading="lazy"
alt="image-20230602010444789"
>&lt;/p>
&lt;p>Ê≥®ÊÑè DKIM&lt;/p>
&lt;p>&lt;img src="https://cdn.jsdelivr.net/gh/Falasool/blog-pic-bed@main//blogzmail_domain.webp"
loading="lazy"
alt="image"
>&lt;/p>
&lt;p>È™åËØÅÂêéÂÆåÊàêÔºåÂà∞ mail.zoho.com ÊµãËØïÊî∂ÂèëÈÇÆ‰ª∂ÂäüËÉΩ&lt;/p></description></item></channel></rss>
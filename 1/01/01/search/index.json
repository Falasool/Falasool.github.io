[{"content":"å•°å—¦é¢„è­¦\nå¤šå›¾é¢„è­¦\nè´­ä¹° VPS âš ï¸ä¸è¦ä¹°æœºæˆ¿åœ¨å¤§é™†çš„æœåŠ¡å•† VPS âš ï¸\nåœ¨å¤‡æ¡ˆé€šè¿‡ä¹‹å‰ 80 å’Œ 443 ç«¯å£æ˜¯å°ç¦çš„ -\u0026gt; æ— æ³•ç”³è¯· SSL è¯ä¹¦ -\u0026gt; Misskey éœ€è¦ SSL æ‰èƒ½è®¿é—®ï¼ŒGG\nï¼ˆå³ä½¿æ²¡æœ‰è¿™ä¸ªé—®é¢˜ï¼Œä¹°å¤§é™†èŠ‚ç‚¹çš„æœåŠ¡å»ºç«™ä¹Ÿæ˜¯ä¸€ç§è‡ªæ€è¡Œä¸ºï¼‰\næ³¨å†Œ Vultr è´¦å·ï¼Œå……å€¼\nåˆ›å»º VPS é€‰ Cloud Computer\nCPU é€‰ AMD å’Œ Intel éƒ½è¡Œ\næœºæˆ¿ä½ç½®é€‰æ‹©æ—¥æœ¬ã€æ–°åŠ å¡ã€ç¾è¥¿éƒ½è¡Œï¼Œä¸€èˆ¬ä¸æ¨èæ¬§æ´²ï¼ˆå¯¹äºä¸­å›½å›½å†…ï¼‰\né€‰æ‹©æ“ä½œç³»ç»Ÿï¼šUbuntu 22.10 x64\né€‰æ‹© Sizeï¼š$5 çš„ 1C1G1TB å¥—é¤ï¼ˆè®°å¾—å‹¾é€‰ No Thanksï¼‰\nå…³é—­è‡ªåŠ¨å¤‡ä»½ï¼Œçœ $1\nAdditional Featuresï¼šå‹¾é€‰ Enable IPv6\nè¿™æ—¶åº•éƒ¨ä»˜æ¬¾æ åº”è¯¥æ˜¾ç¤º $5.00/month ï¼Œç‚¹å‡» Deploy Now ç¡®è®¤åˆ›å»ºæœåŠ¡å™¨ï¼Œç­‰å¾…ä¸€ä¼šï¼Œç­‰ Status å˜æˆ Running å°±å¥½äº†\nç‚¹å‡»åˆšåˆšåˆ›å»ºçš„ VPSï¼Œçœ‹åˆ°å¦‚ä¸‹ç•Œé¢ã€‚\nå·¦ä¸‹è§’çš„ IP Addressã€Usernameã€Password æ˜¯å¾…ä¼šè¿æ¥æœåŠ¡å™¨çš„æ—¶å€™ï¼Œè¦ç”¨åˆ°çš„ SSH è¿æ¥ä¿¡æ¯\nç™»å½• VNCï¼šæŸ¥çœ‹æ§åˆ¶å°ï¼Œç±»ä¼¼ Xshell ä½†æ˜¯åŠŸèƒ½æ²¡é‚£ä¹ˆä¸°å¯Œ å…³æœºï¼šå°±å’Œå…³ç”µè„‘ä¸€æ ·ï¼ˆå…³æœºçš„æ—¶å€™ä»ç„¶åœ¨è®¡è´¹å“¦ï¼ï¼‰ é‡å¯ï¼šå°±å’Œé‡å¯ç”µè„‘ä¸€æ · é‡è£…ç³»ç»Ÿï¼šæŠŠæœåŠ¡å™¨é‡ç½®æˆåˆšåˆ›å»ºæ—¶çš„çŠ¶æ€ é”€æ¯/åˆ é™¤ï¼šé”€æ¯äº†æœåŠ¡å™¨å°±ä¸è®¡è´¹äº†ï¼Œæ•°æ®ä¸¢å¤±ï¼Œæ— æ³•æ‰¾å› Snapshotsï¼šå¿«ç…§ï¼ŒæŒ‡å°†å½“å‰ VPS çš„çŠ¶æ€ä¿å­˜ä¸‹æ¥ï¼Œå¯¹ VPS è¿›è¡Œå®Œæ•´å¤‡ä»½\næœåŠ¡å™¨åˆ›å»ºå®Œæˆ\næ£€æŸ¥ IP Ping ä¸€ä¸‹ IP\nç”¨æ£€æŸ¥å·¥å…·æ¯”å¦‚ https://ip112.cn/ æ£€æŸ¥ IPï¼Œæ­¤ IP å¯ç”¨\nåŸŸå åœ¨åŸŸåå•† Dynadot æ³¨å†Œè´¦å·ï¼Œä¹°ä¸€ä¸ªåŸŸå\nè§£æåŸŸå ä¾æ¬¡ç‚¹å‡»\næš‚åœâ¸ï¸\nå» CloudFlare æ³¨å†Œç™»å½•è´¦å·ï¼Œä¾æ¬¡æ“ä½œï¼š\næ·»åŠ æ–°ç«™ç‚¹\nè¾“å…¥ä½ çš„åŸŸå\né€‰æ‹©å…è´¹æ–¹æ¡ˆ\næ·»åŠ  DNS è§£æè®°å½•\n* æ˜¯é€šé…ç¬¦ï¼Œæ„æ€æ˜¯æˆ‘çš„äºŒçº§åŸŸåï¼Œxxx.ponderduck.cc çš„ DNS è§£æä¹Ÿä¸€èµ·è¢«æ¥ç®¡äº†ã€‚ä¸ç”¨æˆ‘ä¸€ä¸ªä¸€ä¸ªè®¾ç½®\nç¬¬äºŒè¡Œæ˜¯åŸŸåæœ¬ä½“\nwww è®©è¾“å…¥ www.ponderduck.cc ä¹Ÿèƒ½è®¿é—®\nå¤åˆ¶ CloudFlare æä¾›çš„ä¸¤ä¸ªåç§°æœåŠ¡å™¨ï¼Œå¡«è¿› Dynadot çš„ DNS è®¾ç½®ï¼Œä¿å­˜\nå›åˆ° CloudFlare ç‚¹å‡» Done, check nameserversï¼Œç­‰ä¸€ä¼š\næµ‹è¯•ï¼Œping ä½ çš„åŸŸåï¼Œè¿”å›æœåŠ¡å™¨ IP è¯´æ˜è§£æç”Ÿæ•ˆ\nâœ…åŸŸåè§£æå®Œæˆ\né…ç½® VPS å¯¹å“ªä¸€æ­¥ä¸è‡ªä¿¡ï¼Œå¯ä»¥åœ¨å¼€å§‹åšä¹‹å‰å…ˆå»æœåŠ¡å™¨ç®¡ç†é¢æ¿åˆ›å»ºä¸€ä¸ªå¿«ç…§ï¼ˆsnapshotsï¼‰ï¼Œå¿«ç…§å°±æ˜¯å­˜æ¡£ç‚¹\nè¿œç¨‹è¿æ¥ Win ç”¨æˆ·æ¨èç”¨ Xshellï¼ŒMac ç”¨è‡ªå¸¦çš„ Terminal å°±å¯ä»¥\n1 ssh root@207.143.88.12 # æ¢æˆä½ çš„ipåœ°å€ï¼Œå›è½¦ ç„¶åæŠŠå¯†ç ä» vultr å¤åˆ¶è¿‡æ¥å›è½¦ï¼Œè¿æ¥æˆåŠŸåˆ™ä¼šçœ‹åˆ°ç±»ä¼¼è¿™æ ·çš„æç¤ºï¼š\nå®‰å…¨è®¾ç½® å› ä¸º root æƒé™å¤ªå¤ªå¤ªå¼ºå¤§ï¼Œä¸ºäº†é¿å…å©´å„¿ï¼ˆæˆ‘ï¼‰æ‹¿æ ¸æ­¦å™¨å‘å°„æŒ‰é’®çš„æƒ…å†µå‡ºç°ï¼Œåˆ›å»ºä¸€ä¸ªæ™®é€šç”¨æˆ·æ—¥å¸¸ä½¿ç”¨\næ–°å»ºæ™®é€šç”¨æˆ·å¹¶è®¾å®šå¯†ç  1 adduser vpsadmin ç„¶åè¾“å…¥å¯†ç -ç¡®è®¤å¯†ç ï¼ˆå¤ªç®€å•ä¼šè¢«æ‹’ç»==ï¼‰\nèµ‹äºˆ ã€Œvpsadminã€ ä½¿ç”¨ sudo æŒ‡ä»¤çš„æƒé™ ä»€ä¹ˆæ˜¯ su å’Œ sudo è¯·çœ‹ï¼šLinux çš„ su èˆ‡ sudo æŒ‡ä»¤æ•™å­¸èˆ‡ç¯„ä¾‹\n1 sudo adduser vpsadmin sudo å¦å¤–å¼€ä¸€ä¸ªç»ˆç«¯çª—å£ï¼Œç™»å½• vpsadmin è´¦å·\n1 ssh vpsadmin@185.202.62.49 # æ¢æˆä½ çš„IPï¼Œå›è½¦ï¼Œç„¶åè¾“å…¥å¯†ç  éªŒè¯æ˜¯å¦è·å¾— sudo æƒé™\n1 sudo ls -al /root è¿”å›ç±»ä¼¼å†…å®¹ï¼ˆå±•ç¤º /root ç›®å½•ä¸‹çš„èµ„æ–™ï¼‰å°±è¡¨ç¤ºæˆåŠŸäº†\nç¦æ­¢ root ç™»å½• ç™»å½• root è´¦æˆ·ï¼Œè¾“å…¥\n1 nano /etc/ssh/sshd_config ä½¿ç”¨ control + W è¿›å…¥æœç´¢æ¨¡å¼ï¼Œè¾“å…¥ PerimitRootLogin å¹¶å›è½¦ï¼Œæ‰¾åˆ°æ‰€åœ¨è¡Œï¼Œæ”¹æˆï¼ˆè®°å¾—è¦å–æ‰æ³¨é‡Š #ï¼ï¼ï¼‰\n1 PermitRootLogin: no *prohibit-password/without-password æ„ä¸ºç¦æ­¢å¯†ç ç™»å½•\nä½¿ç”¨ control + Oï¼Œä¿å­˜æ›´æ”¹ï¼Œcontrol + X é€€å‡º\né‡æ–°å¯åŠ¨ SSH æœåŠ¡\n1 sudo /etc/init.d/ssh restart æ‰“å¼€ä¸€ä¸ªæ–°çª—å£ï¼Œå°è¯•ç”¨ root ç™»å½•\nâœ…æˆåŠŸç¦æ­¢ root ç™»å½•\nä»ç°åœ¨å¼€å§‹ï¼Œç”¨ã€Œvpsadminã€è¿™ä¸ªè´¦æˆ·è¿œç¨‹è¿æ¥ VPS å§\næ­å»ºç¯å¢ƒ ä¿®æ”¹æœåŠ¡å™¨æ—¶é—´ æŸ¥çœ‹æ—¶é—´\n1 timedatectl åˆ—å‡ºæ‰€æœ‰æ—¶åŒº\n1 timedatectl list-timezones æ”¹æˆé¦™æ¸¯ğŸ‡­ğŸ‡°\n1 sudo timedatectl set-timezone Asia/Hong_Kong å®‰è£…å¸¸ç”¨å‘½ä»¤ 1 sudo apt-get install curl wget screen tree -y *curlç”¨äºè¯·æ±‚ Web æœåŠ¡å™¨\n*wgetç”¨æ¥ä¸‹è½½è½¯ä»¶åŒ…\n*screenç”¨äºå‘½ä»¤è¡Œç»ˆç«¯çš„çª—å£åˆ‡æ¢\n*treeç”¨äºæ˜¾ç¤ºå½“å‰æ–‡ä»¶å¤¹çš„ç›®å½•ç»“æ„\nï¼ˆå¦‚æœä½ æœ‰å…¶å®ƒè¦ç”¨çš„ä¹Ÿä¸€èµ·åŠ è¿›æ¥ï¼Œæˆ–è€…è¦ç”¨äº†å†ç”¨è¿™ä¸ªå‘½ä»¤å•ç‹¬å®‰è£…ä¹Ÿå¯ä»¥ï¼‰\næ·»åŠ  SWAP swap æ˜¯ Linux ä¸­çš„è™šæ‹Ÿå†…å­˜ï¼Œç”¨äºåœ¨ç‰©ç†å†…å­˜ä¸è¶³çš„æƒ…å†µä¸‹å‚¨å­˜ä¸´æ—¶æ•°æ®ï¼Œå¯ä»¥æå‡å°å†…å­˜ VPS çš„è¿è¡Œæ•ˆç‡\nç¡®è®¤æ˜¯å¦å·²å­˜åœ¨ SWAP\n1 free -m æœ‰ Swap é¡¹è€Œä¸” total åˆ—ä¸ä¸ºé›¶ï¼Œè¯´æ˜ Swap å·²å­˜åœ¨ï¼Œå¯ä»¥è‡ªè¡Œä¿®æ”¹åˆ†åŒºå®¹é‡ï¼Œå‚è€ƒï¼šä¸º Linux æ·»åŠ  swap åˆ†åŒºæˆ–ä¿®æ”¹ swap åˆ†åŒºå®¹é‡\né…ç½®é˜²ç«å¢™ 1 2 sudo ufw allow OpenSSH sudo ufw enable æ‰“å¼€é˜²ç«å¢™\n1 2 sudo ufw allow http sudo ufw allow https æ‰“å¼€ 80ã€443 çš„ç«¯å£\n1 2 sudo ufw allow 80/tcp sudo ufw allow 443/tcp ï¼ˆå…¶å®ƒæœåŠ¡éœ€è¦çš„ç«¯å£ä¹Ÿç”¨ sudo ufw allow xx/tcp å¼€å¯ï¼‰\néªŒè¯é˜²ç«å¢™æ˜¯å¦æ‰“å¼€ï¼Œç«¯å£æ˜¯å¦å¼€å¯\n1 sudo ufw status å’Œå…¶å®ƒæœåŠ¡å•†ä¸åŒï¼ŒVultr æ²¡æœ‰é»˜è®¤é˜²ç«å¢™è®¾ç½®ï¼Œæ‰€ä»¥è¦è‡ªå·±å¼€å¯\nåœ¨ Vultr æ·»åŠ é˜²ç«å¢™è§„åˆ™\nå®‰è£… Docker å’Œ Docker Compose *Compose æ˜¯ Docker çš„ä¸€ä¸ªå‘½ä»¤è¡Œå·¥å…·ï¼Œé€šè¿‡ yml æ–‡ä»¶å®šä¹‰ã€åˆ›å»ºã€ç®¡ç†å¤šå®¹å™¨çš„ Docker åº”ç”¨\nè·Ÿç€ å¦‚ä½•åœ¨ Ubuntu 22.04 LTS ä¸­å®‰è£… Docker å’Œ Docker Compose ä¸æ»‘å®Œæˆå®‰è£…\næ¨èï¼šDocker Commands Tutorial | Getting Started With Docker In Linux\nä¿®æ”¹ Docker é…ç½® Docker çš„é…ç½®æ–‡ä»¶è·¯å¾„æ˜¯ /etc/docker/daemon.jsonï¼Œéœ€è¦æ‰‹åŠ¨åˆ›å»ºï¼š\nè¿›å…¥ /etc ç›®å½•\n1 cd /etc è¿›å…¥ docker ç›®å½•\n1 cd docker ç”¨ vim ç¼–è¾‘ daemon.json æ–‡ä»¶\n1 sudo vim daemon.json è¿›å…¥ vim åè¾“å…¥å¦‚ä¸‹å†…å®¹ï¼Œè¿™æ®µä»£ç ä¼šå¢åŠ ä¸€æ®µè‡ªå®šä¹‰å†…ç½‘ IPv6 åœ°å€ï¼Œå¼€å¯å®¹å™¨çš„ IPv6 åŠŸèƒ½ï¼Œé™åˆ¶æ—¥å¿—æ–‡ä»¶çš„å¤§å°ï¼ˆ20Mï¼‰ï¼Œé™åˆ¶æ—¥å¿—æ–‡ä»¶æ•°é‡ï¼Œé˜²æ­¢ Docker æ—¥å¿—è¿‡å¤šå ç”¨ç¡¬ç›˜\nï¼ˆä»£ç æ¥è‡ªçƒ§é¥¼åšå®¢ï¼‰\n1 2 3 4 5 6 7 8 9 10 11 { \u0026#34;log-driver\u0026#34;: \u0026#34;json-file\u0026#34;, \u0026#34;log-opts\u0026#34;: { \u0026#34;max-size\u0026#34;: \u0026#34;20m\u0026#34;, \u0026#34;max-file\u0026#34;: \u0026#34;3\u0026#34; }, \u0026#34;ipv6\u0026#34;: true, \u0026#34;fixed-cidr-v6\u0026#34;: \u0026#34;fd00:dead:beef:c0::/80\u0026#34;, \u0026#34;experimental\u0026#34;:true, \u0026#34;ip6tables\u0026#34;:true } âš ï¸ vim å’Œæ™®é€šé”®å…¥ç•¥æœ‰ä¸ç”¨\né¦–å…ˆ I è¿›å…¥ç¼–è¾‘æ¨¡å¼ï¼Œè¾“å…¥å†…å®¹ï¼ˆæ³¨æ„æ ¼å¼ï¼šå¤§æ‹¬å· {} é‡Œçš„å†…å®¹é™¤äº†æœ€åä¸€è¡Œï¼Œéƒ½å¿…é¡»ç”¨è‹±æ–‡é€—å· , ç»“å°¾ï¼‰\nå®Œæˆè¾“å…¥åï¼ŒæŒ‰ esc å›åˆ°ä¸€èˆ¬æ¨¡å¼\nè¾“å…¥ :wq ï¼Œå›è½¦ï¼ˆæ„ä¸ºä¿å­˜-ç¦»å¼€ï¼‰\nä¸æ”¾å¿ƒå¯ä»¥å†æ¬¡è¿›å…¥ daemon.json æ£€æŸ¥æ˜¯å¦æˆåŠŸå†™å…¥ï¼Œæ•ˆæœç±»ä¼¼ï¼š\näº†è§£ï¼šLinux vi/vim æ˜¯ä»€ä¹ˆï¼Œæ€ä¹ˆä½¿ç”¨\né‡å¯ Docker æœåŠ¡\n1 2 sudo systemctl daemon-reload sudo systemctl restart docker æ£€æŸ¥ Docker æ˜¯å¦æ­£åœ¨è¿è¡Œ 1 sudo systemctl status docker æ¢ä¸ªæ–¹å¼ï¼Œå†æµ‹è¯•ä¸€ä¸‹\n1 sudo docker run hello-world ç»ˆäºæˆåŠŸäº† ğŸ˜­\næ–‡ä»¶ç®¡ç† ç»™ Docker çš„æ•°æ®å’Œé…ç½®æ–‡ä»¶æ–°å»ºä¸€ä¸ªæ–‡ä»¶å¤¹\n1 mkdir -p data/docker_data Misskey åˆ›å»ºå®‰è£…ç›®å½• ä¹‹å‰ç»™ Docker çš„æ•°æ®å’Œé…ç½®æ–‡ä»¶æ–°å»ºä¸€ä¸ªç›®å½• docker_dataï¼Œè¿™ä¸ªæ–‡ä»¶å¤¹å°±æ˜¯åŒ…ä½æ•´ä¸ª Misskey çš„ç›’å­\nè¿›å…¥ç›®å½•\n1 cd data/docker_data åˆ›å»º misskey æ–‡ä»¶å¤¹\n1 sudo mkdir misskey é…ç½®å®‰è£…æ–‡ä»¶ è¿›å…¥ misskey æ–‡ä»¶å¤¹\n1 cd misskey åˆ›å»ºå¹¶ç¼–è¾‘ yml æ–‡ä»¶ï¼Œè®©å®ƒå»éƒ¨ç½²\n1 sudo vim docker-compose.yml æŠŠä»¥ä¸‹å†…å®¹ç²˜è´´è¿›å»\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 # Misskey minimal deploy config version: \u0026#34;3\u0026#34; services: web: restart: unless-stopped # alwaysæ„å‘³ç€è‡ªåŠ¨é‡å¯ï¼Œè¯·æ³¨æ„å¦‚æœæ‚¨å¯¹æ‚¨çš„é…ç½®æ²¡æœ‰ä¿¡å¿ƒï¼Œè¯·ä¸è¦å¼€å¯è¿™ä¸ªé€‰é¡¹ï¼Œä»¥é¿å…è¿›ç¨‹å´©æºƒåå¤é‡å¯è€—è´¹å¤§é‡èµ„æºï¼ image: misskey/misskey:latest # è¿™é‡Œä½¿ç”¨äº†å®˜æ–¹é•œåƒï¼Œä»¥é¿å…æœ¬åœ°æ„å»ºæ—¶èµ„æºä¸è¶³çš„é—®é¢˜ container_name: misskey_web # å®¹å™¨åï¼Œæ–¹ä¾¿ç®¡ç†ï¼Œæ‚¨å¯ä»¥è‡ªè¡Œä¿®æ”¹ä¸ºæ‚¨è§‰å¾—åˆé€‚çš„å†…å®¹ links: - db - redis ports: - \u0026#34;3001:3001\u0026#34; networks: - internal_network - external_network volumes: - ./config:/misskey/.config:ro # ç”¨äºæ˜ å°„é…ç½®æ–‡ä»¶ï¼Œè¯·æ ¹æ®æ‚¨çš„å®é™…é…ç½®æ¥å†³å®šæ–‡ä»¶å¤¹åç§°ï¼Œè®¾å®šä¸ºåªè¯»å³å¯ï¼› - ./files:/misskey/files # ç”¨æˆ·ä¸Šä¼ åˆ°æœ¬åœ°çš„æ–‡ä»¶ï¼Œå¦‚æœæ‚¨ä¸€å¼€å§‹å°±æ¥å…¥å¤–éƒ¨å­˜å‚¨ï¼ˆå¦‚wasabiæˆ–æ˜¯AWS S3ï¼‰æ‚¨å¯ä»¥å¿½ç•¥è¿™å—é…ç½® redis: restart: unless-stopped image: redis:latest container_name: misskey_redis networks: - internal_network volumes: - ./redis:/data # redisæ•°æ®åº“çš„æ•°æ®æ–‡ä»¶å¤¹æ˜ å°„ï¼Œåˆ›å»ºåé»˜è®¤åœ¨ ./redis æ–‡ä»¶å¤¹ä¸­ db: restart: unless-stopped image: postgres:12.2-alpine container_name: misskey_db networks: - internal_network env_file: - ./config/docker.env # éœ€è¦ä½¿ç”¨é…ç½®æ–‡ä»¶ä¸­è®¾ç½®çš„ Docker ç¯å¢ƒå˜é‡ volumes: - ./db:/var/lib/postgresql/data # ä¸»æ•°æ®åº“çš„æ•°æ®æ–‡ä»¶å¤¹æ˜ å°„ï¼Œåˆ›å»ºåé»˜è®¤åœ¨ ./db æ–‡ä»¶å¤¹ä¸­ networks: internal_network: # å†…éƒ¨ç½‘ç»œ internal: true external_network: # å¤–éƒ¨ç½‘ æŒ‰ esc ï¼ŒæŒ‰ :wq ï¼Œå›è½¦ï¼ˆä¿å­˜-é€€å‡ºï¼‰\nåˆ›å»º config/default.yml ç›®å½•å¹¶è¿›å…¥ yml æ–‡ä»¶ä¸­\n1 2 3 sudo mkdir config cd config sudo vim default.yml å¡«å…¥ä»¥ä¸‹å†…å®¹\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 124 125 126 127 128 129 130 131 132 133 134 135 136 137 138 139 140 141 142 143 144 145 146 147 148 149 #â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” # Misskey configuration #â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” # â”Œâ”€â”€â”€â”€â”€â” #â”€â”€â”€â”˜ URL â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ # Final accessible URL seen by a user. url: https://ponderduck.cc/ # æ³¨æ„æ”¹æˆè‡ªå·±æœ€ååå‘ä»£ç†æƒ³è¦çš„ç½‘å€ # ONCE YOU HAVE STARTED THE INSTANCE, DO NOT CHANGE THE # URL SETTINGS AFTER THAT! # â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” #â”€â”€â”€â”˜ Port and TLS settings â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ # # Misskey requires a reverse proxy to support HTTPS connections. # # +----- https://example.tld/ ------------+ # +------+ |+-------------+ +----------------+| # | User | ---\u0026gt; || Proxy (443) | ---\u0026gt; | Misskey (3000) || # +------+ |+-------------+ +----------------+| # +---------------------------------------+ # # You need to set up a reverse proxy. (e.g. nginx) # An encrypted connection with HTTPS is highly recommended # because tokens may be transferred in GET requests. # The port that your Misskey server should listen on. port: 3001 # â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” #â”€â”€â”€â”˜ PostgreSQL configuration â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ db: host: db port: 5432 # Database name db: misskey # Auth user: example-misskey-user pass: example-misskey-pass # Whether disable Caching queries #disableCache: true # Extra Connection options #extra: # ssl: true # â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” #â”€â”€â”€â”˜ Redis configuration â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ redis: host: redis port: 6379 #family: 0 # 0=Both, 4=IPv4, 6=IPv6 #pass: example-pass #prefix: example-prefix #db: 1 # â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” #â”€â”€â”€â”˜ Elasticsearch configuration â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ #elasticsearch: # host: localhost # port: 9200 # ssl: false # user: # pass: # â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” #â”€â”€â”€â”˜ ID generation â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ # You can select the ID generation method. # You don\u0026#39;t usually need to change this setting, but you can # change it according to your preferences. # Available methods: # aid ... Short, Millisecond accuracy # meid ... Similar to ObjectID, Millisecond accuracy # ulid ... Millisecond accuracy # objectid ... This is left for backward compatibility # ONCE YOU HAVE STARTED THE INSTANCE, DO NOT CHANGE THE # ID SETTINGS AFTER THAT! id: \u0026#39;aid\u0026#39; # â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” #â”€â”€â”€â”˜ Other configuration â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ # Whether disable HSTS #disableHsts: true # Number of worker processes #clusterLimit: 1 # Job concurrency per worker # deliverJobConcurrency: 128 # inboxJobConcurrency: 16 # Job rate limiter # deliverJobPerSec: 128 # inboxJobPerSec: 16 # Job attempts # deliverJobMaxAttempts: 12 # inboxJobMaxAttempts: 8 # IP address family used for outgoing request (ipv4, ipv6 or dual) #outgoingAddressFamily: ipv4 # Syslog option #syslog: # host: localhost # port: 514 # Proxy for HTTP/HTTPS #proxy: http://127.0.0.1:3128 #proxyBypassHosts: [ # \u0026#39;example.com\u0026#39;, # \u0026#39;192.0.2.8\u0026#39; #] # Proxy for SMTP/SMTPS #proxySmtp: http://127.0.0.1:3128 # use HTTP/1.1 CONNECT #proxySmtp: socks4://127.0.0.1:1080 # use SOCKS4 #proxySmtp: socks5://127.0.0.1:1080 # use SOCKS5 # Media Proxy #mediaProxy: https://example.com/proxy # Proxy remote files (default: false) #proxyRemoteFiles: true # Sign to ActivityPub GET request (default: false) #signToActivityPubGet: true #allowedPrivateNetworks: [ # \u0026#39;127.0.0.1/32\u0026#39; #] # Upload or download file size limits (bytes) #maxFileSize: 262144000 æŒ‰ esc ï¼ŒæŒ‰ :wq ï¼Œå›è½¦ï¼ˆä¿å­˜-é€€å‡ºï¼‰\nè¿›å…¥ env æ–‡ä»¶\n1 sudo vim docker.env å¡«å†™å¦‚ä¸‹å†…å®¹\n1 2 3 4 # db settings POSTGRES_PASSWORD=example-misskey-pass POSTGRES_USER=example-misskey-user POSTGRES_DB=misskey éƒ¨ç½² è¿˜è®°å¾—æˆ‘è¯´ã€Œåˆ›å»ºå¹¶ç¼–è¾‘ yml æ–‡ä»¶ï¼Œè®©å®ƒå»éƒ¨ç½²ã€å—ï¼Ÿ\nç°åœ¨æ–‡ä»¶å·²ç»é…ç½®å®Œæ¯•äº†ï¼Œæ˜¯æ—¶å€™è®©å®ƒè·‘èµ·æ¥äº†ï¼\nåŒæ‰‹åˆåğŸ™\nåˆ‡æ¢åˆ°ä¸Šä¸€çº§ç›®å½•\n1 cd .. å±ä½å‘¼å¸\n1 2 sudo docker-compose run --rm web yarn run init # åˆå§‹åŒ–æ•°æ®åº“ sudo docker-compose up -d # åå°å¯åŠ¨é¡¹ç›®å®¹å™¨ è·‘äº†è·‘äº†ï¼Œå¥½äº†å¥½äº†\nè®¿é—®ç«™ç‚¹ æŸ¥çœ‹ç«¯å£çŠ¶æ€\n1 sudo lsof -i:\u0026lt;port\u0026gt; å‡å¦‚è¿™ä¸ªç«¯å£ä¸èƒ½ç”¨ï¼Œé‚£å°±æ¢ä¸€ä¸ªã€‚\næ–°ç«¯å£è¦åœ¨æœåŠ¡å•†é˜²ç«å¢™ã€ufw å‘½ä»¤ã€default.yml å’Œ docker-compose.yml é‡Œéƒ½å¼€å¯ã€æ”¹è¿‡æ¥\nç„¶åé‡å¯ Docker\n1 sudo docker-compose restart [æŒ‡å®šæœåŠ¡çš„å®¹å™¨] å®Œæˆè¿™ä¸€æ­¥ä¹‹åï¼Œå°è¯•ç”¨ IP è®¿é—®ç«™ç‚¹å§\nåœ¨æµè§ˆå™¨è¾“å…¥ http://\u0026lt;ip\u0026gt;:\u0026lt;port\u0026gt;ï¼ˆIP å¯ä»¥ç”¨ curl ip.sb è¿”å›ï¼‰\næˆåŠŸäº†å£ç‰™ï¼\næµå‡ºå¤§æ²³æ³ª\nMisskey è¦æ±‚ SSL è®¿é—®ï¼Œå¦å¤–ç«™ç‚¹è¿˜éœ€è¦è®¾ç½®åå‘ä»£ç†ï¼Œè¿™ä¸¤ä»¶äº‹è®©â¬‡ï¸ NPM ä¸€èµ·å¹²äº†\nNginxProxyManagerï¼ˆNPMï¼‰ æ˜¯ä¸€ä¸ªå¸¦å‰ç«¯ç®¡ç†ç•Œé¢çš„ Nginx æœåŠ¡å™¨ï¼Œé€šè¿‡Letâ€™s encrypt æ¥è‡ªåŠ¨ç”³è¯· SSL è¯ä¹¦å¹¶è‡ªåŠ¨éƒ¨ç½²ï¼Œåå‘ä»£ç†ä½ æ‰€éœ€è¦çš„å®¹å™¨\nå¯ä»¥æ‹¿æ¥å®ç°äºŒçº§åŸŸååˆ†åˆ«è®¿é—®æŒ‡å®šç«¯å£çš„å®¹å™¨ + ä¸€é”®éƒ¨ç½² SSL\nåˆ›å»ºå¹¶é…ç½® docker-compose.yml æ–‡ä»¶ åˆ›å»ºå¹¶è¿›å…¥ yml æ–‡ä»¶\n1 2 3 4 cd /home sudo mkdir myapp cd myapp sudo vim docker-compose.yml æŠŠä»¥ä¸‹é…ç½®ç²˜è´´è¿›å»ï¼Œä¿å­˜é€€å‡º\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 version: \u0026#34;3\u0026#34; services: app: image: \u0026#39;jc21/nginx-proxy-manager:latest\u0026#39; restart: unless-stopped ports: # These ports are in format \u0026lt;host-port\u0026gt;:\u0026lt;container-port\u0026gt; - \u0026#39;80:80\u0026#39; # Public HTTP Port - \u0026#39;443:443\u0026#39; # Public HTTPS Port - \u0026#39;81:81\u0026#39; # Admin Web Port # Add any other Stream port you want to expose # - \u0026#39;21:21\u0026#39; # FTP environment: DB_MYSQL_HOST: \u0026#34;db\u0026#34; DB_MYSQL_PORT: 3306 DB_MYSQL_USER: \u0026#34;npm\u0026#34; DB_MYSQL_PASSWORD: \u0026#34;npm\u0026#34; DB_MYSQL_NAME: \u0026#34;npm\u0026#34; # Uncomment this if IPv6 is not enabled on your host # DISABLE_IPV6: \u0026#39;true\u0026#39; volumes: - ./data:/data - ./letsencrypt:/etc/letsencrypt depends_on: - db db: image: \u0026#39;jc21/mariadb-aria:latest\u0026#39; restart: unless-stopped environment: MYSQL_ROOT_PASSWORD: \u0026#39;npm\u0026#39; MYSQL_DATABASE: \u0026#39;npm\u0026#39; MYSQL_USER: \u0026#39;npm\u0026#39; MYSQL_PASSWORD: \u0026#39;npm\u0026#39; volumes: - ./data/mysql:/var/lib/mysql åå°å¯åŠ¨é¡¹ç›®å®¹å™¨\n1 sudo docker-compose up -d é‡åˆ°æŠ¥é”™ï¼š\n1 Error starting userland proxy: listen tcp 0.0.0.0:80: bind: address already in use æ‰§è¡Œ netstat -pna | grep 80 ï¼ˆæŸ¥è¯¢ç«¯å£ 80 æ˜¯å¦å¼€æ”¾/è¢«å ç”¨ï¼‰ï¼Œè¿”å›ï¼š\nListen è¡¨ç¤ºè¢«å ç”¨ï¼Œ80 ç«¯å£è¢« nginx å ç”¨\n*netstatï¼šæ§åˆ¶å°å‘½ä»¤ï¼Œç”¨äºç›‘æ§ TCP/IP ç½‘ç»œ\n*grepï¼šæŸ¥æ‰¾æ–‡ä»¶å†…å®¹\nğŸ”ªæ€æ‰è¿™ä¸ªè¿›ç¨‹\n1 sudo kill 19306 å†æ¬¡éƒ¨ç½²ï¼ŒæŸ¥çœ‹å®¹å™¨çš„è¿è¡Œæƒ…å†µ\n1 docker container ls ğŸ†è§£å†³æŠ¥é”™\nâœ…å®Œæˆ yml æ–‡ä»¶çš„é…ç½®\nç”³è¯· SSL è¯ä¹¦ å» CloudFlare\nè®¾ç½®åä»£ æ‰“å¼€æœåŠ¡å™¨çš„ 81 ç«¯å£\n1 sudo ufw allow 81/tcp åœ¨æµè§ˆå™¨è¾“å…¥ \u0026lt;ip\u0026gt;:81 ï¼Œç”¨é»˜è®¤è´¦å·å¯†ç ç™»å½• NPM\n1 2 admin@example.com changeme ä¿®æ”¹è´¦å·å¯†ç ï¼ŒNPM åˆå§‹åŒ–å®Œæˆï¼Œå¼€å§‹é…ç½®\nForward Hostname / IP å¡«çš„æ˜¯å®¹å™¨æ‰€åœ¨ Docker ç½‘æ¡¥çš„è™šæ‹Ÿ IPï¼Œé€šè¿‡å‘½ä»¤æŸ¥åˆ°\n1 sudo docker network inspect bridge æ‰¾åˆ° IPAM - Config - Gateway èŠ‚ç‚¹ï¼Œåé¢çš„ IP å°±æ˜¯æˆ‘ä»¬éœ€è¦çš„\n*å¦‚æœä½ åœ¨ docker-compose.yml ä¸­è‡ªå®šä¹‰äº†ç½‘æ¡¥ï¼Œé‚£ä¹ˆè‡ªå®šä¹‰ç½‘æ¡¥åç§°æ›¿æ¢æ‰ä¸Šé¢çš„ bridge å‚æ•°\n1 2 3 4 5 6 7 8 9 10 11 [ { \u0026#34;IPAM\u0026#34;: { \u0026#34;Config\u0026#34;: [ { \u0026#34;Gateway\u0026#34;: \u0026#34;xxxx:xxxx:xxxx:xx::x\u0026#34; } ] }, } ] è®¾ç½®ç®¡ç†å‘˜\nå›¾ç‰‡åˆ°37th\nå…¶å®ƒå‚è€ƒ [User] Linux æ–°å¢ä½¿ç”¨è€…ä¸¦è³¦äºˆå…¶ä½¿ç”¨ sudo çš„æ¬Šé™\nä¿æŠ¤å¥½ä½ çš„å°é¸¡ï¼ä¿å§†çº§æœåŠ¡å™¨å®‰å…¨æ•™ç¨‹ï¼\nmjjç‰ˆçš„linuxå…¥é—¨æ•™ç¨‹\nNginx Proxy Managerâ€”â€”å°è€Œç¾çš„å¤šå®¹å™¨è½¬å‘æ–¹æ¡ˆ\n","date":"2022-11-19T20:19:15+08:00","image":"https://picsum.photos/800/600.webp?random=6ec56286","permalink":"https://anodicseal.xyz/2022/11/19/misskey/","title":"Misskey"},{"content":" å®‰è£… PicGo 1 brew install picgo --cask åˆ›å»º GitHub å›¾åºŠä»“åº“ åç§°æ— æ‰€è°“ï¼Œè®°å¾—å‹¾é€‰ README\nç”Ÿæˆä»¤ç‰Œï¼ˆTokenï¼‰ åœ¨ Account-Settings-Developer Settings-Personal Access Tokens ä¸‹ç”Ÿæˆï¼ˆå‹¾é€‰ repoï¼‰å¹¶ä¿å­˜ï¼Œæˆ‘çš„Tokenï¼šï¼ˆéšè—ï¼‰\né…ç½® PicGo æµ‹è¯•å›¾åºŠ è®¾ç½®æˆåŠŸåç›´æ¥æŠŠå›¾ç‰‡ç²˜è´´è¿›æ–‡æ¡£å°±OK\nç›¸å…³å‚è€ƒ PicGo\n","date":"2022-10-21T23:29:38+08:00","image":"https://picsum.photos/800/600.webp?random=fa517d08","permalink":"https://anodicseal.xyz/2022/10/21/picture-bed/","title":"å€ŸåŠ© PicGo å’Œ GitHub å®ç°æ’å…¥å›¾ç‰‡"},{"content":"åŸºäº macOS Montereyï¼ŒHugo æ¡†æ¶å’Œ GitHub Pages ç½‘é¡µå¯„å­˜æœåŠ¡ï¼Œåšå®¢ä¸»é¢˜ä¸º Stackï¼Œæ­å»ºè¿‡ç¨‹å°½é‡ç®€å•ï¼ŒåŒæ—¶å‡å°‘åç»­éšæ‚£\né¢„è­¦ï¼šéå¸¸å•°å—¦\nå‰æœŸå‡†å¤‡ å®‰è£… Hugo 1 2 3 4 5 6 7 # å®‰è£… brew install hugo # æ£€æŸ¥å®‰è£…æ˜¯å¦æˆåŠŸ hugo version # è¿”å›â¬‡ï¸ hugo v0.104.1+extended darwin/arm64 BuildDate=unknown å®‰è£… Git åœ¨ Git ä¸‹è½½ã€å®‰è£…ç¨‹åºï¼ŒæŒ‰é»˜è®¤é€‰é¡¹å®‰è£…å³å¯\nè®¾ç½®ä½ çš„ç”¨æˆ·åå’Œé‚®ä»¶åœ°å€\n1 2 3 # å¡«ä½ çš„ GitHub ID å’Œæ³¨å†Œé‚®ç®± git config --global user.name \u0026#34;\u0026lt;username\u0026gt;\u0026#34; git config --global user.email user@example.com GitHub https://raw.githubusercontent.com/Falasool/blog-pic-bed/main/blog/new-public-repo-1.png\nhttps://raw.githubusercontent.com/Falasool/blog-pic-bed/main/blog/image-20221115113949496.png\nåˆ›å»ºå…¬å¼€ä»“åº“ å­˜æ”¾ç¼–è¯‘å¥½çš„é™æ€é¡µé¢\nåˆ›å»ºç§å¯†ä»“åº“ å­˜æ”¾æºç \nç»™ä¸¤ä¸ªä»“åº“ç»‘å®š SSH key ç”Ÿæˆ SSH key 1 ssh-keygen -t rsa -b 4096 -C \u0026#34;user@example.com\u0026#34; è¿™è¡Œå‘½ä»¤ meansï¼šç”Ÿæˆ SSH å¯†é’¥æ–‡ä»¶ - å¯†é’¥ç±»å‹ï¼ˆrsaï¼‰- å¯†é’¥é•¿åº¦ï¼ˆ4096ï¼‰ - æ³¨é‡Šï¼ˆuser@example.comï¼‰\nåœ¨ .ssh æ–‡ä»¶å¤¹é‡Œæ‰¾åˆ°ç”Ÿæˆçš„ SSH\næ·»åŠ å…¬é’¥ï¼šæŠŠ public key id_rsa_hugo_deploy.pub æ·»åŠ åˆ° .github.io ä»“åº“: 1 2 cd .ssh cat id_rsa_hugo_deploy.pub # æ˜¾ç¤ºæ–‡ä»¶å†…å®¹ æ·»åŠ ç§é’¥ï¼šPrivate Key æ·»åŠ åˆ° privateä»“åº“ï¼š è¿™é‡Œ Secrets å˜é‡åè¦ä¸€å®šæ˜¯ï¼š ACTIONS_DEPLOY_KEY ç»‘å®š Token åœ¨ Account- Settings- Developer Settings- Personal access tokens-Tokens(classic) é‡Œåˆ›å»º Tokenï¼Œè®°å¾—å‹¾é€‰ repo å’Œ workflowï¼Œå¹¶å¤åˆ¶ä¿å­˜ã€‚æˆ‘çš„ Token: ï¼ˆéšè—ï¼‰ åœ¨ç§æœ‰ä»“åº“ hugo-scources-settings-secrets-Actions åˆ›å»ºåä¸ºPERSONAL_TOKENï¼Œå€¼ä¸ºåˆšæ‰çš„ Token çš„Secretï¼Œè¿™æ ·å°±å®Œæˆäº† Token çš„è®¾ç½® æ­å»ºæ­¥éª¤ å…‹éš† private ä»“åº“åˆ°æœ¬åœ° æ–°å»º Hugo ç«™ç‚¹ åœ¨æœ¬åœ° hugo-sources æ–‡ä»¶å¤¹ä¸­æ‰§è¡Œ â¬‡ï¸ï¼Œåœ¨å½“å‰ç›®å½•ç”Ÿæˆ Hugo æºç \n1 hugo new site . --force æ‰¾åˆ° blog æ–‡ä»¶å¤¹ï¼Œæ‰“å¼€ä¼šå‘ç°ç»“æ„å¦‚ä¸‹\n1 2 3 4 5 6 7 8 9 blog â”œâ”€â”€ archetypes # é…ç½®æ–‡ä»¶ï¼Œå†³å®šåˆ›å»ºæ–°åšæ–‡æ—¶çš„è‡ªå¸¦æ ¼å¼ â”‚ â””â”€â”€ default.md â”œâ”€â”€ config.toml # ç½‘ç«™é…ç½®æ–‡ä»¶ â”œâ”€â”€ content # ç½‘ç«™å†…å®¹ï¼Œå…¨éƒ¨æ˜¯ markdown æ ¼å¼ â”œâ”€â”€ data â”œâ”€â”€ layouts # ç½‘ç«™æ¨¡æ¿ï¼Œä¼˜å…ˆäº themes/\u0026lt;THEME\u0026gt;/layouts â”œâ”€â”€ static # é™æ€èµ„æºï¼ˆcss/js/fonts/mediaç­‰ï¼‰ â””â”€â”€ themes Hugo ä¸»é¢˜ æœ‰äº†ä¸»é¢˜ï¼Œå†…å®¹æ‰ä¼šæ¸²æŸ“å‡ºæ¥\nåœ¨ github.com æœç´¢ hugo theme ï¼Œæˆ–åœ¨ Hugo Themes é€‰æ‹©ä½ å–œæ¬¢çš„ä¸»é¢˜ã€‚æˆ‘é€‰æ‹© stack ï¼ŒåŠŸèƒ½ä¸°å¯Œï¼Œæ”¯æŒå¤šç§è¯„è®ºç³»ç»Ÿï¼Œä½¿ç”¨äººæ•°å¤šbugå¥½è§£å†³\nfork ä¸»é¢˜ä»“åº“ï¼Œå¹¶ä½¿ç”¨ git submodule æ–¹å¼æ·»åŠ åˆ° themes é‡Œï¼Œè¿™æ ·æ–¹ä¾¿åç»­å¯¹ä¸»é¢˜çš„ä¿®æ”¹è¿›è¡Œå•ç‹¬ç»´æŠ¤ 1 2 3 # åœ¨hugo-sourcesç›®å½•ä¸‹ git init git submodule add https://github.com/Falasool/hugo-theme-stack themes/hugo-theme-stack æ›´æ–°ä¸»é¢˜ï¼š 1 2 3 4 # åˆå§‹åŒ– git submodule update --init --recursive # åŒæ­¥ä¸»é¢˜ä»“åº“çš„æœ€æ–°ä¿®æ”¹ git submodule update --remote åˆ é™¤æ ¹ç›®å½•ä¸‹çš„config.toml æ–‡ä»¶ï¼ŒæŠŠ ./themes/hugo-theme-stack/exampleSite/ é‡Œçš„ config.yaml å’Œ content è½¬ç§»åˆ°æ ¹ç›®å½•ä¸‹ï¼Œåœ¨ config.yaml ä¸­è¿›è¡Œç«™ç‚¹ç»†èŠ‚é…ç½® åˆ æ‰ examplesite/content/post/rich-content/index.mdï¼Œå› ä¸ºTwitter ç­‰ç­‰è¢«å¢™åº”ç”¨çš„API ä¸­å›½å¤§é™†æ— æ³•è®¿é—® Issus #191@CaiJimmy/hugo-theme-stack æœ¬åœ°é¢„è§ˆ 1 2 hugo server -D # åœ¨æµè§ˆå™¨æ‰“å¼€localhost:1313 é¢„è§ˆæ»¡æ„äº† Control+C ç»ˆæ­¢é¢„è§ˆ æ¨é€åˆ° GitHub 1 2 3 git add . git commit -m \u0026#34;first commit\u0026#34; git push -u origin main GitHub Actions é…ç½® åœ¨ GitHub çš„ Private ä»“åº“é¡µé¢ï¼Œåˆ‡æ¢åˆ° Actions tabï¼Œç‚¹å‡»set up a workflow yourselfï¼Œç²˜è´´ä»¥ä¸‹æ–‡ä»¶ï¼Œå¹¶ commit 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 name: Deploy Hugo Site to Github Pages on Main Branch on: push: branches: - main workflow_dispatch: schedule: # Runs everyday at 8:00 AM - cron: \u0026#34;0 0 * * *\u0026#34; jobs: build-deploy: runs-on: ubuntu-latest steps: - name: Checkout uses: actions/checkout@v2 with: submodules: true fetch-depth: 0 - name: Setup Hugo uses: peaceiris/actions-hugo@v2 with: hugo-version: \u0026#39;0.104.1\u0026#39; # æŸ¥çœ‹ä½ çš„ç‰ˆæœ¬æŠŠå®ƒæ›¿æ¢æ‰ï¼Œé˜²æ­¢å…¼å®¹é—®é¢˜ extended: true - name: Build run: hugo --minify - name: Deploy uses: peaceiris/actions-gh-pages@v3 with: PERSONAL_TOKEN: ${{ secrets.PERSONAL_TOKEN }} # è¿™é‡Œçš„ ACTIONS_DEPLOY_KEY åˆ™æ˜¯ä¸Šé¢è®¾ç½® Private Keyçš„å˜é‡å external_repository: Falasool/Falasool.github.io # Pages è¿œç¨‹ä»“åº“ publish_dir: \u0026#34;./public\u0026#34; keep_files: false # remove existing files publish_branch: main # deploying branch commit_message: ${{ github.event.head_commit.message }} cname: anodicseal.xyz # è¿™é‡Œè¦æ”¹æˆä½ çš„ä¸ªäººåŸŸåï¼Œæ²¡æœ‰å°±æŠŠè¿™è¡Œæ³¨é‡Šæ‰ åœ¨æœ¬åœ° hugo-sources ç›®å½•ä¸‹æ‰§è¡Œ git pull origin mainï¼ŒæŸ¥çœ‹æœ¬åœ°æ–‡ä»¶å¤¹ï¼Œå‡ºç°äº† .github/workflows/main.yml æ–‡ä»¶ æ£€æŸ¥æµæ°´çº¿æ˜¯å¦è¢«æ­£å¸¸è§¦å‘ï¼ˆæŸ¥çœ‹æµæ°´çº¿æ—¥å¿—ï¼‰ åšå®¢æ­å»ºå®Œæˆ\nä½¿ç”¨æ­¥éª¤ 1 2 3 4 5 6 7 8 9 # æ–°å»ºæ–‡ç«  hugo new post/\u0026lt;title\u0026gt;.md # æ‰“å¼€\u0026lt;title.md\u0026gt;ï¼Œç¼–è¾‘å¹¶ä¿å­˜ # æœ¬åœ°é¢„è§ˆ hugo server -D # æ²¡é—®é¢˜äº†å°±pushåˆ°è¿œç¨‹ä»“åº“ï¼ŒActionsä¼šè‡ªåŠ¨éƒ¨ç½² git add . git commit -m \u0026#34;test\u0026#34; git push origin main æ‹“å±• Github Actions å®ç°çš„ä¸‰ç§æ–¹æ¡ˆï¼š\ngithub_token deploy_key personal_token é€‚ç”¨æƒ…å†µå’Œå·®å¼‚è¯·å‚è€ƒ å®˜æ–¹æ–‡æ¡£\nç›¸å…³å‚è€ƒ Hugo æ­å»ºåšå®¢å®è·µ\nGit Submodule å‘½ä»¤ä¸ç†è§£\nGithub Pages + Hugo æ­å»ºä¸ªäººåšå®¢\nè‡ªåŠ¨å‘å¸ƒç³»ç»Ÿ\nGitHub Actions å…¥é—¨æ•™ç¨‹\nWorkflow syntax for GitHub Actions\nCI/CDæ˜¯ä»€éº¼ï¼Ÿä¸€ç¯‡èªè­˜CI/CDå·¥å…·åŠå„ªå‹¢ï¼Œå°‡æ—¥å¸¸ç‘£äº‹è‡ªå‹•åŒ–\nHugo + GitHub Actionï¼Œæ­å»ºä½ çš„åšå®¢è‡ªåŠ¨å‘å¸ƒç³»ç»Ÿ\nHugo æ­é… Github Actions å¯¦ç¾ Github Pages çš„è‡ªå‹•éƒ¨ç½²\nåˆ©ç”¨GitHub Actionå®ç°Hugoåšå®¢åœ¨GitHub Pagesè‡ªåŠ¨éƒ¨ç½²\nGitHubAction + Hugo è‡ªåŠ¨æ„å»ºå‘å¸ƒä¸ªäººåšå®¢\nä½¿ç”¨ Github Actions è‡ªåŠ¨å‘å¸ƒ hugo ç«™ç‚¹\n***\næŠ˜è…¾Hugo | GitHub Pages | Github Actionsè‡ªåŠ¨æ„å»ºå‘å¸ƒå…è´¹ä¸ªäººç½‘ç«™\nå°†Hugoé™æ€ç½‘ç«™éƒ¨ç½²åˆ°Github Pages\nç”¨ Hugo é…åˆ GitHub Actions å’Œ GitHub Pages æ­å»ºåšå®¢\n","date":"2022-10-21T21:28:27+08:00","image":"https://picsum.photos/800/600.webp?random=6e5ecc50","permalink":"https://anodicseal.xyz/2022/10/21/build-hugo-site-on-macos/","title":"Hugoï½œGithub Pagesï½œStackä¸»é¢˜ï½œæ­å»ºè®°å½•"},{"content":"ä»€ä¹ˆæ˜¯ Front Matter æ˜¯æŒ‡ .md æ–‡ä»¶æœ€ä¸Šé¢çš„è¿™ä¸€éƒ¨åˆ†å†…å®¹\n1 2 3 4 5 6 --- title: xxxxxx date: 2022-10-10 09:39:50 type: tags layout: tags= --- æ¯æ¬¡æ‰§è¡Œ hugo new å‘½ä»¤æ–°å»ºæ–‡ç« æ—¶ï¼ŒHugo ä¼šä» ./archetypes ä¸­å¯»æ‰¾å¯¹åº”çš„ Front Matter æ¨¡æ¿å¹¶è‡ªåŠ¨æ·»åŠ åˆ°æ–°å»ºæ–‡ä»¶çš„æœ€ä¸Šæ–¹\nFront Matter é‡Œçš„å‚æ•°å®šä¹‰äº†æ‰€åœ¨åšæ–‡çš„å¤–è§‚ã€åŠŸèƒ½\nå¸¸ç”¨ Front Matter è®¾ç½® æ²¡æœ‰å…´è¶£å®¢åˆ¶åŒ–å¯ä»¥å¤åˆ¶ä»¥ä¸‹ä»£ç ï¼Œæ·»åŠ è¿› ./archetypes/default.md æ–‡ä»¶\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 --- # ä½¿ç”¨æ—¶éœ€åˆ é™¤æ³¨é‡Šå’Œç©ºè¡Œ # åˆ›å»ºå’Œæ–‡ä»¶åç›¸åŒçš„æ–‡ç« æ ‡é¢˜ title: \u0026#34;{{ replace .Name \u0026#34;-\u0026#34; \u0026#34; \u0026#34; | title }}\u0026#34; description: \u0026#34;\u0026#34; # ä¼˜åŒ– URL slug: \u0026#34;{{ replace .Name \u0026#34;-\u0026#34; \u0026#34; \u0026#34; | title }}\u0026#34; author: [\u0026#34;Rubberduck\u0026#34;] type: post/draft/page date: {{ .Date }} draft: false # éšæœºåŒ¹é…ä¸€å¼ å›¾ç‰‡ image: https://picsum.photos/800/600.webp?random={{ substr (md5 (.Date)) 4 8 }} categories: [\u0026#34;Tutorials\u0026#34;] tags: [\u0026#34;Hugo\u0026#34;,\u0026#34;tech\u0026#34;] keywords: [\u0026#34;tutorials\u0026#34;, \u0026#34;Hugo\u0026#34;, \u0026#34;mac\u0026#34;,\u0026#34;tech\u0026#34;] metaAlignment: center coverMeta: in/out coverSize: partial coverCaption: \u0026#34;æ–‡ç« coverå›¾ç‰‡æè¿°\u0026#34; isCJKLanguage: true --- ä¸‹é¢å…·ä½“è¯´æ˜å„é¡¹å‚æ•°ï¼Œ\nFront Matter å†…å®¹ å‚æ•° æè¿° title æ ‡é¢˜ï¼Œé»˜è®¤ä¸æ–‡ä»¶åä¸€è‡´ date é»˜è®¤ä¸ºæ–‡ä»¶åˆ›å»ºæ—¥æœŸ type æ–‡ç« ç±»åˆ«ï¼Œå¯é€‰post/page/draftç­‰ç­‰ slug æŒ‡å®šæ–‡ç« ç½‘å€ update æ–‡ä»¶æ›´æ–°æ—¥æœŸ lastmod æ–‡ç« æœ€åæ›´æ–°æ—¥æœŸ description æ–‡ç« æè¿°ï¼Œä¼šè¢«æŠ“å»åšSEOæ”¾åœ¨HTMLçš„headerä¸­ categories åˆ†ç±»ï¼ˆä¸é€‚ç”¨äºåˆ†é¡µï¼‰ tags æ ‡ç­¾ï¼ˆä¸é€‚ç”¨äºåˆ†é¡µï¼‰ hidden æ˜¯å¦éšè—æ–‡ç« ï¼Œå€¼ä¸º true æ—¶è¾“å…¥æ­£ç¡®ç½‘å€å°±å¯ä»¥æŸ¥çœ‹ draft æ˜¯å¦ä¸ºè‰ç¨¿ï¼Œå€¼ä¸º true æ—¶ Hugo ä¸ç¼–è¯‘è¿™ä¸ªæ–‡ä»¶ layout æŒ‡å®šæ–‡ç« ä½¿ç”¨çš„æ¨¡æ¿ï¼Œä¸æŒ‡å®šçš„è¯ä¼šä½¿ç”¨ æ ¹ç›®å½•/_config.toml ä¸­çš„é»˜è®¤é…ç½® default_layout:post comments å¼€å¯æ–‡ç« è¯„è®ºåŠŸèƒ½ï¼Œé»˜è®¤ä¸º true permalink è¦†ç›–æ–‡ç« ç½‘å€ coverImage è®¾ç½®æ–‡ç« å°é¢å›¾ç‰‡ metaAlignment è®¾ç½®æ–‡ç« titleçš„ä½ç½® coverMeta æ–‡ç« titleæ”¾åœ¨å°é¢å›¾ç‰‡ä¸­å¤®è¿˜æ˜¯å¤–é¢ coverSize å°é¢å›¾ç‰‡å¤§å° å¦‚æœéœ€è¦æ·»åŠ  Hugo åˆ›å»ºçš„ .md æ–‡ä»¶çš„ Front Matter æ¨¡æ¿æ²¡æœ‰çš„å‚æ•°ï¼Œå¯ä»¥ç¼–è¾‘ archetypes æ–‡ä»¶å¤¹ä¸‹çš„ default.md æ–‡ä»¶\næ›´å¤šè¯·å‚è€ƒå®˜æ–¹æ–‡æ¡£ Hugoï½œFront Matter\nç›¸å…³å‚è€ƒ æ„Ÿè°¢å‰äººçš„è€•è€˜å’Œåˆ†äº«ï¼Œå¸Œæœ›æœ¬æ–‡ä¹Ÿèƒ½ç»™ä½ å¸¦æ¥ä¸€äº›å¸®åŠ© â¤ï¸\nè²¼èº«æ‰“é€ å€‹äººéƒ¨è½æ ¼ - 02. æ–‡ç«  Front Matter\nHugoä¹‹è·¯ 2 | hugo-theme-stack é…ç½® â€”â€” å‚è€ƒäº†åŒ¹é…éšæœºå›¾ç‰‡çš„ä»£ç \n","date":"2022-10-12T20:08:18+08:00","image":"https://picsum.photos/800/600.webp?random=5fe4fd89","permalink":"https://anodicseal.xyz/2022/10/12/hugo-front-matter/","title":"Hugo | Front Matter"},{"content":"å‰æœŸå‡†å¤‡ å®‰è£… Hugo æ‰“å¼€ Github ä¸­çš„ Hugo åº“ï¼Œä¸‹è½½æœ€æ–°çš„ç‰ˆæœ¬ï¼Œæœ¬æ¬¡ä¸‹è½½ï¼šhugo_extended_0.99.1_Windows-64bit.zip å› ä¸ºä¸€äº›ä¸»é¢˜éœ€è¦è¿›è¡Œ SCSS/SASS æ„å»ºï¼Œæ‰€ä»¥æ¨èä¸‹è½½ extended ç‰ˆæœ¬ï¼Œæ™®é€šç‰ˆæœ¬å¯èƒ½ä¼šæŠ¥é”™ï¼šyou need the extended version to build SCSS/SASS é…ç½®ç¯å¢ƒå˜é‡ åœ¨ æ§åˆ¶é¢æ¿ -\u0026gt; ç³»ç»Ÿ -\u0026gt; é«˜çº§ç³»ç»Ÿè®¾ç½® -\u0026gt; é«˜çº§ ä¸­æ‰¾åˆ°ç¯å¢ƒå˜é‡ åœ¨ç”¨æˆ·å˜é‡ä¸­æ‰¾åˆ° Path å˜é‡ï¼Œç‚¹å‡»ç¼–è¾‘ï¼Œåœ¨å¼¹å‡ºçš„çª—å£ä¸­é€‰æ‹©æ–°å»ºï¼Œè¾“å…¥ Hugo.exe æ–‡ä»¶çš„æ–‡ä»¶å¤¹è·¯å¾„ï¼ˆä¸è¦åŒ…æ‹¬ Hugo.exe æœ¬èº«ï¼‰ æµ‹è¯•é…ç½®æ˜¯å¦æˆåŠŸï¼šåœ¨ E:\\ ç©ºç™½å¤„å³é”®ï¼Œç‚¹å‡» Git Bash Here ï¼Œåœ¨å‘½ä»¤è¡Œä¸­è¾“å…¥ hugo version ï¼Œè‹¥è¿”å› Hugo ç‰ˆæœ¬å·ä¿¡æ¯ï¼Œè¯´æ˜é…ç½®æˆåŠŸ å®‰è£… Git åœ¨ Git ä¸‹è½½ã€å®‰è£…ç¨‹åºï¼ŒæŒ‰é»˜è®¤é€‰é¡¹å®‰è£…å³å¯\nè®¾ç½® åœ¨å¼€å§‹èœå•æ‰¾åˆ° Git Bash ï¼Œæ‰“å¼€è¾“å…¥ï¼š\n1 2 git config --global user.name \u0026#34;Your Name\u0026#34; git config --global user.email \u0026#34;email@example.com\u0026#34; é…ç½® SSH SSH å¯†é’¥ç”¨æ¥é“¾æ¥æœ¬åœ°å’Œ Git æœåŠ¡å™¨ï¼Œå®ƒæˆå¯¹ç”Ÿæˆï¼Œåˆ†åˆ«æ˜¯â€ å…¬é’¥ â€œå’Œâ€ ç§é’¥ â€œï¼Œæˆ‘ä»¬å°†å…¶ä¸­çš„â€ å…¬é’¥ â€œä¿å­˜åˆ° Git ä»“åº“åï¼Œå°±å¯ä»¥åœ¨ç”µè„‘ä¸Šå‘è¿™ä¸ª Git ä»“åº“æäº¤ä»£ç ã€‚\nç”Ÿæˆ SSH åœ¨ Git Bash Here é‡Œè¾“å…¥ï¼š\n1 ssh-keygen -t rsa -C\u0026#34;æ³¨å†Œ github è´¦å·æ—¶ä½¿ç”¨çš„é‚®ç®±\u0026#34; æŒ‰ç…§ç³»ç»Ÿæç¤ºæŒ‡å®šå¯†é’¥ä½ç½®ã€æ˜¯å¦éœ€è¦å¯†ç ï¼Œæ‡’å¾—è®¾ç½®å¯ä»¥ç›´æ¥å›è½¦ï¼Œæ˜¾ç¤ºå¦‚ä¸‹ç»“æœè¯´æ˜ SSH ç”ŸæˆæˆåŠŸï¼š\n1 2 Your identification has veen saved in id_rsa Your public key has been saved in id_rsa.pub è¿æ¥ SSH åœ¨ C:/Users/ç”¨æˆ·å/.ssh/ è·¯å¾„æ‰¾åˆ°å…¬é’¥ id_rsa.pub ï¼Œå³é”®ç”¨è®°äº‹æœ¬æ‰“å¼€ï¼Œå¤åˆ¶å…¨éƒ¨å†…å®¹åˆ° Github è´¦å· -\u0026gt; Settings -\u0026gt; SSH and GPG keys ï¼Œæ–°å»ºä¸€ä¸ª SSH å¯†é’¥ï¼ŒæŠŠå…¬é’¥ç²˜è´´ä¿å­˜ æµ‹è¯• SSH è¿æ¥æ˜¯å¦å®Œæˆï¼Œåœ¨ Git Bash Here è¾“å…¥ï¼š\n1 ssh -T git@github.com å¦‚æœè¿”å›ï¼š\n1 Hi username!YOu\u0026#39;ve successfully authenticated,but GitHub does not provide shell access. è¯´æ˜ SSH è¿æ¥æˆåŠŸ\nåˆ›å»º Github ä»“åº“ æ³¨æ„ä»“åº“åè¦å’Œ GitHub ç”¨æˆ·åä¸€è‡´ï¼Œæ¯”å¦‚ä½ æ˜¯ xiaohongï¼Œé‚£ä¹ˆä½ è¦è¾“å…¥ xiaohong.github.io ï¼Œæœ€ç»ˆä»“åº“çš„å®Œæ•´åæ˜¯ xiaohong/xiaohong.github.io\nå®‰è£… VSCode Visual Studio Code (ç®€ç§° VS Code / VSC) æ˜¯ä¸€æ¬¾å…è´¹å¼€æºçš„ç°ä»£åŒ–è½»é‡çº§ä»£ç ç¼–è¾‘å™¨\nåœ¨ å®˜æ–¹ä¸‹è½½åœ°å€ é€‰æ‹©ç›¸åº”çš„ç‰ˆæœ¬ä¸‹è½½ï¼ŒæŒ‰ç…§é»˜è®¤é€‰é¡¹å®‰è£…ï¼Œå®‰è£…æ±‰åŒ–æ’ä»¶ Chinese (Simplified) Language Pack for Visual Studio Code\nå®‰è£… Typoraï¼ˆå¯é€‰ï¼‰ Typora æ˜¯ä¸€æ¬¾è½»å‹ MarkDown ç¼–è¾‘å™¨ï¼Œå…¶å® VSCode å®‰è£… md æ’ä»¶åä¹Ÿèƒ½èƒœä»»å®ƒçš„å·¥ä½œï¼Œä½†æ˜¯æˆ‘ä»¬å°±è®©ä¸“ä¸šçš„ Typora åšä¸“ä¸šçš„äº‹å§\nåœ¨å®˜ç½‘ releases é¡µé¢è´­ä¹°ï¼Œæˆ–ç‚¹å‡» Dev/Beta Released -\u0026gt; ä¸‹æ‹‰åˆ°åº•ç«¯ old macOS beta/old Windows/Linux beta ä¸‹è½½ beta ç‰ˆ\nâš ï¸ å»ºè®®åœ¨åå¥½è®¾ç½®é‡Œï¼Œè®¾ç½®æ’å…¥å›¾ç‰‡æ—¶å¤åˆ¶åˆ°æŒ‡å®šè·¯å¾„ï¼ˆ./xx/ï¼‰ï¼Œè¿™æ ·å¤åˆ¶çš„å›¾ç‰‡å°±ä¼šè‡ªåŠ¨ä¿å­˜åœ¨å½“å‰æ–‡ä»¶å¤¹ä¸‹çš„xxæ–‡ä»¶å¤¹é‡Œï¼Œæ–¹ä¾¿åç»­ç®¡ç†ä¸è½¬ç§»ã€‚\nå¼€å§‹å»ºç«™ æ–°å»º Hugo ç½‘ç«™ æ–°å»ºä¸€ä¸ªæ–‡ä»¶å¤¹ç”¨æ¥å­˜æ”¾ Hugo ç½‘ç«™çš„æ–‡ä»¶ï¼Œä¾‹å¦‚ï¼šH:/HugoWebsite åœ¨ HugoWebsite æ–‡ä»¶å¤¹å†…ç©ºç™½å¤„ç‚¹å‡»å³é”®ï¼Œé€‰æ‹© Git Bush Here ï¼Œæ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼Œæ–°å»ºä¸€ä¸ª Hugo ç½‘ç«™ 1 hugo new site blog # blogæ˜¯ç½‘ç«™æ–‡ä»¶å¤¹å é€‰æ‹© Hugo ä¸»é¢˜ åœ¨ github.com æœç´¢ hugo theme ï¼Œæˆ–åœ¨ Hugo Themes é€‰æ‹©ä½ å–œæ¬¢çš„ä¸»é¢˜ã€‚æ­¤å¤„ä»¥ cactus ä¸¾ä¾‹\nâš ï¸ æ¨èå°†ä¸»é¢˜ä»“åº“ fork åˆ°è‡ªå·±çš„è´¦å·ï¼Œä½¿ç”¨ git submodule æ–¹å¼è¿›è¡Œä»“åº“è¿æ¥ï¼Œè¿™æ ·æ–¹ä¾¿åç»­å¯¹ä¸»é¢˜çš„ä¿®æ”¹è¿›è¡Œå•ç‹¬ç»´æŠ¤ï¼ˆå¦åˆ™\n1 2 3 cd blog git init git submodule add https://github.com/monkeyWzr/hugo-theme-cactus themes/hugo-theme-cactus âš ï¸ git clone å‘½ä»¤ä¹Ÿå¯ä»¥ï¼Œå°±æ˜¯ä¿®æ”¹å¯èƒ½ä¼šå’ŒåŸä¸»é¢˜å†²çªï¼Œä¸æ–¹ä¾¿ç‰ˆæœ¬ç®¡ç†å’Œåç»­æ›´æ–°ï¼Œåœ¨æ–‡ä»¶å¤¹ blog ç©ºç™½å¤„å³é”®ç‚¹å‡» Git Bush Here\n1 2 3 4 5 # è¿›å…¥ themes ç›®å½•ï¼Œå¦‚æœæ²¡æœ‰è¿™ä¸ªæ–‡ä»¶å¤¹ç”¨ mkdir -p themes è‡ªè¡Œåˆ›å»º cd themes # ä¸‹è½½ä¸»é¢˜åˆ° cactus æ–‡ä»¶å¤¹ä¸‹ git clone git@github.com:monkeyWzr/hugo-theme-cactus.git é…ç½®ä¸»é¢˜ å¤‡ä»½ blog æ–‡ä»¶å¤¹é‡Œçš„ config.toml æ–‡ä»¶ï¼Œç”¨ blog/themes/hugo-theme-cactus/exampleSite/ ä¸‹çš„ config.toml è¦†ç›– blog æ–‡ä»¶å¤¹ä¸‹çš„ config.toml ï¼Œç„¶åæ‰“å¼€ config.toml ä¿®æ”¹é…ç½®\nå¿…è¦çš„ä¿®æ”¹ 1 2 3 4 5 # ä¿®æ”¹ URL ä¸ºä½ çš„ GitHub ä»“åº“åç§° baseURL = \u0026#34;https://username.github.io\u0026#34; # è¿™é‡Œå¿…é¡»å’Œ themes æ–‡ä»¶å¤¹é‡Œçš„ä¸»é¢˜æ–‡ä»¶å¤¹åç§°ä¸€è‡´ï¼Œæ‰€ä»¥æŠŠä¸»é¢˜æ–‡ä»¶åä» hugo-theme-cactus ä¿®æ”¹ä¸º cactus theme = \u0026#34;cactus\u0026#34; æœ¬åœ°é¢„è§ˆ æ–°å»ºæ–‡ç«  åœ¨ç½‘ç«™æ–‡ä»¶æ ¹ç›®å½•ï¼šE:\\HugoWebsite\\blog ä¸‹æ‰§è¡Œï¼š\n1 hugo new post/first_article.md åˆ° blog/content/post é‡Œæ‰“å¼€å¹¶ç¼–è¾‘æ–‡ç« å†…å®¹ï¼Œä¿å­˜\nå¯åŠ¨ Hugo server 1 hugo server -D æ‰“å¼€ç½‘å€ http://localhost:1313/ è¿›è¡Œé¢„è§ˆï¼Œåœ¨ config.toml é‡Œè°ƒæ•´é¡µé¢æ•ˆæœ\néƒ¨ç½²åˆ° GitHub è¿›å…¥ E:\\HugoWebsite\\blog\\public ç›®å½•ï¼Œåˆå§‹åŒ– Git åº“\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 # è¿›å…¥ public æ–‡ä»¶å¤¹ cd public # åˆå§‹åŒ– git init # å°† git æœ¬åœ°åº“å…³è”è‡³è¿œç¨‹åº“ git remote add origin git@github.com:username/username.github.io.git # æäº¤ä¿®æ”¹ git commit -m \u0026#34;firstarticle\u0026#34; # æŸ¥çœ‹å½“å‰ä¿®æ”¹çŠ¶æ€ git status # æ·»åŠ æ‰€æœ‰ä¿®æ”¹è¿‡çš„æ–‡ä»¶ git add . # æäº¤åˆ°æœ¬åœ°åº“ï¼Œ\u0026#34;add first-post\u0026#34;æ˜¯æœ¬æ¬¡æäº¤å†…å®¹çš„è¯´æ˜ä¿¡æ¯ git commit -m\u0026#34;add first-post\u0026#34; # æäº¤åˆ°è¿œç¨‹åº“ git push origin main âœ¨ æ›¾ç» github çš„é»˜è®¤åˆ†æ”¯æ˜¯ masterï¼Œæ—¶é—´æ¯”è¾ƒä¹…çš„æ•™ç¨‹ã€Œæäº¤åˆ°è¿œç¨‹åº“ã€è¿™ä¸€æ­¥éƒ½æ˜¯git push origin master ï¼Œè¿™é‡Œè¦æ³¨æ„\næ—¥å¸¸ä½¿ç”¨åšå®¢è¦çŸ¥é“çš„ Front Matter ä»€ä¹ˆæ˜¯ Front Matter æ˜¯æŒ‡ .md æ–‡ä»¶æœ€ä¸Šé¢çš„è¿™ä¸€éƒ¨åˆ†å†…å®¹\ntitle: tags\ndate: 2019-08-13 09:39:50\ntype: tags\nlayout: tag\nFront Matter å†…å®¹ å‚æ•° æè¿° title æ ‡é¢˜ï¼Œé»˜è®¤ä¸æ–‡ä»¶åä¸€è‡´ date é»˜è®¤ä¸ºæ–‡ä»¶åˆ›å»ºæ—¥æœŸ slug æŒ‡å®šæ–‡ç« ç½‘å€ update æ–‡ä»¶æ›´æ–°æ—¥æœŸ lastmod æ–‡ç« æœ€åæ›´æ–°æ—¥æœŸ description æ–‡ç« æè¿°ï¼Œä¼šè¢«æŠ“å»åšSEOæ”¾åœ¨HTMLçš„headerä¸­ categories åˆ†ç±»ï¼ˆä¸é€‚ç”¨äºåˆ†é¡µï¼‰ tags æ ‡ç­¾ï¼ˆä¸é€‚ç”¨äºåˆ†é¡µï¼‰ hidden æ˜¯å¦éšè—æ–‡ç« ï¼Œå€¼ä¸º true æ—¶è¾“å…¥æ­£ç¡®ç½‘å€å°±å¯ä»¥æŸ¥çœ‹ draft æ˜¯å¦ä¸ºè‰ç¨¿ï¼Œå€¼ä¸º true æ—¶ Hugo ä¸ç¼–è¯‘è¿™ä¸ªæ–‡ä»¶ layout æŒ‡å®šæ–‡ç« ä½¿ç”¨çš„æ¨¡æ¿ï¼Œä¸æŒ‡å®šçš„è¯ä¼šä½¿ç”¨ æ ¹ç›®å½•/_config.toml ä¸­çš„é»˜è®¤é…ç½® default_layout:post comments å¼€å¯æ–‡ç« è¯„è®ºåŠŸèƒ½ï¼Œé»˜è®¤ä¸º true permalink è¦†ç›–æ–‡ç« ç½‘å€ coverImage è®¾ç½®æ–‡ç« å°é¢å›¾ç‰‡ metaAlignment è®¾ç½®æ–‡ç« titleçš„ä½ç½® coverMeta æ–‡ç« titleæ”¾åœ¨å°é¢å›¾ç‰‡ä¸­å¤®è¿˜æ˜¯å¤–é¢ coverSize å°é¢å›¾ç‰‡å¤§å° å¦‚æœéœ€è¦æ·»åŠ  Hugo åˆ›å»ºçš„ .md æ–‡ä»¶è‡ªå¸¦çš„ Front Matter æ¨¡æ¿æ²¡æœ‰çš„å‚æ•°ï¼Œå¯ä»¥ç¼–è¾‘ archetypes æ–‡ä»¶å¤¹ä¸‹çš„ default.md æ–‡ä»¶\næ›´å¤šè¯·å‚è€ƒHugoï½œFront Matter\nå¦‚ä½•æ–°å»ºæˆ–ä¿®æ”¹åšæ–‡ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 # åœ¨æ ¹ç›®å½•ï¼šE:/HugoWebsite/blog ä¸‹æ–°å»ºæ–‡ç« æˆ–ç¼–è¾‘æ–‡ç«  hugo new post/title.md # æœ¬åœ°é¢„è§ˆï¼Œhttp://localhost:1313/ hugo server -D # æ„å»º Hugo ç½‘ç«™ hugo # åˆ‡æ¢åˆ°ç›®å½•ï¼šE:/HugoWebsite/blog/public cd public # æäº¤ä¿®æ”¹åˆ°æœ¬åœ°åº“ git add . git commit -m\u0026#34;commit info\u0026#34; # æŠŠå†…å®¹æ‹‰ä¸‹æ¥ä»¥rebaseæ–¹å¼åˆå¹¶ git pull --rebase # å°†ä¿®æ”¹æ¨åˆ°è¿œç¨‹åº“ git push -u origin main å¦‚ä½•åˆ é™¤æ–‡ç«  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 # åœ¨ç›®å½• E:/HugoWebsite/blog/content/post å’Œ E:/HugoWebsite/blog/public æ‰¾åˆ°å¯¹åº”æ–‡ç« åˆ é™¤ # å…¶ä¸­publicä¸‹æ–‡ä»¶ä¸åˆ é™¤ä¸ä¼šå½±å“æ˜¾ç¤ºï¼Œåªæ˜¯æ–‡ä»¶å°±ä¼šä¸€ç›´å­˜åœ¨ï¼Œé™¤.gitåˆ é”™äº†ä¹Ÿä¸è¦ç´§ï¼Œhugoå‘½ä»¤ä¼šé‡å»º # æœ¬åœ°é¢„è§ˆï¼Œhttp://localhost:1313/ hugo server -D # æ„å»º Hugo ç½‘ç«™ hugo # åˆ‡æ¢åˆ°ç›®å½•ï¼šE:/HugoWebsite/blog/public # æäº¤ä¿®æ”¹åˆ°æœ¬åœ°åº“ git add . git commit -m\u0026#34;commit info\u0026#34; # æŠŠå†…å®¹æ‹‰ä¸‹æ¥ä»¥rebaseæ–¹å¼åˆå¹¶ git pull --rebase # å°†ä¿®æ”¹æ¨åˆ°è¿œç¨‹åº“ git push -u origin main è£…ä¿®æ²¡æœ‰æ­¢å¢ƒ è¯„è®ºç³»ç»Ÿç”¨ cactusï¼ŒåŸè£…ï¼å¯çˆ±ï¼\nï¼ˆ202210:æ¢äº†ä¸»é¢˜æ‰€ä»¥ä¸å†è¡¥å……äº†ï¼‰\næŠ¥é”™å’Œè§£å†³æ–¹æ³• ç›¸å…³å‚è€ƒ æ„Ÿè°¢å‰äººçš„è€•è€˜å’Œåˆ†äº«ï¼Œå¸Œæœ›æœ¬æ–‡ä¹Ÿèƒ½ç»™ä½ å¸¦æ¥ä¸€äº›å¸®åŠ© â¤ï¸\nGithub Pages + Hugo æ­å»ºä¸ªäººåšå®¢\nHugo | ä¸€èµ·åŠ¨æ‰‹æ­å»ºä¸ªäººåšå®¢å§\nè®°å½•ä¸€ä¸‹å¦‚ä½•ç”¨ Hugo å’Œ Github Page å»ºç«‹ç®€å•çš„åšå®¢ Blog\nHugo ä»å…¥é—¨åˆ°ä¼šç”¨\nå°ç™½å¦‚ä½•ä½æˆæœ¬å»ºç«‹ä¸ªäººç½‘ç«™æˆ–ä½œå“é›†ï¼ˆè¯¦ç»†æ•™ç¨‹ï¼‰\nä½¿ç”¨ Hugo å’Œ GitHub æ­å»ºåšå®¢\n***\nfront-matter ä½¿ç”¨è¯¦è§£\nhugo å»ºç«™å…¨æŒ‡å— | æˆ‘çš„ç¬¬ä¸€ä¸ªåšå®¢ç½‘ç«™\nåœ¨é™æ€ç½‘ç«™ä¸ŠåŒ…å«è¯„è®ºçš„å„ç§æ–¹æ³•\n***\nç‚ºä½ è‡ªå·±å­¸Gitï½œæ€éº¼æœ‰æ™‚å€™æ¨ä¸ä¸Šå»\nGit æŠŠæœ¬åœ°ä»“åº“ä¸ GitHub è¿œç¨‹ä»“åº“å…³è”è¿›è¡ŒåŒæ­¥\nå°† Git é»˜è®¤åˆ†æ”¯ä» master ä¿®æ”¹ä¸º main\n","date":"2022-10-12T16:06:44+08:00","image":"https://picsum.photos/800/600.webp?random=1912f23e","permalink":"https://anodicseal.xyz/2022/10/12/build-blog-site-use-hugo-win/","title":"Hugo | Github Pages ï½œ cactusä¸»é¢˜ | win10æ­å»ºè®°å½•"}]